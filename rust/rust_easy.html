<!DOCTYPE HTML>
<html lang="zh" class="sidebar-visible no-js rust">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Rust æ–°æ‰‹ - Jason Notes</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/custom/custom.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../index.html">Jason Notes</a></li><li class="chapter-item expanded "><a href="../ubuntu/ubuntu_setup.html">Ubuntu</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../ubuntu/command.html">Command</a></li><li class="chapter-item "><a href="../ubuntu/gcp.html">GCP ssh</a></li><li class="chapter-item "><a href="../ubuntu/wine.html">Wine</a></li></ol></li><li class="chapter-item expanded "><a href="../android/android.html">Android</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../android/install_sdk.html">SDK install</a></li><li class="chapter-item "><a href="../android/flutter.html">Flutter</a></li></ol></li><li class="chapter-item expanded "><a href="../tools/tools.html">Tools</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../tools/asciinema.html">asciinema æŠŠçµ‚ç«¯æ“ä½œéŒ„è£½æˆ gif å‹•ç•«</a></li><li class="chapter-item "><a href="../tools/finmind.html">Finmind</a></li><li class="chapter-item "><a href="../tools/add-enter-and-exit-trace-for-your-function.html">addr2line</a></li><li class="chapter-item "><a href="../tools/cmake.html">cmake</a></li><li class="chapter-item "><a href="../tools/network.html">Network</a></li><li class="chapter-item "><a href="../tools/python-pycryptodome-aes-symmetric-encryption-tutorial-examples.html">å¯¦ä½œ AES å°ç¨±å¼åŠ å¯†</a></li></ol></li><li class="chapter-item expanded "><a href="../html/html.html">HTML</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../html/vue.html">Vue</a></li></ol></li><li class="chapter-item expanded "><a href="../vim/vim.html">Vim</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../vim/copilot.html">copilot</a></li><li class="chapter-item "><a href="../vim/tabnine.html">tabnine</a></li></ol></li><li class="chapter-item expanded "><a href="../gdb/gdb.html">Gdb</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../gdb/å¸¸ç”¨æŒ‡ä»¤.html">å¸¸ç”¨æŒ‡ä»¤</a></li><li class="chapter-item "><a href="../gdb/jemalloc.html">jemalloc</a></li><li class="chapter-item "><a href="../gdb/graphs.html">graphs</a></li><li class="chapter-item "><a href="../gdb/rust-gdb.html">rust gdb</a></li><li class="chapter-item "><a href="../gdb/qemu-gdb-risc-v64.html">qemu-gdb-risc-v64-kernel</a></li><li class="chapter-item "><a href="../gdb/go-rust-gdb-debug.html">ä½¿ç”¨gdb è¿½è¹¤go/rustç¨‹å¼ç¢¼</a></li><li class="chapter-item "><a href="../gdb/gdb-function-trace-to-flowchart-guide.html">GDBå‡½æ•¸èª¿ç”¨è»Œè·¡åˆ†æèˆ‡æµç¨‹åœ–ç”Ÿæˆå®Œæ•´æŒ‡å—</a></li></ol></li><li class="chapter-item expanded "><a href="../c++/cpp.html">C++</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../c++/benchmark.html">benchmark</a></li><li class="chapter-item "><a href="../c++/ä¹˜ä»¥0.01å’Œé™¤ä»¥100å“ªå€‹å¿«.html">ä¹˜ä»¥ 0.01 å’Œé™¤ä»¥ 100 å“ªå€‹å¿«</a></li><li class="chapter-item "><a href="../c++/smart_pointer.html">Smart pointer</a></li><li class="chapter-item "><a href="../c++/l&rvalue.html">L&R value</a></li><li class="chapter-item "><a href="../c++/move.html">Move</a></li><li class="chapter-item "><a href="../c++/CAS.html">CAS</a></li><li class="chapter-item "><a href="../c++/HFT.html">HFT</a></li><li class="chapter-item "><a href="../c++/cpp_note.html">Note</a></li><li class="chapter-item "><a href="../c++/é«˜æ€§èƒ½ç¨‹å¼è¨­è¨ˆå¯¦æˆ°.html">é«˜æ€§èƒ½ç¨‹å¼è¨­è¨ˆå¯¦æˆ°</a></li><li class="chapter-item "><a href="../c++/å¦‚ä½•é«˜æ•ˆåœ°å„²å­˜ä¸¦æ“ä½œè¶…å¤§è¦æ¨¡.html">å¦‚ä½•é«˜æ•ˆåœ°å„²å­˜ä¸¦æ“ä½œè¶…å¤§è¦æ¨¡</a></li><li class="chapter-item "><a href="../c++/UC_CAPITAL.html">UC_CAPITAL</a></li><li class="chapter-item "><a href="../c++/cpp-smart-pointers-guide.html">unique_ptr vs shared_ptr</a></li><li class="chapter-item "><a href="../c++/cpp-move-semantics-guide.html">C++ Move èªæ„å®Œæ•´æŒ‡å—</a></li><li class="chapter-item "><a href="../c++/interview.html">interview</a></li></ol></li><li class="chapter-item expanded "><a href="../mojo/mojo.html">Mojo</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../mojo/mojo_crawler_guide.html">Mojo çˆ¬èŸ²å®Œæ•´æŒ‡å—</a></li></ol></li><li class="chapter-item expanded "><a href="../riscv/riscv.html">RISC-V</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../riscv/qemu_riscv_linux.html">QEMUä¸Šé‹è¡ŒRISV-V Linux</a></li><li class="chapter-item "><a href="../riscv/qemi_gdb.html">QEMU GDB</a></li><li class="chapter-item "><a href="../riscv/qemu_gdb_lab.html">Qemu Gdb Lab</a></li></ol></li><li class="chapter-item expanded "><a href="../centos/centos.html">CentOS</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../centos/tqdb_setup.html">TQDB å®‰è£ç´€éŒ„</a></li></ol></li><li class="chapter-item expanded "><a href="../ssh/ssh.html">SSH</a></li><li class="chapter-item expanded "><a href="../network/socket.html">Network</a></li><li class="chapter-item expanded "><a href="../docker/docker_helloworld.html">Docker</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../docker/docker.html">Docker åŸºæœ¬æ•™å­¸</a></li><li class="chapter-item "><a href="../docker/example.html">ç°¡å–®ç¯„ä¾‹</a></li><li class="chapter-item "><a href="../docker/creating-the-perfect-python-dockerfile.html">Perfect python dockerfile</a></li><li class="chapter-item "><a href="../docker/dockerfile-from-docker-image.html">ç”± Docker image åæ¨å…¶ Dockerfile</a></li><li class="chapter-item "><a href="../docker/python_connect_redis.html">Pythoné€£æ¥Redis</a></li><li class="chapter-item "><a href="../docker/command.html">Command</a></li><li class="chapter-item "><a href="../docker/docker_compose.html">Docker compose</a></li><li class="chapter-item "><a href="../docker/docker_compse_example.html">Docker compose example</a></li><li class="chapter-item "><a href="../docker/python_redis.html">Python-Redis</a></li><li class="chapter-item "><a href="../docker/redash.html">Redash</a></li><li class="chapter-item "><a href="../docker/clickhouse.html">ClickHouse</a></li><li class="chapter-item "><a href="../docker/clickhouse-setup.html">clickhouse-setup</a></li><li class="chapter-item "><a href="../docker/python_run_from_local.html">Docker run local</a></li><li class="chapter-item "><a href="../docker/redpanda.html">Redpanda</a></li><li class="chapter-item "><a href="../docker/gcc.html">é‹è¡Œæœ€æ–°ç‰ˆGCC</a></li></ol></li><li class="chapter-item expanded "><a href="../rust/rust.html">Rust</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../rust/note.html">Rustç­†è¨˜</a></li><li class="chapter-item "><a href="../rust/basic.html">Rust åŸºæœ¬æ•™å­¸</a></li><li class="chapter-item "><a href="../rust/ownership.html">Rust æ‰€æœ‰æ¬Šç³»çµ±</a></li><li class="chapter-item "><a href="../rust/lifetime.html">Rust ç”Ÿå‘½é€±æœŸ (Lifetime)</a></li><li class="chapter-item "><a href="../rust/type.html">Rust å‹åˆ¥ç³»çµ±</a></li><li class="chapter-item "><a href="../rust/rust_setup.html">Rust Tools</a></li><li class="chapter-item "><a href="../rust/polars.html">Polars</a></li><li class="chapter-item "><a href="../rust/rust_call_c.html">Rust call C</a></li><li class="chapter-item "><a href="../rust/pyo3.html">PyO3</a></li><li class="chapter-item "><a href="../rust/10-rust-an-introduction.html">çµ¦ C++ ä½¿ç”¨è€…çš„ Rust ç°¡ä»‹</a></li><li class="chapter-item "><a href="../rust/å¯è¦–åŒ–Rustå„è³‡æ–™çµæ§‹çš„è¨˜æ†¶é«”ä½ˆå±€.html">å¯è¦–åŒ–Rustå„è³‡æ–™çµæ§‹çš„è¨˜æ†¶é«”ä½ˆå±€</a></li><li class="chapter-item "><a href="../rust/rust_note.html">å­¸ç¿’é †åº</a></li><li class="chapter-item "><a href="../rust/overview.html">å¤§å±€è§€</a></li><li class="chapter-item "><a href="../rust/String.html">ç†è§£å­—ä¸²</a></li><li class="chapter-item "><a href="../rust/easy_rust.html">Easy Rust</a></li><li class="chapter-item expanded "><a href="../rust/rust_easy.html" class="active">Rust æ–°æ‰‹</a></li><li class="chapter-item "><a href="../rust/module.html">Rust æ¨¡çµ„çµæ§‹</a></li><li class="chapter-item "><a href="../rust/rust_memory.html">Rustèˆ‡è¨˜æ†¶é«”</a></li><li class="chapter-item "><a href="../rust/rust_vs_cpp.html">Rust vs C++èªæ³•</a></li><li class="chapter-item "><a href="../rust/rust_file_format.html">Rust æª”æ¡ˆæ ¼å¼</a></li><li class="chapter-item "><a href="../rust/rust-an-introduction-in-oop.html">Rust OO</a></li><li class="chapter-item "><a href="../rust/rust-an-introduction-smart-pointer.html">Rust Pointer</a></li><li class="chapter-item "><a href="../rust/pointer.html">Pointer</a></li><li class="chapter-item "><a href="../rust/copy_trait.html">Copy Trait</a></li><li class="chapter-item "><a href="../rust/binary_lib.html">Rust å‡½æ•¸åº«/åŸ·è¡Œæª”</a></li><li class="chapter-item "><a href="../rust/reqwest.html">Reqwest</a></li><li class="chapter-item "><a href="../rust/print-function-name-dump-stack.html">å°å‡ºå‡½æ•¸åç¨±</a></li><li class="chapter-item "><a href="../rust/criterion.html">criterion</a></li><li class="chapter-item "><a href="../rust/Rustçš„ç²¾é«“.html">Rustçš„ç²¾é«“</a></li><li class="chapter-item "><a href="../rust/30å¤©æ·±å…¥æ·ºå‡ºRustç³»åˆ—.html">30å¤©æ·±å…¥æ·ºå‡ºRustç³»åˆ—</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../rust/30å¤©æ·±å…¥æ·ºå‡ºRustç³»åˆ—/rust_30_day.html">Rust 30 Day</a></li><li class="chapter-item "><a href="../rust/30å¤©æ·±å…¥æ·ºå‡ºRustç³»åˆ—/Move_Borrow_Ownership.html">è®Šæ•¸çš„æ‰€æœ‰æ¬Šèˆ‡å€Ÿå‡ºè®Šæ•¸</a></li><li class="chapter-item "><a href="../rust/30å¤©æ·±å…¥æ·ºå‡ºRustç³»åˆ—/Lifetime.html">Lifetimeï¼š Borrow çš„å­˜æ´»æ™‚é–“</a></li></ol></li><li class="chapter-item "><a href="../rust/cpp_vs_rust_comparison.html">C++ vs. Rust: å…¨é¢ç‰¹æ€§æ¯”è¼ƒ</a></li><li class="chapter-item "><a href="../rust/cpp-move-vs-rust-ownership.html">C++ Move èªç¾© vs Rust æ‰€æœ‰æ¬Šç³»çµ±çš„æ ¸å¿ƒå·®ç•°</a></li><li class="chapter-item "><a href="../rust/Rust-RESTful-API-å®Œæ•´é–‹ç™¼æŒ‡å—.html">Rust-RESTful-API-å®Œæ•´é–‹ç™¼æŒ‡å—</a></li><li class="chapter-item "><a href="../rust/Rust-self-Self-èˆ‡-C++-this-å°æ¯”æŒ‡å—.html">Rust-self-Self-èˆ‡-C++-this-å°æ¯”æŒ‡å—</a></li><li class="chapter-item "><a href="../rust/rust-derive-traits-comparison.html">Rust Derive Traits æ¯”è¼ƒï¼šè‡ªå‹•ç”Ÿæˆ vs æ‰‹å‹•å¯¦ä½œ</a></li><li class="chapter-item "><a href="../rust/rust_traits_explained.html">Rust Traits ç™½è©±è§£é‡‹ï¼šèˆ‡ C++ çš„æ¯”è¼ƒ</a></li><li class="chapter-item "><a href="../rust/rust_trait_impl_markdown.html">Rust ä¸­ trait å’Œ impl çš„å·®ç•°</a></li><li class="chapter-item "><a href="../rust/rust_cpp_comparison_md.html">Rust vs C++ è©³ç´°å°æ¯”æŒ‡å—</a></li><li class="chapter-item "><a href="../rust/rust_module_system_markdown.html">Rust æ¨¡çµ„ç³»çµ±å®Œæ•´æŒ‡å—</a></li><li class="chapter-item "><a href="../rust/ownership_vs_borrowing_guide.html">Rust æ“æœ‰æ¬Š vs å€Ÿç”¨ï¼šç”Ÿå‘½é€±æœŸå•é¡ŒæŒ‡å—ğŸ¦€</a></li><li class="chapter-item "><a href="../rust/rust_ownership_guide.html">Rust æ‰€æœ‰æ¬Šç³»çµ± - ç”Ÿæ´»åŒ–è©³è§£</a></li><li class="chapter-item "><a href="../rust/rust_ownership_complete_guide.html">Rust æ‰€æœ‰æ¬Šå®Œæ•´æŒ‡å— - å¾åŸºç¤åˆ°ç²¾é€š</a></li><li class="chapter-item "><a href="../rust/rust_memory_guide.html">Rust è¨˜æ†¶é«”é…ç½®æŒ‡å—ï¼šStack vs Heap</a></li><li class="chapter-item "><a href="../rust/rust_wrappers_guide.html">Rust åŒ…è£é¡å‹ç™½è©±æŒ‡å—ğŸ“¦</a></li></ol></li><li class="chapter-item expanded "><a href="../go/go.html">Go</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../go/note.html">Golang  Note</a></li><li class="chapter-item "><a href="../go/pytago.html">pytago</a></li><li class="chapter-item "><a href="../go/Goç·¨ç¨‹å¯¦æˆ°æ´¾åŸºç¤å…¥é–€.html">Goç·¨ç¨‹å¯¦æˆ°æ´¾åŸºç¤å…¥é–€</a></li><li class="chapter-item "><a href="../go/Goç·¨ç¨‹å¯¦æˆ°æ´¾Webé–‹ç™¼åŸºç¤.html">Goç·¨ç¨‹å¯¦æˆ°æ´¾Webé–‹ç™¼åŸºç¤</a></li><li class="chapter-item "><a href="../go/golang_debugger.html">Golang Deubgger</a></li><li class="chapter-item "><a href="../go/golang-go-module-tutorial.html">å¾ä¸€çŸ¥åŠè§£åˆ°ç•¥æ‡‚ Go modules</a></li><li class="chapter-item "><a href="../go/go_mod.html">Go modules</a></li><li class="chapter-item "><a href="../go/trace.html">Golangå¤§æ®ºå™¨ä¹‹è·Ÿè¹¤å‰–ætrace</a></li><li class="chapter-item "><a href="../go/Coroutine.html">è¡Œç¨‹ã€åŸ·è¡Œç·’ã€å”ç¨‹ï¼Œå‚»å‚»åˆ†å¾—æ¸…æ¥šï¼</a></li><li class="chapter-item "><a href="../go/goroutine-and-channel.html">Goä½µç™¼</a></li><li class="chapter-item "><a href="../go/websocket.html">Websocket</a></li><li class="chapter-item "><a href="../go/returning-pointer-from-a-function-in-go.html">Returning Pointer from a Function in Go</a></li><li class="chapter-item "><a href="../go/golang-memory-management.html">GC å…¨é¢è§£æ</a></li><li class="chapter-item "><a href="../go/golang-goroutine.html">Goroutine èˆ‡ GMP åŸç†å…¨é¢åˆ†æ</a></li><li class="chapter-item "><a href="../go/oo.html">OO</a></li><li class="chapter-item "><a href="../go/mutex-rwmutex.html">sync.Mutex å’Œ sync.RWMutex</a></li><li class="chapter-item "><a href="../go/interface.html">interface</a></li><li class="chapter-item "><a href="../go/example.html">Example</a></li><li class="chapter-item "><a href="../go/LiveKit.html">LiveKit</a></li></ol></li><li class="chapter-item expanded "><a href="../ml/ml.html">ML</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../ml/pytorch.html">Pytorch</a></li><li class="chapter-item "><a href="../ml/pytorch_setup.html">Pytorch å®‰è£</a></li><li class="chapter-item "><a href="../ml/deap.html">Deap</a></li><li class="chapter-item "><a href="../ml/cudf.html">CUDF</a></li><li class="chapter-item "><a href="../ml/åˆæ¢åŸºå› æ¼”ç®—æ³•.html">åˆæ¢åŸºå› æ¼”ç®—æ³•-ç”¨ OneMax å•é¡Œç¤ºç¯„</a></li><li class="chapter-item "><a href="../ml/ç°¡å–®è§£é‡‹æ¢¯åº¦ä¸‹é™æ³•.html">ç°¡å–®è§£é‡‹æ¢¯åº¦ä¸‹é™æ³•</a></li><li class="chapter-item "><a href="../ml/æ¢¯åº¦ä¸‹é™æ³•_gradient_descent.html">æ¢¯åº¦ä¸‹é™æ³• gradient descent</a></li><li class="chapter-item "><a href="../ml/æ¢¯åº¦æœ€ä½³è§£ç›¸é—œç®—æ³•.html">æ¢¯åº¦æœ€ä½³è§£ç›¸é—œç®—æ³•</a></li><li class="chapter-item "><a href="../ml/åŸºæ–¼DEAPåº«çš„Pythoné€²åŒ–æ¼”ç®—æ³•å¾å…¥é–€åˆ°å…¥åœŸ.html">åŸºæ–¼DEAPåº«çš„Pythoné€²åŒ–æ¼”ç®—æ³•å¾å…¥é–€åˆ°å…¥åœŸ</a></li><li class="chapter-item "><a href="../ml/GA.html">GA</a></li><li class="chapter-item "><a href="../ml/XGBoost.html">XGBoost</a></li><li class="chapter-item "><a href="../ml/YOLO.html">YOLO</a></li><li class="chapter-item "><a href="../ml/yolov8æ‰‹å‹¢è­˜åˆ¥.html">YOLOv8æ‰‹å‹¢è­˜åˆ¥</a></li><li class="chapter-item "><a href="../ml/Roboflow.html">Roboflow</a></li></ol></li><li class="chapter-item expanded "><a href="../python/python.html">Python</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../python/Poetryå®Œå…¨å…¥é–€æŒ‡å—.html">Poetryå®Œå…¨å…¥é–€æŒ‡å—</a></li><li class="chapter-item "><a href="../python/æ­å»ºgRPCæœå‹™.html">æ­å»ºgRPCæœå‹™</a></li><li class="chapter-item "><a href="../python/python_debugger.html">Python Debugger</a></li><li class="chapter-item "><a href="../python/decorator.html">Python decorator</a></li><li class="chapter-item "><a href="../python/python-decorator.html">è£é£¾å™¨çœ‹é€™ä¸€ç¯‡å°±å¤ äº†</a></li><li class="chapter-item "><a href="../python/import-concept.html">import-concept</a></li><li class="chapter-item "><a href="../python/process_thread.html">Process/Threadå„ªç¼ºé»</a></li><li class="chapter-item "><a href="../python/processing_communcation.html">Processing é€šè¨Š</a></li><li class="chapter-item "><a href="../python/condition.html">Pythonä¸­çš„waitå’Œnotify</a></li><li class="chapter-item "><a href="../python/ç”Ÿç”¢è€…æ¶ˆè²»è€…æ¨¡å¼.html">ç”Ÿç”¢è€…æ¶ˆè²»è€…æ¨¡å¼</a></li><li class="chapter-item "><a href="../python/Loguru.html">Loguru</a></li><li class="chapter-item "><a href="../python/cython.html">Cython</a></li><li class="chapter-item "><a href="../python/WebSocket_reconnect.html">Python WebSocketé•·é€£æ¥å¿ƒè·³èˆ‡çŸ­é€£æ¥</a></li><li class="chapter-item "><a href="../python/bloomrpc.html">bloomrpc</a></li><li class="chapter-item "><a href="../python/concurrent.futures.html">Concurrent futures</a></li><li class="chapter-item "><a href="../python/schedule.html">ä»»å‹™èª¿åº¦</a></li><li class="chapter-item "><a href="../python/plot/plot.html">Plot</a></li><li class="chapter-item "><a href="../python/plot/dash.html">Dash</a></li><li class="chapter-item "><a href="../python/Rust_bindings_for_Python.html">Rust bindings for Python</a></li><li class="chapter-item "><a href="../python/pandas.html">Pandas</a></li><li class="chapter-item "><a href="../python/coroutine.html">Coroutine</a></li><li class="chapter-item "><a href="../python/finmind.html">FinMind</a></li><li class="chapter-item "><a href="../python/telegram_bot.html">Telegram Bot</a></li><li class="chapter-item "><a href="../python/python-different-ways-to-kill-a-thread.html">Different ways kill thread</a></li><li class="chapter-item "><a href="../python/websocket_client_server.html">Websocket client/server</a></li><li class="chapter-item "><a href="../python/poetry.html">å¾é›¶é–‹å§‹ä½¿ç”¨ Poetry</a></li><li class="chapter-item "><a href="../python/fil-memory-usage-profiler.html">Fil-memory-usage-profiler</a></li><li class="chapter-item "><a href="../python/plot.html">ç¹ªåœ–</a></li><li class="chapter-item "><a href="../python/shioaji.html">æ°¸è±shioaji</a></li><li class="chapter-item "><a href="../python/other.html">Other</a></li></ol></li><li class="chapter-item expanded "><a href="../mermaid/mermaid.html">Mermaid</a></li><li class="chapter-item expanded "><a href="../linux_system/linux_system.html">Linux System</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../linux_system/1_day_socket.html">Socket</a></li><li class="chapter-item "><a href="../linux_system/cgroup.html">Cgroup</a></li><li class="chapter-item "><a href="../linux_system/perf.html">Perf</a></li><li class="chapter-item "><a href="../linux_system/è‡ªè£½Lib.html">build Lib</a></li><li class="chapter-item "><a href="../linux_system/performance.html">performance</a></li></ol></li><li class="chapter-item expanded "><a href="../strategy/bollmaker.html">Strategy</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../strategy/é€ å¸‚/market_market.html">é€ å¸‚</a></li><li class="chapter-item "><a href="../strategy/tw_futures.html">è‡ºæŒ‡</a></li><li class="chapter-item "><a href="../strategy/arbitrage.html">å¥—åˆ©</a></li><li class="chapter-item "><a href="../strategy/é…å°äº¤æ˜“.html">é…å°äº¤æ˜“</a></li><li class="chapter-item "><a href="../strategy/æµ·é¾œäº¤æ˜“.html">æµ·é¾œäº¤æ˜“</a></li><li class="chapter-item "><a href="../strategy/è‚¡æµ·ç­‹è‚‰äºº.html">è‚¡æµ·ç­‹è‚‰äºº</a></li><li class="chapter-item "><a href="../strategy/å¦‚ä½•é¿å…éæ“¬åˆ.html">å¦‚ä½•é¿å…éæ“¬åˆ</a></li><li class="chapter-item "><a href="../strategy/å¤šç©ºæ“ä½œè¡“.html">å¤šç©ºæ“ä½œè¡“</a></li><li class="chapter-item "><a href="../strategy/è³‡é‡‘æ§ç®¡æ‰æ˜¯ç‹é“.html">è³‡é‡‘æ§ç®¡æ‰æ˜¯ç‹é“</a></li><li class="chapter-item "><a href="../strategy/00713_00675Læ­£äºŒèœˆèš£ç­–ç•¥.html">æ­£äºŒèœˆèš£ç­–ç•¥</a></li><li class="chapter-item "><a href="../strategy/è³ªæŠ¼00713+æ­£äºŒ.html">è³ªæŠ¼00713+æ­£äºŒ</a></li><li class="chapter-item "><a href="../strategy/phcebus/phcebus.html">phcebus</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../strategy/phcebus/è²å¼æ€è€ƒ.html">è²å¼æ€è€ƒ</a></li><li class="chapter-item "><a href="../strategy/phcebus/è²·è‚¡3å¿ƒæ³•.html">è²·è‚¡3å¿ƒæ³•</a></li></ol></li><li class="chapter-item "><a href="../strategy/Option/option.html">é¸æ“‡æ¬Š</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../strategy/Option/option_note.html">Option note</a></li></ol></li><li class="chapter-item "><a href="../strategy/vectorbt.html">VectorBT</a></li><li class="chapter-item "><a href="../strategy/orderbook.html">Orderbook</a></li><li class="chapter-item "><a href="../strategy/é¸è‚¡æ¢ä»¶.html">é¸è‚¡æ¢ä»¶</a></li><li class="chapter-item "><a href="../strategy/å¦‚ä½•é€²å ´.html">å¦‚ä½•é€²å ´</a></li><li class="chapter-item "><a href="../strategy/å¦‚ä½•å‡ºå ´.html">å¦‚ä½•å‡ºå ´</a></li><li class="chapter-item "><a href="../strategy/å»ºå€‰åŠ ç¢¼.html">å»ºå€‰åŠ ç¢¼</a></li><li class="chapter-item "><a href="../strategy/DT.html">ç•¶æ²–</a></li><li class="chapter-item "><a href="../strategy/ç•¶æ²–åšç©º.html">ç•¶æ²–åšç©º</a></li><li class="chapter-item "><a href="../strategy/æŠ„åº•.html">æŠ„åº•</a></li><li class="chapter-item "><a href="../strategy/éº»é“æ˜/éº»é“æ˜.html">éº»é“æ˜</a></li><li class="chapter-item "><a href="../strategy/è³ºè´å¤§ç›¤çš„å‹•èƒ½æŠ•è³‡æ³•.html">è³ºè´å¤§ç›¤çš„å‹•èƒ½æŠ•è³‡æ³•</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../strategy/éº»é“æ˜/å‡çªç ´.html">å‡çªç ´</a></li></ol></li><li class="chapter-item "><a href="../strategy/å¥‡æ­£/å¥‡æ­£.html">å¥‡æ­£</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../strategy/å¥‡æ­£/è³‡é‡‘æ§ç®¡èˆ‡è©¦å–®ç­–ç•¥.html">è³‡é‡‘æ§ç®¡èˆ‡è©¦å–®ç­–ç•¥</a></li><li class="chapter-item "><a href="../strategy/å¥‡æ­£/å¦‚ä½•å‡ºå ´.html">å¦‚ä½•å‡ºå ´</a></li></ol></li><li class="chapter-item "><a href="../strategy/ptt_stock/a0808996.html">PTT Stock</a></li><li class="chapter-item "><a href="../strategy/Book/JG.html">JG</a></li><li class="chapter-item "><a href="../strategy/bnf.html">BNF</a></li><li class="chapter-item "><a href="../strategy/cis.html">CIS</a></li><li class="chapter-item "><a href="../strategy/GA.html">GA</a></li><li class="chapter-item "><a href="../strategy/stock.html">Stock</a></li><li class="chapter-item "><a href="../strategy/note.html">Resource</a></li><li class="chapter-item "><a href="../strategy/nansen.html">Nansen</a></li><li class="chapter-item "><a href="../strategy/example.html">Example</a></li><li class="chapter-item "><a href="../strategy/other.html">Other</a></li><li class="chapter-item "><a href="../strategy/sample.html">Sample</a></li><li class="chapter-item "><a href="../strategy/shioaji.html">shioaji æ¨¡æ“¬</a></li><li class="chapter-item "><a href="../strategy/grid.html">Grid</a></li><li class="chapter-item "><a href="../strategy/pine-script.html">pine-script</a></li><li class="chapter-item "><a href="../strategy/æ‹¾äººç‰™æ…§.html">æ‹¾äººç‰™æ…§</a></li><li class="chapter-item "><a href="../strategy/sharpe_ratio.html">å¤æ™®å€¼</a></li><li class="chapter-item "><a href="../strategy/display_mae_mfe_analysis.html">MAE&MFEåˆ†æ</a></li><li class="chapter-item "><a href="../strategy/æµ·é¾œæŠ•è³‡æ³•å‰‡.html">æµ·é¾œæŠ•è³‡æ³•å‰‡</a></li><li class="chapter-item "><a href="../strategy/edge-ratio-follow-application.html">å½ˆæ€§é€²å‡ºå ´çš„åˆ¤æ–·</a></li><li class="chapter-item "><a href="../strategy/ä¸‰å¿ƒæ³•é †å‹¢æ“ä½œé™³æ—å…ƒ10å¹´è³‡ç”¢ç¿»10å€.html">ä¸‰å¿ƒæ³•é †å‹¢æ“ä½œé™³æ—å…ƒ10å¹´è³‡ç”¢ç¿»10å€</a></li><li class="chapter-item "><a href="../strategy/Jump.html">JUMP</a></li><li class="chapter-item "><a href="../strategy/å¼µæ¾å…æŠ•è³‡å¿ƒæ³•.html">å¼µå…æŠ•è³‡å¿ƒæ³•</a></li><li class="chapter-item "><a href="../strategy/vectorbt_é…å°.html">vectorbt é…å°</a></li><li class="chapter-item "><a href="../strategy/äº¤æ˜“çš„è¡Œç‚ºèˆ‡æ€ç¶­åˆ†äº«.html">äº¤æ˜“çš„è¡Œç‚ºèˆ‡æ€ç¶­åˆ†äº«</a></li><li class="chapter-item "><a href="../strategy/æŠ•è³‡æŠ•æ©Ÿçš„è§€å¿µèˆ‡å¿ƒå¾—åˆ†äº«.html">æŠ•è³‡æŠ•æ©Ÿçš„è§€å¿µèˆ‡å¿ƒå¾—åˆ†äº«</a></li><li class="chapter-item "><a href="../strategy/finlab.html">Finlab</a></li><li class="chapter-item "><a href="../strategy/backtrader/basis.html">Backtrader</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../strategy/backtrader/Pythonå›æ¸¬æ¡†æ¶ä¸€Backtraderä»‹ç´¹.html">Pythonå›æ¸¬æ¡†æ¶ä¸€Backtraderä»‹ç´¹</a></li><li class="chapter-item "><a href="../strategy/backtrader/Pythonå›æ¸¬æ¡†æ¶äºŒå®šæœŸå®šé¡æŠ•è³‡.html">Python å›æ¸¬æ¡†æ¶ï¼ˆäºŒï¼‰å®šæœŸå®šé¡æŠ•è³‡</a></li><li class="chapter-item "><a href="../strategy/backtrader/Pythonå›æ¸¬æ¡†æ¶ä¸‰æŠ€è¡“æŒ‡æ¨™.html">Python å›æ¸¬æ¡†æ¶ï¼ˆä¸‰ï¼‰æŠ€è¡“æŒ‡æ¨™</a></li><li class="chapter-item "><a href="../strategy/backtrader/Pythonå›æ¸¬æ¡†æ¶å››CrossOverå’ŒSignal.html">Python å›æ¸¬æ¡†æ¶ï¼ˆå››ï¼‰CrossOver å’Œ Signal</a></li><li class="chapter-item "><a href="../strategy/backtrader/Pythonå›æ¸¬æ¡†æ¶äº”Sizer.html">Python å›æ¸¬æ¡†æ¶ï¼ˆäº”ï¼‰Sizer</a></li><li class="chapter-item "><a href="../strategy/backtrader/Pythonå›æ¸¬æ¡†æ¶å…­Analyzers.html">Python å›æ¸¬æ¡†æ¶ï¼ˆå…­ï¼‰Analyzers</a></li><li class="chapter-item "><a href="../strategy/backtrader/å¤šè‚¡çµ„åˆæ“ä½œç­–ç•¥.html">å¤šè‚¡çµ„åˆæ“ä½œ</a></li><li class="chapter-item "><a href="../strategy/backtrader/å‡ç·šäº¤å‰ç­–ç•¥.html">å‡ç·šäº¤å‰ç­–ç•¥</a></li><li class="chapter-item "><a href="../strategy/backtrader/å”å¥‡å®‰é€šé“ç­–ç•¥.html">å”å¥‡å®‰é€šé“ç­–ç•¥</a></li><li class="chapter-item "><a href="../strategy/backtrader/Sizersæ¨¡çµ„.html">Sizersæ¨¡çµ„</a></li><li class="chapter-item "><a href="../strategy/backtrader/Observersæ¨¡çµ„.html">Observersæ¨¡çµ„</a></li><li class="chapter-item "><a href="../strategy/backtrader/Pyfolio.html">Pyfolio</a></li><li class="chapter-item "><a href="../strategy/backtrader/Sample.html">Sample</a></li><li class="chapter-item "><a href="../strategy/backtrader/performance.html">Performance</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../mq/kafka.html">MQ</a></li><li class="chapter-item expanded "><a href="../mq/kafka-python.html">Kafkaçš„é€šä¿—ç¸½çµ</a></li><li class="chapter-item expanded "><a href="../database/database.html">Database</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../database/redis.html">Redis</a></li><li class="chapter-item "><a href="../database/hash.html">Redis Hash</a></li><li class="chapter-item "><a href="../database/clickhouse.html">ClickHouse</a></li><li class="chapter-item "><a href="../database/dolphin.html">Dolphin</a></li><li class="chapter-item "><a href="../database/sqlite.html">Sqlite</a></li></ol></li><li class="chapter-item expanded "><a href="../cryptotrade/cryptotrade.html">CryptoTrade</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cryptotrade/binance/binance.html">Binance</a></li><li class="chapter-item "><a href="../cryptotrade/binance/oco.html">å¦‚ä½•å°‡OCOè¨‚å–®ç™¼é€åˆ°Binance</a></li></ol></li><li class="chapter-item expanded "><a href="../git/git.html">Git</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../git/git-remove-commited-files.html">git-remove-commited-files</a></li><li class="chapter-item "><a href="../git/cheat-sheet.html">Git å¸¸ç”¨</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Jason Notes</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/shihyu/jason_notes" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="rust-å®‰è£ç’°å¢ƒ"><a class="header" href="#rust-å®‰è£ç’°å¢ƒ">Rust-å®‰è£ç’°å¢ƒ</a></h2>
<h3 id="å®‰è£rustup"><a class="header" href="#å®‰è£rustup">å®‰è£rustup</a></h3>
<p>rustupæ˜¯rustç‰ˆæœ¬ç®¡ç†å™¨</p>
<p>å®‰è£æŒ‡ä»¤å¦‚ä¸‹</p>
<pre><code class="language-jsx">curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
</code></pre>
<p>æ¥è‘—å®‰è£rustç¸½å…±æœ‰ä¸‰å€‹ç‰ˆå¯ä»¥é¸æ“‡</p>
<ul>
<li>stable</li>
<li>beta</li>
<li>nightly</li>
</ul>
<pre><code class="language-bash">rustup install stable
</code></pre>
<p>è¼¸å…¥ä¸‹é¢æŒ‡ä»¤æª¢æŸ¥ç‰ˆæœ¬ï¼Œå¦‚æœæœ‰é¡¯ç¤ºå°±æ˜¯ä»£è¡¨å®‰è£æˆåŠŸ</p>
<pre><code class="language-bash">rustc --version
rustc 1.54.0 (a178d0322 2021-07-26)
</code></pre>
<p>ä¹Ÿå¯ä»¥é€éé€™å€‹ ~/.cargo/bin ç›®éŒ„æŸ¥çœ‹åˆ°å®‰è£çš„rustå·¥å…·</p>
<pre><code class="language-bash">ls ~/.cargo/bin

cargo cargo-clippy cargo-fmt cargo-miri clippy-driver rls rust-gdb rust-lldb rustc rustdoc rustfmt rustup
</code></pre>
<h3 id="å‡ç´šrust"><a class="header" href="#å‡ç´šrust">å‡ç´šrust</a></h3>
<pre><code class="language-bash">rustup update
</code></pre>
<h3 id="åˆ‡æ›rustç‰ˆæœ¬"><a class="header" href="#åˆ‡æ›rustç‰ˆæœ¬">åˆ‡æ›rustç‰ˆæœ¬</a></h3>
<p>æŸ¥çœ‹ç›®å‰æ‰€ä»¥å®‰è£çš„ç‰ˆæœ¬</p>
<pre><code class="language-bash">ls ~/.rustup/toolchains/

beta-x86_64-apple-darwin
stable-x86_64-apple-darwin
</code></pre>
<p>åˆ‡æ›é è¨­ç‰ˆæœ¬</p>
<pre><code class="language-bash">rustup default beta-x86_64-apple-darwin

info: using existing install for 'beta-x86_64-apple-darwin'
info: default toolchain set to 'beta-x86_64-apple-darwin'

  beta-x86_64-apple-darwin unchanged - rustc 1.55.0-beta.9 (27e88d367 2021-08-28)
</code></pre>
<p>é‡å°å°ˆæ¡ˆè¨­å®šç‰ˆæœ¬</p>
<pre><code class="language-bash">rustup override set nightly

info: using existing install for 'beta-x86_64-apple-darwin'
info: override toolchain for '/Users/ken_jan/rust/hello' set to 'beta-x86_64-apple-darwin'

  beta-x86_64-apple-darwin unchanged - rustc 1.55.0-beta.9 (27e88d367 2021-08-28)
</code></pre>
<h3 id="å¸è¼‰rust"><a class="header" href="#å¸è¼‰rust">å¸è¼‰rust</a></h3>
<pre><code class="language-bash">rustup self uninstall
</code></pre>
<p>å¦‚æœä½ åªæ˜¯æƒ³å˜—è©¦çœ‹çœ‹ï¼Œå®Œæˆä¸æƒ³å®‰è£ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç€è¦½ç·šä¸Šç‰ˆæœ¬</p>
<p><a href="https://play.rust-lang.org/">Rust Playground</a></p>
<p>ç›¸å°æ–¼golangçš„å®‰è£ï¼Œrustå®˜æ–¹å°±å…§å»ºç‰ˆæœ¬æ§åˆ¶æ–¹ä¾¿è¨±å¤š</p>
<p>é€™éƒ¨åˆ†rustå¤§å‹</p>
<h2 id="rust-ç·¨è¼¯å™¨è¨­å®š"><a class="header" href="#rust-ç·¨è¼¯å™¨è¨­å®š">Rust-ç·¨è¼¯å™¨è¨­å®š</a></h2>
<p>å¦‚ä½•è¨­å®šé–‹ç™¼ç’°å¢ƒé€™é‚Šä½¿ç”¨VSCodeä¾†ç•¶é–‹ç™¼å·¥å…·</p>
<h3 id="rustfmt-è‡ªå‹•æ ¼å¼åŒ–"><a class="header" href="#rustfmt-è‡ªå‹•æ ¼å¼åŒ–">rustfmt è‡ªå‹•æ ¼å¼åŒ–</a></h3>
<p>rustfmtæ˜¯Rustå®˜æ–¹æä¾›è‡ªå‹•æ ¼å¼åŒ–ä»£ç¢¼çš„å·¥å…·ï¼Œç”¨ä¾†çµ±ä¸€ä»£ç¢¼é¢¨æ ¼ï¼Œé¿å…æœ‰äººç”¨Tabæœ‰äººç”¨ç©ºæ ¼ä¾†ç¸®æ’æˆ–æ˜¯åœ¨å¤§æ‹¬è™Ÿä¹‹å¾Œè©²æ›è¡Œä¹‹é¡çš„</p>
<p>é€érustupå®‰è£</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>rustup component add rustfmt
<span class="boring">}</span></code></pre></pre>
<p>é€éæŒ‡ä»¤ä¾†æ ¼å¼åŒ–ä»£ç¢¼</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>rustfmt main.rs
<span class="boring">}</span></code></pre></pre>
<p>ä¹Ÿå¯ä»¥é€écargoæ ¼å¼åŒ–æ•´å€‹å°ˆæ¡ˆ</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>cargo fmt
<span class="boring">}</span></code></pre></pre>
<p>ä¹Ÿå¯ä»¥å–®ç´”æª¢æŸ¥ä¸¦åˆ—å‡ºæ²’æ’å¥½çš„åœ°æ”¾</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>rustfmt --check main.rs

cargo fmt -- --check 
<span class="boring">}</span></code></pre></pre>
<p>é è¨­çš„rustfmté¢¨æ ¼å°±å¾ˆå¥½ç”¨äº†ï¼Œä½†å¦‚æœä½ çš„åœ˜éšŠæˆ–æ˜¯å€‹äººç¿’æ…£æƒ³è¦ä¸ä¸€æ¨£æ’ç‰ˆé¢¨æ ¼ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œé€érustfmt.tomlè¨­å®šæª”ä¾†æ”¹è®Š</p>
<p>ä¾‹å¦‚äºŒå…ƒé‹ç®—å­å¤šè¡Œæ™‚è¦æ”¾åœ¨é ­é‚„æ˜¯æ”¾åœ¨å°¾çš„éƒ¨åˆ†</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>binop_separator = "Front" (é»˜èª)

let or = foofoofoofoofoofoofoofoofoofoofoofoofoofoofoofoo
        || barbarbarbarbarbarbarbarbarbarbarbarbarbarbarbar;

---------------------------------------------------------------
binop_separator = "Back"

let or = foofoofoofoofoofoofoofoofoofoofoofoofoofoofoofoo ||
        barbarbarbarbarbarbarbarbarbarbarbarbarbarbarbar;
<span class="boring">}</span></code></pre></pre>
<p>é‚„æœ‰å…¶ä»–å¾ˆå¤šè¨­å®šï¼Œå¯ä»¥åƒè€ƒé€™æ–‡ä»¶</p>
<p>https://github.com/rust-lang/rustfmt/blob/master/Configurations.md</p>
<p>è®“vscodeæ”¯æ´rustä»£ç¢¼æç¤ºï¼Œéœ€è¦å®‰è£Rustå¥—ä»¶æ¨¡çµ„</p>
<p>https://marketplace.visualstudio.com/items?itemName=rust-lang.rust</p>
<p>å®‰è£æ™‚æœƒé †ä¾¿å®‰è£rls, rust-src, and rust-analysis</p>
<p>å¦‚æœè¦è®“å­˜æª”æ™‚è‡ªå‹•æ ¼å¼åŒ–ä»£ç¢¼éœ€è¦ä¿®æ”¹</p>
<p>File &gt; Preferences &gt; Settings. è£¡é¢çš„ editor.formatOnSave æ‰“å‹¾ å°±å¯ä»¥äº†</p>
<h2 id="rust-hello-world"><a class="header" href="#rust-hello-world">Rust-Hello, World!</a></h2>
<p>å…ˆå»ºç«‹ä¸€å€‹helloçš„ç›®éŒ„ï¼Œç·¨è¼¯main.rs</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    print!("Hello, World!");
}</code></pre></pre>
<p>å„²å­˜ç„¶å¾Œåœ¨Terminalç”¨rustcç·¨è­¯</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>rustc main.rs
<span class="boring">}</span></code></pre></pre>
<p>æœƒç”¢ç”Ÿå‡ºmainæª”æ¡ˆï¼ŒåŸ·è¡Œmainå°±æœƒå‡ºç¾Hello, world!äº†</p>
<pre><code class="language-bash">./main
Hello, World!
</code></pre>
<h3 id="åˆ†æç¨‹å¼ç¢¼"><a class="header" href="#åˆ†æç¨‹å¼ç¢¼">åˆ†æç¨‹å¼ç¢¼</a></h3>
<ul>
<li><strong>fu</strong>æ˜¯rustçš„é—œéµå­—ï¼Œfunctionçš„ç°¡å¯«</li>
<li>mainæ˜¯å‡½å¼åç¨±ï¼ŒåŸ·è¡Œrustç¨‹å¼æ™‚å°‡åŸ·è¡Œï¼Œå¦‚æœæ²’æœ‰mainå“ªå¯èƒ½æ˜¯ä¸€å€‹library</li>
<li>print! æ˜¯rustçš„å·¨é›†(macro) å¦‚æœæ²’æœ‰"!"è¡¨ç¤ºæ˜¯å‡½ç¤ºæœ‰çš„è©±å‰‡æ˜¯å·¨é›†</li>
<li>"Hello, world!" è¡¨ç¤ºå­—ä¸²å…§å®¹</li>
<li>æœ€å¾Œç”¨";"è¡¨ç¤ºèªæ³•çµæŸ</li>
</ul>
<p>rustå°å¤§å°å¯«æ˜¯æ•æ„Ÿçš„</p>
<h3 id="print-ç”¨æ³•"><a class="header" href="#print-ç”¨æ³•">Print! ç”¨æ³•</a></h3>
<p>åˆ©ç”¨"{}"ç«™ä½ç¬¦è¼¸å‡ºå­—ä¸²ï¼Œé¡ä¼¼golangçš„fmt.Printf("%s, %s!", "Hello", "World")</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>print!("{}, {}!", "Hello", "World")

è¼¸å‡º
Hello, World!
<span class="boring">}</span></code></pre></pre>
<p>åˆ©ç”¨"{}"ç«™ä½ç¬¦è¼¸å‡ºæ•¸å­—ï¼Œé¡ä¼¼golangçš„fmt.Printf("%s: %d", "Num", 9527)</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>print!("{}: {}", "Num", 9527)

è¼¸å‡º
Num: 9527
<span class="boring">}</span></code></pre></pre>
<p>ç”¨"\n"è¼¸å‡ºå¤šè¡Œå­—ä¸²</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>print!("Hello, World!\nHello, World!\nHello, World!")

è¼¸å‡º
Hello, World!
Hello, World!
Hello, World!
<span class="boring">}</span></code></pre></pre>
<h2 id="rust-è®Šæ•¸"><a class="header" href="#rust-è®Šæ•¸">Rust-è®Šæ•¸</a></h2>
<h3 id="è®Šæ•¸å®£å‘Š"><a class="header" href="#è®Šæ•¸å®£å‘Š">è®Šæ•¸å®£å‘Š</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// å®£å‘Šå€åŸŸè®Šæ•¸
let local_var = 123;
<span class="boring">}</span></code></pre></pre>
<h3 id="ä¸å¯è®Šè®Šæ•¸"><a class="header" href="#ä¸å¯è®Šè®Šæ•¸">ä¸å¯è®Šè®Šæ•¸</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let immutable_var = 123;

print!("{}", immutable_var);

immutable_var = 456;

print!("{}", immutable_var);
<span class="boring">}</span></code></pre></pre>
<p>ä¸Šé¢é€™æ®µç¨‹å¼ç¢¼åœ¨ç·¨è­¯æ™‚æœƒå‡ºç¾"cannot assign twice to immutable variable"éŒ¯èª¤ï¼Œè¡¨ç¤ºä¸å¯è®Šè®Šæ•¸ç„¡æ³•é‡æ–°è³¦äºˆå€¼</p>
<p>æœ‰é»é¡ä¼¼golangä¸­çš„const(å¸¸æ•¸)ä½†åˆä¸å¤ªä¸€æ¨£ï¼Œrustæœ¬èº«ä¹Ÿæœ‰consté—œéµå­—</p>
<h3 id="å¯è®Šè®Šæ•¸"><a class="header" href="#å¯è®Šè®Šæ•¸">å¯è®Šè®Šæ•¸</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut mutable_var = 123;

print!("{}", mutable_var);

mutable_var = 456;

print!("{}", mutable_var);
<span class="boring">}</span></code></pre></pre>
<p>é€éåœ¨å®£å‘Šè®Šæ™‚å¢åŠ mut(mutable)ä¾†è®“é€™å€‹è®Šæ•¸å¯ä»¥é‡æ–°è³¦äºˆå€¼</p>
<h3 id="æœªè®ŠåŒ–çš„å¯è®Šè®Šæ•¸"><a class="header" href="#æœªè®ŠåŒ–çš„å¯è®Šè®Šæ•¸">æœªè®ŠåŒ–çš„å¯è®Šè®Šæ•¸</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut mutable_var = 123;

print!("{}", mutable_var);
<span class="boring">}</span></code></pre></pre>
<p>å¦‚æœå®£å‘Šäº†å¯è®Šè®Šæ•¸ï¼Œä½†æ˜¯å¾Œé¢åˆæ²’é‡æ–°è³¦äºˆå€¼æ™‚ç·¨è­¯æœƒå‡ºç¾"help: remove this <code>mut</code>"è­¦å‘Šä¾†å»ºè­°ç§»é™¤mut</p>
<h3 id="æœªåˆå§‹åŒ–çš„è®Šæ•¸"><a class="header" href="#æœªåˆå§‹åŒ–çš„è®Šæ•¸">æœªåˆå§‹åŒ–çš„è®Šæ•¸</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let immutable_var :i32;

print!("{}", immutable_var);
<span class="boring">}</span></code></pre></pre>
<p>ç·¨è­¯æ™‚æœƒå‡ºç¾"use of possibly-uninitialized <code>immutable_var</code>"éŒ¯èª¤</p>
<p>åˆå§‹åŒ–è®Šæ•¸ä¹Ÿå¯ä»¥åœ¨å®£å‘Šè®Šæ•¸ä¹‹å¾Œï¼Œåªè¦åœ¨è®Šæ•¸ä½¿ç”¨ä¹‹å‰åˆå§‹åŒ–å°±å¯ä»¥ï¼Œä¾‹å¦‚ä¸‹é¢ä¾‹å­</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let immutable_var :i32;

immutable_var = 123;

print!("{}", immutable_var);
<span class="boring">}</span></code></pre></pre>
<h3 id="å‹åˆ¥å’Œå¯è®ŠåŒ–çš„æ”¹è®Š"><a class="header" href="#å‹åˆ¥å’Œå¯è®ŠåŒ–çš„æ”¹è®Š">å‹åˆ¥å’Œå¯è®ŠåŒ–çš„æ”¹è®Š</a></h3>
<p>rustå…è¨±åœ¨è®Šæ•¸å®£å‘Šå¾Œåˆé‡æ–°å®£å‘Šç›¸åŒåç¨±çš„è®Šæ•¸ï¼Œä¸‹é¢é€™äº›è¡Œç‚ºåœ¨rustæ˜¯åˆæ³•</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut var = 123;

print!("{}", var);

var = 456;

print!("{}", var);

// é‡æ–°å®£å‘Šç‚ºä¸å¯è®Šè®Šæ•¸
let var = 789;

print!("{}", var);

// é‡æ–°å®£å‘Šç‚ºå­—ä¸²é¡å‹
let var = "hello word";

print!("{}", var);
<span class="boring">}</span></code></pre></pre>
<h3 id="æœªä½¿ç”¨çš„è®Šæ•¸"><a class="header" href="#æœªä½¿ç”¨çš„è®Šæ•¸">æœªä½¿ç”¨çš„è®Šæ•¸</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let immutable_var = 123;
<span class="boring">}</span></code></pre></pre>
<p>æœªä½¿ç”¨è®Šæ•¸æ™‚æœƒå‡ºç¾"help: if this is intentional, prefix it with an underscore: <code>_immutable_var</code>"è­¦å‘Šï¼Œå¦‚æœä¸æƒ³å‡ºç¾è­¦å‘Šå¯ä»¥åœ¨è®Šæ•¸å‰é¢åŠ å€‹ä¸‹åº•ç·š"_"</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let _immutable_var = 123;
<span class="boring">}</span></code></pre></pre>
<p>æˆ–æ˜¯å–®ç´”åªæ˜¯è¦ä¸€å€‹ç«™ä½ç¬¦ä¹Ÿå¯ä»¥é€™æ¨£</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let _ = 123;
<span class="boring">}</span></code></pre></pre>
<h2 id="rust-å€¼è®Šæ•¸ç‰©ä»¶"><a class="header" href="#rust-å€¼è®Šæ•¸ç‰©ä»¶">Rust-å€¼ï¼Œè®Šæ•¸ï¼Œç‰©ä»¶</a></h2>
<p>ä¸æ‡‰å°‡å€¼ï¼Œè®Šæ•¸ï¼Œç‰©ä»¶æ··æ·†ç‚ºä¸€é«”</p>
<p>å–®è©"å€¼"è¡¨ç¤ºæŠ½è±¡çš„æ•¸å­¸æ¦‚å¿µï¼Œ</p>
<p>ä¾‹å¦‚å€¼ï¼š"9527"æ˜¯æŒ‡æ•¸å­¸9527çš„æ•¸å­¸æ¦‚å¿µï¼Œåœ¨æ•¸å­¸ä¸Š"9527"åªæœƒæœ‰ä¸€å€‹"9527"çš„æ•¸å­—</p>
<p>ä¾‹å¦‚å€¼ï¼š"hello, word!"å¾æ¦‚å¿µä¸Šä¹Ÿåªæœƒæœ‰ä¸€å€‹</p>
<p>å€¼å¯ä»¥å­˜åœ¨é›»è…¦è£¡çš„è¨˜æ†¶é«”è£¡ï¼Œå¯ä»¥åœ¨è¨˜æ†¶é«”çš„å¤šå€‹ä½ç½®å„²å­˜æ•¸å­—"9527"ï¼Œå¯ä»¥æœ‰å…©å€‹ä¸åŒä½ç½®éƒ½å„²æ”¾"9257"</p>
<p>åœ¨è¨˜æ†¶é«”ä¸­åŒ…å«å€¼çš„éƒ¨åˆ†ç¨±ç‚ºç‰©ä»¶ï¼Œå…©å€‹ä½æ–¼è¨˜æ†¶é«”ä¸­ä¸åŒä½ç½®çš„ä¸åŒç‰©ä»¶å¦‚æœåŒ…å«ç›¸åŒçš„å…§å®¹å‰‡å¯ä»¥ç¨±ç‚ºå®ƒå€‘"ç›¸ç­‰"</p>
<p>åœ¨ç·¨è­¯Rustæ™‚ï¼Œç”Ÿæˆå¯ä»¥åŸ·è¡Œçš„ç¨‹å¼æœƒåŒ…å«å…·æœ‰å­˜å„²ä½ç½®å’Œå€¼çš„ç‰©ä»¶ï¼Œé€™äº›ç‰©ä»¶æ²’æœ‰åç¨±
ä½†æ˜¯åœ¨ç¨‹å¼ç¢¼ä¸­æœƒå¸Œæœ›å°‡åç¨±èˆ‡ç‰©ä»¶ç›¸é—œè¯ï¼Œä»¥ä¾¿ä»¥å¾Œå¯ä»¥å¼•ç”¨å®ƒå€‘é€™å€‹æ±è¥¿å¯ä»¥ç¨±ç‚ºè®Šæ•¸</p>
<p>ä¾‹å¦‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let num = 9527;
print!("{}", num);

è¼¸å‡º9257
<span class="boring">}</span></code></pre></pre>
<p>ç¬¬ä¸€è¡Œè¡¨ç¤ºï¼š</p>
<ul>
<li>å®ƒåœ¨è¨˜æ†¶ä¸­åŠƒå‡ºä¸€å€‹è¶³å¤ å¤§çš„ç‰©ä»¶ï¼Œä»¥åŒ…å«ä¸€å€‹æ•´æ•¸</li>
<li>å®ƒä»¥äºŒé€²åˆ¶æ ¼å¼å°‡å€¼"9527"å„²å­˜åœ¨è©²ç‰©ä»¶ä¸­</li>
<li>å®ƒå°‡åç¨±numèˆ‡è©²ç‰©ä»¶åšé—œè¯ï¼Œä»¥ä¾¿ä¹‹å¾Œåœ¨ç¨‹å¼ç¢¼ä¸­ä½¿ç”¨è©²åç¨±numä¾†æŒ‡ç¤ºé€™å€‹ç‰©ä»¶</li>
</ul>
<h3 id="å»ºç«‹è­˜åˆ¥å­—-identifier-çš„è¦å‰‡"><a class="header" href="#å»ºç«‹è­˜åˆ¥å­—-identifier-çš„è¦å‰‡">å»ºç«‹è­˜åˆ¥å­— (Identifier) çš„è¦å‰‡</a></h3>
<p>è®Šæ•¸åç¨±åˆç¨±ç‚ºè­˜åˆ¥å­—ã€‚è­˜åˆ¥å­—åŸæœ¬åœ¨ Rust ç¨‹å¼ä¸­æ˜¯æ²’æœ‰æ„ç¾©çš„ï¼Œé€éå®£å‘Šè®Šæ•¸é€™é …å‹•ä½œå°ç‰¹å®šè­˜åˆ¥å­—è³¦äºˆé—œè¯ã€‚</p>
<p>Rust çš„è­˜åˆ¥å­—æ¡ç”¨ä»¥ä¸‹è¦å‰‡ï¼š</p>
<ul>
<li>ç¬¬ä¸€å€‹å­—å…ƒç‚ºè‹±æ–‡æˆ–åº•ç·š _</li>
<li>ç¬¬äºŒå€‹ä¹‹å¾Œçš„å­—å…ƒç‚ºè‹±æ–‡ã€æ•¸å­—æˆ–åº•ç·š</li>
<li>åªæœ‰å–®ä¸€çš„åº•ç·š _ ä¸æ˜¯è®Šæ•¸</li>
</ul>
<p>ä»¥ä¸‹æ˜¯åˆ Rust è¦ç¯„çš„è®Šæ•¸åç¨±ï¼š</p>
<ul>
<li>a</li>
<li>a1</li>
<li>a_var</li>
<li>aVar</li>
<li>_var</li>
</ul>
<p>Rustå»ºè­°ä½¿ç”¨è›‡è¡Œ(snake case)å‘½å(ä¾‹:a_var_snake_name)</p>
<p>è€Œéé§å³°(camel case)å‘½å(ä¾‹:aVarCamelName)</p>
<p>è·Ÿgolangé¡›å€’ï¼Œæ²’æœ‰å¥½å£åªè¦çµ±ä¸€é¢¨æ ¼å°±å¥½</p>
<p>Rustæœƒå°ä¸ç¬¦åˆå…¶æ’°ç¢¼é¢¨æ ¼çš„è®Šæ•¸æˆ–å‡½å¼åç¨±ç™¼å‡ºè­¦å‘Šè¨Šæ¯ï¼Œä½†ä¸æœƒå¼•ç™¼éŒ¯èª¤</p>
<h2 id="rust-è³‡æ–™å‹åˆ¥-æ•´æ•¸æµ®é»æ•¸"><a class="header" href="#rust-è³‡æ–™å‹åˆ¥-æ•´æ•¸æµ®é»æ•¸">Rust-è³‡æ–™å‹åˆ¥-æ•´æ•¸ã€æµ®é»æ•¸</a></h2>
<p>Rustæ˜¯éœæ…‹å‹åˆ¥èªè¨€ï¼Œæ‰€ä»¥åœ¨ç·¨è­¯æ™‚éœ€è¦çŸ¥é“è®Šæ•¸çš„å‹åˆ¥æ˜¯ä»€éº¼</p>
<p>å‰é¢çš„ç¨‹å¼ç¯„ä¾‹å¾ˆå¤šæ˜¯æ²’æœ‰å®£å¿å‹åˆ¥ä½†æ˜¯å»å¯ä»¥ç·¨è­¯ï¼Œé€™é‚Šç”¨åˆ°çš„æ˜¯é€é</p>
<p>é€šå¸¸ç·¨è­¯å™¨èƒ½é€šéæ•¸å€¼ä¾†æ¨å°å‹åˆ¥æ˜¯ä»€éº¼</p>
<p>Rust æœ‰å››ç¨®ä¸»è¦ç´”é‡å‹åˆ¥ï¼šæ•´æ•¸ã€æµ®é»æ•¸ã€å¸ƒæ—ä»¥åŠå­—å…ƒ</p>
<h3 id="æ•´æ•¸å‹åˆ¥"><a class="header" href="#æ•´æ•¸å‹åˆ¥">æ•´æ•¸å‹åˆ¥</a></h3>
<p>æ•´æ•¸æ˜¯æ²’æœ‰å°æ•¸é»çš„æ•¸å­—ï¼Œåˆ†æœ‰å¸¶è™Ÿ(signed)è·Ÿéå¸¶è™Ÿ(unsigned)ï¼Œå·®åˆ¥å°±æ˜¯ä¸€å€‹æœ‰è² å€¼ä¸€å€‹æ²’æœ‰è² å€¼</p>
<p>å¸¶è™Ÿç¯„åœ-(2^n - 1) åˆ° (2^n - 1) - 1</p>
<p>éå¸¶è™Ÿç¯„åœ0åˆ°2^n - 1</p>
<p>isizeè·Ÿusizeå‰‡æ˜¯ä¾æ“šé‹è¡Œç’°å¢ƒçš„é›»è…¦æ˜¯32ä½å…ƒé‚„æ˜¯é‚„64ä½å…ƒæ±ºå®šå¤§å°</p>
<p>Rusté è¨­æ•´æ•¸å‹åˆ¥æ˜¯i32
<img src="images/20129675QRiTSVLrMG.png" alt="" /></p>
<h3 id="æº¢ä½å•é¡Œ"><a class="header" href="#æº¢ä½å•é¡Œ">æº¢ä½å•é¡Œ</a></h3>
<p>Ruståœ¨åŸ·è¡Œæ™‚æœƒæª¢æŸ¥æ˜¯å¦æœ‰æº¢ä½</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut n: i32 = i32::max_value();
 
// Overflow
n = n + 1;

å‡ºç¾panicéŒ¯èª¤
thread 'main' panicked at 'attempt to add with overflow'
<span class="boring">}</span></code></pre></pre>
<p>å¦‚æœä½ æƒ³è¦è®“æº¢ä½ä¹Ÿè¦–ç‚ºæ­£å¸¸çš„å¯ä»¥åœ¨ç·¨è­¯æ™‚å¢åŠ åƒæ•¸</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// rustcç”¨æ³•
rustc -O main.rs

// cargoç”¨æ³•
cargo build --release
<span class="boring">}</span></code></pre></pre>
<h3 id="æµ®é»æ•¸å‹åˆ¥"><a class="header" href="#æµ®é»æ•¸å‹åˆ¥">æµ®é»æ•¸å‹åˆ¥</a></h3>
<p>æµ®é»æ•¸åªæœ‰å…©ç¨®å‹åˆ¥</p>
<ul>
<li>f32 32ä½å…ƒå¤§å°</li>
<li>f64 64ä½å…ƒå¤§å°</li>
</ul>
<p>æµ®é»æ•¸æ˜¯ä¾ç…§ IEEE-754</p>
<p>Rusté è¨­æµ®é»æ•¸å‹åˆ¥æ˜¯f64</p>
<h2 id="rust-è³‡æ–™å‹åˆ¥-å¸ƒæ—å€¼"><a class="header" href="#rust-è³‡æ–™å‹åˆ¥-å¸ƒæ—å€¼">Rust-è³‡æ–™å‹åˆ¥-å¸ƒæ—å€¼</a></h2>
<p>Rust ç‚ºäº†è¡¨ç¤ºçœŸå‡å€¼ï¼Œä½¿ç”¨é—œéµå­—trueå’Œfalse</p>
<p>é€™æ¨£çš„é—œéµå­—å…·æœ‰éæ•¸å­—é¡å‹çš„è¡¨é”å¼ç¨±ç‚ºå¸ƒæ—</p>
<p>ä¾‹</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let true_var = true;
let false_var = false;
print!("{} {}", true_var, false_var);

è¼¸å‡º
true false
<span class="boring">}</span></code></pre></pre>
<p>é™¤äº†é—œéµå­—trueå’Œfalseè³¦äºˆå€¼ä¹Ÿå¯ä»¥é€éæ¯”è¼ƒé‹ç®—è¡¨é”å¼ä¾†è³¦äºˆå€¼</p>
<p>ä¾‹</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let true_var = 456 &gt; 123 ;
let false_var = -456 &gt;= 123;
print!("{} {} {}", true_var, false_var, -123 &lt; 123);

è¼¸å‡º
true false true
<span class="boring">}</span></code></pre></pre>
<p>æ¯”è¼ƒé‹ç®—å­å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p>==ï¼šç­‰æ–¼</p>
</li>
<li>
<p>!=ï¼šä¸ç­‰æ–¼</p>
</li>
<li>
<p>&lt;ï¼šå°æ–¼</p>
</li>
<li>
<blockquote>
<p>ï¼šå¤§æ–¼</p>
</blockquote>
</li>
<li>
<p>&lt;=ï¼šå°æ–¼æˆ–æ˜¯ç­‰æ–¼</p>
</li>
<li>
<blockquote>
<p>=ï¼šå¤§æ–¼æˆ–æ˜¯ç­‰æ–¼</p>
</blockquote>
</li>
</ul>
<p>è·Ÿå¸¸è¦‹èªè¨€éƒ½ä¸€æ¨£</p>
<p>é™¤äº†æ¯”è¼ƒæ•¸å­—ä¹‹å¤–ä¹Ÿèƒ½æ¯”è¼ƒå­—ä¸²</p>
<p>ä¾‹</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>print!("{} {} {}", "efg" &lt; "efgh", "efg" &lt; "efh", "D" &lt; "d");

è¼¸å‡º true true true
<span class="boring">}</span></code></pre></pre>
<p>å­—ä¸²çš„æ¯”è¼ƒè¦å‰‡å°±æ˜¯æ¯”è¼ƒå…©å€‹å­—ä¸²çš„ç¬¬ä¸€å€‹å­—æ¯ï¼Œç„¶å¾Œç¹¼çºŒæ¯”è¼ƒå…©å€‹å­—ä¸²ç›¸åŒä½ç½®çš„å­—æ¯ç›´åˆ°ç™¼ç”Ÿä¸‹åˆ—æƒ…æ³ä¹‹ä¸€ï¼š</p>
<ul>
<li>å¦‚æœå…©å€‹å­—æ¯éƒ½æ²’æœ‰å…¶ä»–å­—æ¯äº†ï¼Œå‰‡ç›¸ç­‰</li>
<li>å¦‚æœä¸€å€‹å­—ä¸²æ²’æœ‰å…¶ä»–å­—æ¯ï¼Œè€Œå¦ä¸€å€‹é‚„æœ‰å…¶ä»–å­—æ¯ï¼Œå‰‡è¼ƒå°‘å­—æ¯çš„å­—ä¸²è¼ƒå°</li>
<li>å¦‚æœå…©å€‹å­—ä¸²ç›¸åŒä½ç½®çš„å­—æ¯æ¯”è¼ƒï¼Œå­—æ¯è¡¨åœ¨å‰çš„æ¯”è¼ƒå°ï¼Œå­—æ¯å¤§å¯«æ¯”å­—æ¯å°å¯«å°</li>
</ul>
<p>é‚è¼¯é‹ç®—å­å¦‚ä¸‹ï¼š</p>
<ul>
<li>!ï¼šnot</li>
<li>&amp;&amp;ï¼šä¸”</li>
<li>||ï¼šæˆ–</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let true_var = true;
let false_var = false;

print!("{} {}", !true_var, !false_var);
è¼¸å‡º
false true

print!("{} {} {} {}", true_var &amp;&amp; true_var, false_var &amp;&amp; false_var, true_var &amp;&amp; false_var, false_var &amp;&amp; true_var);
è¼¸å‡º
true false false false

print!("{} {} {} {}", true_var || true_var, false_var || false_var, true_var || false_var, false_var || true_var);
è¼¸å‡º
true false true true
<span class="boring">}</span></code></pre></pre>
<h2 id="rust-è³‡æ–™å‹åˆ¥-å­—å…ƒå­—ä¸²"><a class="header" href="#rust-è³‡æ–™å‹åˆ¥-å­—å…ƒå­—ä¸²">Rust-è³‡æ–™å‹åˆ¥-å­—å…ƒ.å­—ä¸²</a></h2>
<p>Rustçš„charå‹åˆ¥æ˜¯æœ€åŸºæœ¬çš„å­—æ¯å‹åˆ¥ï¼Œç”¨å–®å¼•è™ŸåŒ…èµ·ä¾†</p>
<p>ä¾‹</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let a = 'b';
<span class="boring">}</span></code></pre></pre>
<p>Rustçš„å­—ä¸²åˆ†å…©ç¨®</p>
<ul>
<li>str</li>
<li>String</li>
</ul>
<p>åš´æ ¼ä¾†è¬›Ruståœ¨æ ¸å¿ƒèªè¨€ä¸­åªæœ‰ä¸€å€‹å­—ä¸²å‹åˆ¥ï¼Œå“ªå°±æ˜¯åˆ‡ç‰‡å­—ä¸²(&amp;str)æ˜¯ä¸å¯è®Šçš„(stack)</p>
<p>Stringå‰‡æ˜¯Rustæ¨™æº–å‡½å¼åº«æä¾›çš„å‹åˆ¥ï¼ŒStringæ˜¯å¯è®Š(Heap)</p>
<p>ä¾‹</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// &amp;strå‹åˆ¥
let str_var = "å­—ä¸²";

// Stringå‹åˆ¥
let string_var = str_var.to_string();
// Stringå‹åˆ¥
let string_var = String::from("å­—ä¸²");
<span class="boring">}</span></code></pre></pre>
<p>ç´¢å¼•å­—ä¸²åˆ‡ç‰‡</p>
<p>å› ç‚ºå­—ä¸²æ˜¯ä½¿ç”¨ UTF-8 ç·¨ç¢¼ï¼Œæ¯å€‹å­—ç¬¦å¯èƒ½æœ‰å¤šå€‹ä½å…ƒçµ„æ‰€ä»¥ç”¨å­—ä¸²ç´¢å¼•æœƒå®¹æ˜“å‡ºç¾éŒ¯èª¤</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let str_var = "å®‰å®‰";

println!("{}", &amp;str_var[0..1]);

æœƒå‡ºç¾éŒ¯èª¤
thread 'main' panicked at 'byte index 1 is not a char boundary; it is inside 'å®‰' (bytes 0..3) of `å®‰å®‰`'
<span class="boring">}</span></code></pre></pre>
<p>æ¯”è¼ƒå¥½å¾—åšæ³•é€éas_bytesæˆ–æ˜¯charsæ–¹æ³•ä¾†å–ç›´</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let str_var = "å®‰å®‰ä½ å¥½å•Š";

for b in str_var.as_bytes() {
    print!("{}, ", b);
}

for c in str_var.chars() {
    print!("{}, ", c);
}

è¼¸å‡º
229, 174, 137, 229, 174, 137, 228, 189, 160, 229, 165, 189, 229, 149, 138,
å®‰, å®‰, ä½ , å¥½, å•Š,
<span class="boring">}</span></code></pre></pre>
<p>å­—ä¸²ç›¸åŠ ï¼Œé€™é‚Šæœƒä½¿ç”¨åˆ°&amp;å€Ÿç”¨ï¼Œå¾Œé¢æœƒè¬›è§£</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let string1_var = String::from("å®‰å®‰");
let string2_var = String::from("ä½ å¥½å•Š");

println!("{}", string1_var + &amp;string2_var);

è¼¸å‡º
å®‰å®‰ä½ å¥½å•Š
<span class="boring">}</span></code></pre></pre>
<p>Rustæ²’æœ‰æä¾›å‹åˆ¥åˆ¤æ–·çš„æ–¹æ³•ï¼Œå¦‚æœæƒ³è¦çŸ¥é“è®Šæ•¸æ˜¯ä»€éº¼å‹åˆ¥å¯ä»¥åˆ©ç”¨ç·¨è­¯æ™‚çš„éŒ¯ä¾†æŸ¥çœ‹</p>
<p>ä¾‹</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// charå‹åˆ¥
let char_var = 'c';
char_var.not_found;

å‡ºç¾éŒ¯èª¤
`char` is a primitive type and therefore doesn't have fields

// &amp;strå‹åˆ¥
let str_var = "str";
str_var.not_found;

å‡ºç¾éŒ¯èª¤
no field `not_found` on type `&amp;str`
<span class="boring">}</span></code></pre></pre>
<h2 id="rust-è³‡æ–™å‹åˆ¥-è¤‡åˆå‹åˆ¥"><a class="header" href="#rust-è³‡æ–™å‹åˆ¥-è¤‡åˆå‹åˆ¥">Rust-è³‡æ–™å‹åˆ¥-è¤‡åˆå‹åˆ¥</a></h2>
<p>è¤‡åˆå‹åˆ¥æ˜¯æŒ‡å¤šå€‹æ•¸å€¼çµ„ç‚ºä¸€å€‹å‹åˆ¥</p>
<p>Rust æœ‰å…©å€‹åŸºæœ¬è¤‡åˆå‹åˆ¥</p>
<h3 id="å…ƒçµ„å‹åˆ¥tupl"><a class="header" href="#å…ƒçµ„å‹åˆ¥tupl">å…ƒçµ„å‹åˆ¥(tupl)</a></h3>
<p>å…ƒçµ„å‹åˆ¥æ˜¯æŒ‡å°‡å¤šå€‹ä¸åŒå‹åˆ¥çµ„æˆä¸€å€‹è¤‡åˆå‹åˆ¥</p>
<p>å›ºå®šé•·åº¦ï¼Œå®£å‘Šå¥½å°±ç„¡æ³•å¢æ¸›é•·åº¦</p>
<p>æ¯ä¸€æ ¼éƒ½æ˜¯ä¸€å€‹ç¨ç«‹å‹åˆ¥</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// å®£å‘Šæ™‚å°±æŒ‡å®šå‹åˆ¥
let tup: (i32, f64, u8, &amp;str) = (1, 3.1417, 1, "hello");

// è‡ªå‹•åˆ¤æ–·å‹åˆ¥çš„å®£å‘Šæ–¹å¼
let tup = (1, 3.1417, 1, "hello");

println!("{:?}", tup);

è¼¸å‡º
(1, 3.1417, 1, "hello")

// å¤šç¶­å…ƒçµ„
let tup = ("1", ("2", ("3")));
<span class="boring">}</span></code></pre></pre>
<p>å…ƒçµ„ä¹Ÿå¯ä»¥é€éè§£æ§‹(destructuring)æ‹†åˆ†å„å€‹å‹åˆ¥</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let tup: (i32, f64, u8, &amp;str) = (1, 3.1417, 1, "hello");

// è§£æ§‹æˆå„å€‹è®Šæ•¸
let (a, b, c, d) = tup;

println!("{} {} {} {}", a, b, c, d);

è¼¸å‡º
1 3.1417 1 hello
<span class="boring">}</span></code></pre></pre>
<p>ä¹Ÿå¯ä»¥é€é"."å†åŠ ä¸Šç´¢å¼•ä½ç½®ä¾†å–å¾—å…ƒçµ„å…§çš„å€¼</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let tup: (i32, f64, u8, &amp;str) = (1, 3.1417, 1, "hello");

// ç´¢å¼•å¾0é–‹å§‹
println!("{} {} {} {}", tup.0, tup.1, tup.2, tup.3);

è¼¸å‡º
1 3.1417 1 hello
<span class="boring">}</span></code></pre></pre>
<h3 id="é™£åˆ—å‹åˆ¥array"><a class="header" href="#é™£åˆ—å‹åˆ¥array">é™£åˆ—å‹åˆ¥(array)</a></h3>
<p>å’Œå…ƒçµ„ä¸€æ¨£å›ºå®šé•·åº¦ï¼Œå·®åˆ¥æ˜¯é™£åˆ—ä¸­çš„å‹åˆ¥å¿…é ˆè¦ä¸€æ¨£çš„</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// å®£å‘Šæ™‚æŒ‡å®šå‹åˆ¥å’Œé•·åº¦i32æ˜¯å‹åˆ¥;ä¹‹å¾Œçš„5æ˜¯é™£åˆ—çš„é•·åº¦
let array: [i32; 5] = [1, 2, 3, 4, 5];

// è‡ªå‹•åˆ¤æ–·å‹åˆ¥çš„å®£å‘Šæ–¹å¼
let array = [1, 2, 3, 4, 5];

// ç°¡åŒ–çš„å®£å‘Šæ–¹å¼ï¼Œé™£åˆ—è£¡å…¨æ˜¯helloé•·åº¦ç‚º5
let array = ["hello"; 5];
<span class="boring">}</span></code></pre></pre>
<p>é€æœç´¢å¼•ä½å€å–å€¼çš„æ–¹å¼</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let a = [1, 2, 3, 4, 5];

println!("{} {} {} {} {}", a[0], a[1], a[2], a[3], a[4]);

è¼¸å‡º
1 2 3 4 5
<span class="boring">}</span></code></pre></pre>
<h2 id="rust-æµç¨‹æ§åˆ¶-if"><a class="header" href="#rust-æµç¨‹æ§åˆ¶-if">Rust-æµç¨‹æ§åˆ¶-if</a></h2>
<p>åˆ©ç”¨å¸ƒæ—å€¼ä¾†æ±ºå®šå¦‚ä½•ç¹¼çºŒåŸ·è¡Œç¨‹å¼é€²è¡Œæ±ºç­–</p>
<p>ä¾‹</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let n = 3;

if n &gt; 2 {
    println!("åŸ·è¡Œ")
}
<span class="boring">}</span></code></pre></pre>
<p>if è·Ÿå…¶ä»–èªè¨€å·®ä¸å¤šï¼Œifé—œéµå­—å¾Œé¢å¸ƒæ—æ±‚å€¼ç¨±ç‚ºæ¢ä»¶åªæœ‰ç•¶trueæ‰æœƒåŸ·è¡Œå¤§æ‹¬è™Ÿè£¡é¢çš„èªæ³•</p>
<p>å¤§æ‹¬è™Ÿè£¡é¢å¯ä»¥åŒ…å«é›¶å€‹å¤šå€‹èªæ³•ï¼Œç”¨å¤§æ‹¬è™ŸåŒ…èµ·ä¾†çš„ç¨±ç‚ºå¡Š(block)</p>
<p>æ¢ä»¶å¿…é ˆæ˜¯å¸ƒæ—é¡å‹ï¼Œå› æ­¤ä¸å…è¨±ä¸‹é¢çš„èªæ³•</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// ä¸å…è¨±
if 1 {
   print!("åŸ·è¡Œ");
}
<span class="boring">}</span></code></pre></pre>
<p>æ¢ä»¶ä¸éœ€è¦ç”¨å°æ‹¬è™ŸåŒ…èµ·ä¾†ï¼Œæœƒå‡ºç¾è­¦å‘Š</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// å‡ºç¾è­¦å‘Š
if (3 &gt; 2) {
   println!("åŸ·è¡Œ")
}
<span class="boring">}</span></code></pre></pre>
<p>æ¢ä»¶ä¹‹å¾Œéœ€è¦ä¸€å€‹å¡Š(block)åŒ…èµ·ä¾†</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// ä¸å…è¨±
i 3 &gt; 2 println!("åŸ·è¡Œ")
<span class="boring">}</span></code></pre></pre>
<p>å¦‚æœè¦åœ¨æ¢ä»¶ç‚ºfalseæƒ…æ³åŸ·è¡Œæµç¨‹å¯ä»¥ä½¿ç”¨elseé—œéµå­—</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let n = 3;

if n &gt; 5 {
    println!("åŸ·è¡Œ")
} else 
    println!("falseåŸ·è¡Œ")
}

è¼¸å‡º
falseåŸ·è¡Œ
<span class="boring">}</span></code></pre></pre>
<p>Rustä¹Ÿæœ‰é¡ä¼¼PHPçš„ä¸‰å…ƒé‹ç®—</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let n = 3;

let str = if n &gt; 2 { "true_str" } else { "false_str" };

println!("{}", str);

è¼¸å‡º
true_str
<span class="boring">}</span></code></pre></pre>
<p>ä»¥ä¸‹ç¯„ä¾‹æ˜¯ä¸å…è¨±çš„</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// ä¸å…è¨±ï¼Œå› ç‚ºç„¡æ³•å®šç¾©strçš„å‹åˆ¥
let str = if true { "true_str" }

// ä¸å…è¨±ï¼Œå› ç‚ºå‹åˆ¥ä¸ä¸€æ¨£ï¼Œä¸€å€‹æ˜¯å­—ä¸²ä¸€å€‹æ˜¯æ•¸å­—
let str = if true { "true_str" } else { 9527 }
<span class="boring">}</span></code></pre></pre>
<h2 id="rust-æµç¨‹æ§åˆ¶-while"><a class="header" href="#rust-æµç¨‹æ§åˆ¶-while">Rust-æµç¨‹æ§åˆ¶-while</a></h2>
<p>é¡ä¼¼PHPçš„whileè¿´åœˆï¼Œè¨ˆç®—å…¶å¾Œçš„å¸ƒæ—æ¢ä»¶å¦‚æœæ˜¯å€¼ç‚ºtrueå‰‡åŸ·è¡Œå¤§æ‹¬è™Ÿä¸‹é¢çš„èªæ³•ï¼Œæœƒé‡è¤‡æ¢ä»¶çš„æª¢æŸ¥åŸ·è¡Œç›´åˆ°æ¢ä»¶å€¼ç‚ºfalseç‚ºæ­¢æˆ–æ˜¯å…¶ä»–åŸå› é€€å‡º</p>
<p>å‡è¨­è¦æ‰“å°1åˆ°100çš„æ•´æ•¸å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„èªæ³•ä¾†é”åˆ°</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut i = 1;

while i &lt;= 100 {
    print!("{} ", i);
    i += 1;
}

è¼¸å‡º
1 2 3 4 5 ... 100
<span class="boring">}</span></code></pre></pre>
<p>é›–ç„¶Rustæ²’æœ‰do whileçš„èªæ³•ä½†ä¹Ÿæœ‰break contiuneèªæ³•</p>
<p>ä¾‹å¦‚åªæƒ³å°å‡ºé›™æ•¸</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut i = 1;

 while i &lt;= 100 {
     i += 1;
     if i % 2 != 0 {
        continue;
     }
     print!("{} ", i);
}

è¼¸å‡º
2 4 6 8 10 ... 100
<span class="boring">}</span></code></pre></pre>
<p>æˆ–æ˜¯ç¢°åˆ°50çš„å€¼å°±ä¸­æ–·é€€å‡º</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut i = 1;

while i &lt;= 100 {
    if i == 50 {
        break;
    }
    print!("{} ", i);
		i += 1;
}

è¼¸å‡º
1 2 3 4 5 ... 49
<span class="boring">}</span></code></pre></pre>
<h3 id="ç„¡é™å¾ªç’°loop"><a class="header" href="#ç„¡é™å¾ªç’°loop">ç„¡é™å¾ªç’°(loop)</a></h3>
<p>å¦‚æœè¦åŸ·è¡Œç„¡é™å¾ªç’°çš„è¿´åœˆç›´åˆ°ç¨‹å¼è¢«å¼·åˆ¶ä¸­æ–·æˆ–æ˜¯é€šéé€€å‡ºå¾ªç’°èªæ³•breakï¼Œå¯ä»¥é€éloopèªæ³•</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// é€éwhilce æœƒå‡ºç¾è­¦å‘Š
let mut i = 1;

while true {
    if i == 50 {
        break;
    }
    i += 1;
}

// é€éloop
let mut i = 1;

loop {
    if i == 50 {
         break;
    }
    i += 1;
}
<span class="boring">}</span></code></pre></pre>
<h2 id="rust-æµç¨‹æ§åˆ¶-for"><a class="header" href="#rust-æµç¨‹æ§åˆ¶-for">Rust-æµç¨‹æ§åˆ¶-for</a></h2>
<p>å¦‚æœæƒ³å°å‡º1åˆ°100çš„æ•¸å­—ï¼Œæ›´å¸¸çš„åšæ³•æ˜¯ä½¿ç”¨forè¿´åœˆè€Œä¸æ˜¯while</p>
<p>ä¾‹</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>for i in 1..101 {
    println!("{}", i);
}

è¼¸å‡º
1 2 3 4 5 ... 100
<span class="boring">}</span></code></pre></pre>
<p>forå’Œinæ˜¯é—œéµå­—åœ¨ç”¨å…©å€‹æ•¸å­—åŠ ".."ç¬¦è™Ÿåˆ†éš”</p>
<p>iè®Šæ•¸ä¸€é–‹å§‹ç”±ç¬¬ä¸€å€‹æ•¸å­—(1)è³¦äºˆè©²å€¼ï¼Œç„¶å¾Œiå€¼ä¾åºçš„åŠ 1ç›´åˆ°å€¼é”åˆ°ç¬¬äºŒæ•¸å­—(101)ï¼Œç•¶å€¼åˆ°é”ç¬¬äºŒæ•¸æ˜¯"ä¸"åŸ·è¡Œçš„ä¸¦çµæŸforè¿´åœˆï¼Œæ‰€ä»¥è¦1åˆ°100éœ€è¦å¯«1..101</p>
<p>iæ˜¯forè¿´åœˆçš„å€åŸŸè®Šæ•¸æ‰€ä»¥å‰é¢å¦‚æœæœ‰å®£å‘Šéƒ½æœƒè¢«å¿½ç•¥ï¼Œè€Œä¸”åœ¨è¿´åœˆçµæŸå°±éŠ·æ¯€</p>
<p>ä¾‹</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let i = 99; // è¢«å±è”½çš„
for i in 0..11 {
		// é€™è£¡çš„iæ˜¯å€åŸŸè®Šæ•¸
    print!("{} ", i);
}
// é€™è£¡çš„iæ˜¯ä¸€é–‹å§‹å®£å‘Šçš„99
print!("{}", i);

è¼¸å‡º
0 1 2 3 4 5 6 7 8 9 10 99
<span class="boring">}</span></code></pre></pre>
<p>forè¿´åœˆä¹Ÿå¯ä»¥ç”¨ä¾†éæ­·é›†åˆçš„æ¯å€‹å…ƒç´ </p>
<p>ä¾‹</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let set = [1, 2, 3, 4, 5];

for var in set {
    print!("{} ", var);
}

è¼¸å‡º
1 2 3 4 5
<span class="boring">}</span></code></pre></pre>
<p>æˆ–æ˜¯åè½‰ç¯„åœå¾100å°åˆ°1</p>
<p>ä¾‹</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>for var in (1..101).rev() {
    print!("{} ", var);
}

è¼¸å‡º
100 99 98 97 96 ... 1
<span class="boring">}</span></code></pre></pre>
<h2 id="rust-æšèˆ‰enumeration"><a class="header" href="#rust-æšèˆ‰enumeration">Rust-æšèˆ‰(enumeration)</a></h2>
<p>æšèˆ‰å°±æ˜¯åˆ—å‡ºæœ‰çª®åºåˆ—çš„å‹åˆ¥</p>
<p>é€éenumé—œéµå­—æ–°å¢äº†æ–°çš„Browserå‹åˆ¥åœ¨ç¯„ä¾‹ä¸­åˆ—å‡ºäº†ä¸€å€‹çµ„é …åˆ†åˆ¥ç‚º</p>
<p>Firefoxï¼ŒChromeï¼ŒIEï¼ŒSafariå…§éƒ¨å€¼åˆ†åˆ¥ç‚º0u8ï¼Œ1u8ï¼Œ2u8ï¼Œ3u8è¡¨ç¤º</p>
<p>é€šå¸¸éƒ½æ˜¯ä»¥æ•´æ•¸ç‚ºå…§éƒ¨é—œè¯å€¼</p>
<p>é€éæšèˆ‰å¯«ä»¥ä¸‹çš„ä»£ç¢¼</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>enum Browser {
    Firefox,
    Chrome,
    Ie,
    Safari,
}

let browser = Browser::Ie;

match browser {
    Browser::Firefox =&gt; println!("F"),
    Browser::Chrome =&gt; println!("C"),
    Browser::Ie =&gt; println!("I"),
    Browser::Safari =&gt; println!("S"),
}
<span class="boring">}</span></code></pre></pre>
<p>ä¸è¦ç·¨å¯«é€™æ¨£çš„ä»£ç¢¼</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const FIREFOX: u8 = 0;
const CHROME: u8 = 1;
const IE: u8 = 2;
const SAFARI: u8 = 3;

let browser = IE;

if browser == FIREFOX {
    println!("F");
} else if browser == CHROME {
    println!("C");
} else if browser == IE {
    println!("I");
} else if browser == SAFARI {
    println!("S");
}
<span class="boring">}</span></code></pre></pre>
<h3 id="å†æ€æ¨£ä¹Ÿä¸è¦å¯«magic-number"><a class="header" href="#å†æ€æ¨£ä¹Ÿä¸è¦å¯«magic-number">å†æ€æ¨£ä¹Ÿä¸è¦å¯«<a href="https://zh.wikipedia.org/wiki/%E9%AD%94%E8%A1%93%E6%95%B8%E5%AD%97_(%E7%A8%8B%E5%BC%8F%E8%A8%AD%E8%A8%88)">magic number</a></a></h3>
<h3 id="å¦‚ä½•ä½¿ç”¨æšèˆ‰"><a class="header" href="#å¦‚ä½•ä½¿ç”¨æšèˆ‰">å¦‚ä½•ä½¿ç”¨æšèˆ‰</a></h3>
<p>ä½¿ç”¨Useçš„æ–¹å¼</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// é¡¯å¼çš„æŒ‡å®šè¦ä½¿ç”¨çš„æšèˆ‰
use Browser::{Chrome, Firefox, Ie, Safari};

let browser = Ie;

match browser {
    Firefox =&gt; println!("F"),
    Chrome =&gt; println!("C"),
    Ie =&gt; println!("I"),
    Safari =&gt; println!("S"),
}

// è‡ªå‹•çš„ä½¿ç”¨Browserå…§éƒ¨æ‰€æœ‰çš„æšèˆ‰
use Browser::*;

let browser = Ie;

match browser {
    Firefox =&gt; println!("F"),
    Chrome =&gt; println!("C"),
    Ie =&gt; println!("I"),
    Safari =&gt; println!("S"),
}
<span class="boring">}</span></code></pre></pre>
<p>ä½¿ç”¨å¸¶æœ‰Cé¢¨æ ¼çš„ç”¨æ³•</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>enum Browser {
    Firefox,
    Chrome,
    Ie,
    Safari,
}

println!("{}", Browser::Firefox as i32)
<span class="boring">}</span></code></pre></pre>
<p>æšèˆ‰ä¸èƒ½ä½¿ç”¨"=="é‹ç®—å­åšæ¯”è¼ƒ</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let browser = Browser::Ie;

if browser == Browser::Ie {
    println!("{}", "hello word")
}

// ç·¨è­¯æ™‚æœƒå‡ºéŒ¯
// binary operation `==` cannot be applied to type `Browser`
<span class="boring">}</span></code></pre></pre>
<h2 id="rust-matchæ§åˆ¶æµé‹ç®—å­"><a class="header" href="#rust-matchæ§åˆ¶æµé‹ç®—å­">Rust-Matchæ§åˆ¶æµé‹ç®—å­</a></h2>
<p>Matchæ˜¯ä½¿ç”¨æšèˆ‰çš„åŸºæœ¬å·¥å…·ï¼Œé¡ä¼¼Golangçš„Switchèªæ³•</p>
<p>Matchå–å€¼å¾Œå°æ¯å€‹æ¢ä»¶é€²è¡Œæ¯”è¼ƒä¾ç…§é †åºæ¯”è¼ƒï¼Œä¸€ä½†åŒ¹é…æˆåŠŸå°±å°å³å´æ±‚å€¼ï¼Œä¸¦çµç®—Matchèªæ³•</p>
<p>æ¯å€‹æ¢ä»¶åˆ†æ”¯å³å´éƒ½å¿…é ˆæ˜¯å–®å€‹è¡¨é”å¼</p>
<p>ä¾‹</p>
<p>å‰é¢ä¸‰å€‹éƒ½æ˜¯ç„¡æ•ˆçš„è¡¨é”å¼</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>match browser {
    Firefox =&gt; let var = 777;, // ç„¡æ•ˆçš„è¡¨é”å¼
    Chrome =&gt; let var = 777, // ç„¡æ•ˆçš„è¡¨é”å¼
    Ie =&gt;  fu funct() {}, // ç„¡æ•ˆçš„è¡¨é”å¼
    Safari =&gt; println!("S"),
}
<span class="boring">}</span></code></pre></pre>
<p>å¦‚æœéœ€è¦åœ¨å³å´å¥½å¹¾å€‹è¡¨é”å¼æˆ–æ˜¯éè¡¨é”å¼å¯ä»¥ç”¨å¡Šä¾†åŒ…èµ·ä¾†</p>
<p>ä¾‹</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>enum Browser {
    Firefox,
    Chrome,
    Ie,
    Safari,
}

let browser = Browser::Ie;

match browser {
    Browser::Firefox =&gt; {
        browser = Browser::Ie;
        println!("F");
    },
    Browser::Chrome =&gt; {
        let var = 777;
        println!("C")
    },
    Browser::Ie =&gt; println!("I"),
    Browser::Safari =&gt; println!("S"),
}
<span class="boring">}</span></code></pre></pre>
<p>è™•ç†æ‰€æœ‰å¯èƒ½</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>enum Browser {
    Firefox,
    Chrome,
    Ie,
    Safari,
}

let browser = Browser::Ie;

match browser {
    Browser::Ie =&gt; println!("I"),
    Browser::Safari =&gt; println!("S"),
}

// ç·¨è­¯æ™‚æœƒå‡º
patterns `Firefox` and `Chrome` not covered
<span class="boring">}</span></code></pre></pre>
<p>å› ç‚ºå°‘äº†Firefoxå’ŒChromeæ¢ä»¶åˆ†æ”¯ï¼ŒRustè¦æ±‚mtchéœ€è¦é¡¯å¼çš„è™•ç†æ‰€æœ‰å¯èƒ½çš„æƒ…æ³</p>
<p>å¯ä»¥ä½¿ç”¨ç©ºè™•ç†</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let browser = Browser::Ie;

match browser {
    Browser::Firefox =&gt; {}, // ä½¿ç”¨ç©ºè™•ç†
    Browser::Chrome =&gt; {}, // ä½¿ç”¨ç©ºè™•ç†
    Browser::Ie =&gt; println!("I"),
    Browser::Safari =&gt; println!("S"),
}
<span class="boring">}</span></code></pre></pre>
<p>æˆ–æ˜¯ä½¿ç”¨"_"ä¸‹åº•ç·šï¼Œé¡ä¼¼Golangçš„Default</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let browser = Browser::Ie;

match browser {
    Browser::Ie =&gt; println!("I"),
    Browser::Safari =&gt; println!("S"),
    _ =&gt; {},
}
<span class="boring">}</span></code></pre></pre>
<p>å¦‚æœDefaultæ”¾åœ¨æ¢ä»¶æœ€ä¸Šé¢æœƒå› ç‚ºé †åºé—œä¿‚ä»€éº¼éƒ½ä¸è™•ç†</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let browser = Browser::Ie;

match browser {
    _ =&gt; {}, // æ°¸é éƒ½è·‘åˆ°é€™è£¡
    Browser::Ie =&gt; println!("I"),
    Browser::Safari =&gt; println!("S"),
}
<span class="boring">}</span></code></pre></pre>
<h3 id="å°å‹åˆ¥ä½¿ç”¨match"><a class="header" href="#å°å‹åˆ¥ä½¿ç”¨match">å°å‹åˆ¥ä½¿ç”¨Match</a></h3>
<p>matché™¤äº†å°æšèˆ‰ä¹‹å¤–ä¹Ÿå¯ä»¥å°ä¸€èˆ¬å‹åˆ¥</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>match "value" {
    "value" =&gt; println!("value"),
    _ =&gt; println!("other"),
}

match 1 {
    1 =&gt; println!("one"),
    2 =&gt; println!("two"),
    3 =&gt; println!("three"),
    _ =&gt; println!("other"),
}
<span class="boring">}</span></code></pre></pre>
<p>å› ç‚ºå‹åˆ¥ä¸åƒæšèˆ‰æœ‰å¯çª®èˆ‰å‡ºæ‰€æœ‰ï¼Œæ‰€ä»¥ä¸€å®šéœ€è¦"_"(Default) æ¢ä»¶ï¼Œä¸ç„¶ç·¨è­¯æœƒå‡ºç¾éŒ¯èª¤</p>
<h2 id="rust-çµæ§‹é«”struct"><a class="header" href="#rust-çµæ§‹é«”struct">Rust-çµæ§‹é«”(Struct)</a></h2>
<p>struct æ˜¯å‘½åä¸¦å°è£æ•¸å€‹æ¬„ä½æ•¸å€¼æ‰€çµ„åˆçš„è‡ªè¨‚å‹åˆ¥</p>
<p>struct æœ‰ 3 ç¨®é¡å‹</p>
<ul>
<li>å…ƒçµ„çµæ§‹é«”(tuple struct)ï¼Œå°±æ˜¯å…·åå…ƒçµ„è€Œå·²</li>
<li>ç¶“å…¸çš„Cèªè¨€é¢¨æ ¼çµæ§‹é«”(C struct)</li>
<li>å–®å…ƒçµæ§‹é«”(unit struct)ï¼Œä¸å¸¶å­—æ®µï¼Œåœ¨æ³›å‹ä¸­å¾ˆæœ‰ç”¨</li>
</ul>
<p>å‰å¹¾ç¯‡æ‰€è¬›çš„å…ƒçµ„å‹åˆ¥(tupl)ï¼Œåªè¦å…ƒçµ„åŒ…å«å°‘é‡çš„å­—æ®µå°±å¾ˆå¥½ç”¨ä½†æ˜¯ç•¶å­—æ®µä¸€å¤šå°±å®¹æ˜“å°‡å®ƒå€‘ææ··
ä¸¦ä¸”ä»£ç¢¼ä¹Ÿå¾ˆå®¹æ˜“ç†è§£</p>
<p>ä¾‹å¦‚ä¸‹é¢çš„ä»£ç¢¼ï¼Œä¸èƒ½å¾ˆè¼•æ˜“çš„çŸ¥é“å“ªå€‹å­—æ®µç›¸åŠ ï¼Œè€Œä¸”å…ƒçµ„å‹åˆ¥æ˜¯æœ‰åºçš„å¦‚æœåœ¨é–‹é ­å¢åŠ å­—æ®µå“ªè®Šæˆå¾Œé¢çš„å­—æ®µéƒ½éœ€è¦å¾€å¾Œéå»¶éå¸¸ä¸ç›´è¦º</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let data = (1, 'a', 'b', 199.199, true, -100);
println!("{}", data.0 + data.5);
<span class="boring">}</span></code></pre></pre>
<p>é€™æ™‚å€™ä½¿ç”¨çµæ§‹é«”(Struct)å°±éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥ç‚ºå­—æ®µå‘½åä¸¦æ¨™ç¤ºå‹åˆ¥</p>
<p>å®ƒä»¥structé—œéµå­—é–‹é ­å¾Œé¢æ¥è‘—è¦è²æ˜çš„é¡å‹å†ä»¥å¤§æ‹¬è™ŸåŒ…èµ·ä¾†</p>
<p>ä¾‹å¦‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// ç¶“å…¸çš„Cèªè¨€é¢¨æ ¼çµæ§‹é«”(C struct)
struct User {
    username: String,
    email: String,
    active: bool,
}

let user = User {
    email: String::from("user@usermail.com"),
    username: String::from("user123"),
    active: true,
};

println!("{} {} {}", user.email, user.username, user.active)
<span class="boring">}</span></code></pre></pre>
<p>å…ƒçµ„çµæ§‹ï¼Œæ“æœ‰å…ƒçµ„å‹åˆ¥å’Œçµæ§‹å…©å€‹ç‰¹æ€§åˆä¸å®Œå…¨ä¸€æ¨£</p>
<ul>
<li>éœ€è¦äº‹å…ˆè²æ˜</li>
<li>å­—æ®µæ²’æœ‰åç¨±</li>
</ul>
<p>å¯¦éš›ä¸Šé€™ç¨®çµæ§‹ä¸å¸¸ä½¿ç”¨</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct User(String, String, bool);

let user = User(
    String::from("user@usermail.com"),
    String::from("user123"),
    true,
);

println!("{} {} {}", user.0, user.1, user.2)
<span class="boring">}</span></code></pre></pre>
<p>å–®å…ƒçµæ§‹é«”</p>
<p>å–®å…ƒçµæ§‹é«”é©åˆç”¨åœ¨ç•¶è¦å¯¦ä½œä¸€å€‹ç‰¹å¾µ(trait)æˆ–æŸç¨®å‹åˆ¥ï¼Œä½†æ²’æœ‰ä»»ä½•éœ€è¦å„²å­˜åœ¨å‹åˆ¥ä¸­çš„è³‡æ–™</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct AlwaysEqual;

let subject = AlwaysEqual;
<span class="boring">}</span></code></pre></pre>
<h2 id="rust-å®šç¾©å‡½å¼functionä¸€"><a class="header" href="#rust-å®šç¾©å‡½å¼functionä¸€">Rust-å®šç¾©å‡½å¼Function(ä¸€)</a></h2>
<p>å¦‚æœç·¨å¯«å¤šæ¬¡ç›¸åŒçš„ä»£ç¢¼ï¼Œå‰‡å¯ä»¥æŠŠä»£ç¢¼å°è£åœ¨ä¸€å€‹å¡Šä¸­ï¼Œç„¶å¾Œç‚ºè©²ä»£ç¢¼å‘½å</p>
<p>é€šéé€™ç¨®æ–¹å¼å°±å®šç¾©äº†å‡½å¼ï¼Œç„¶å¾Œå¯ä»¥é€šéå‘½åçš„åç¨±ä¾†èª¿ç”¨è©²å‡½å¼</p>
<p>è¦è¨‚ä¸€å€‹å‡½å¼éœ€è¦ä½¿ç”¨"fn"é—œéµå­—å¾Œé¢æ¥è‘—å‡½å¼çš„åç¨±è·Ÿåœ“æ‹¬è™Ÿç„¶å¾Œæ˜¯ä¸€å€‹å¤§æ‹¬è™Ÿå¡Š</p>
<p>å¤§æ‹¬è™Ÿçš„å¡Šç¨±ç‚ºå‡½å¼é«”ï¼Œå‡½å¼é«”ä¹‹å‰éƒ½ç¨±ç‚ºç°½å</p>
<p>ä¸‹é¢ä¾‹å­ç°¡å–®ä½¿ç”¨å‡½å¼</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn hello_word() {
    println!("hello word!")
}

hello_word();
hello_word();
hello_word();

è¼¸å‡º
hello word!
hello word!
hello word!
<span class="boring">}</span></code></pre></pre>
<p>å¾Œå®šç¾©å‡½å¼</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>a;
let a = 5; // éæ³•ä½¿ç”¨è®Šæ•¸

hello_word(); // åˆæ³•ä½¿ç”¨å¾Œå®šç¾©çš„å‡½å¼
fn hello_word() {
    println!("hello word!")
}
<span class="boring">}</span></code></pre></pre>
<p>å‡½å¼å±è”½å…¶ä»–å‡½å¼</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn hello_word() {}
fn hello_word() {} // å¤šæ¬¡å®šç¾©å‡½å¼

ç·¨è­¯æ™‚æœƒå‡ºéŒ¯
the name `hello_word` is defined multiple times
<span class="boring">}</span></code></pre></pre>
<p>ä½†æ˜¯å¯ä»¥åŒ…åœ¨å¡Šè£¡å¤šæ¬¡å®šç¾©fn</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>{
    fn hello_word() {
        println!("hello word 1")
    }

    hello_word();
}
{
    fn hello_word() {
        println!("hello word 2")
    }

    hello_word();
}

è¼¸å‡º
hello word 1
hello word 2
<span class="boring">}</span></code></pre></pre>
<p>æ¯å€‹å®šç¾©å‡½å¼åªèƒ½åœ¨å¡Šè£¡é¢æœ‰æ•ˆï¼Œä¸‹é¢æ˜¯ä¸åˆæ³•çš„</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>{
    fn hello_word() {
        println!("hello word 2")
    }
}

hello_word();

ç·¨è­¯æ™‚æœƒå‡ºéŒ¯
cannot find function `hello_word` in this scope
<span class="boring">}</span></code></pre></pre>
<p>ä¹Ÿå¯ä»¥åœ¨å±è”½å¤–çš„å¡Šç´šå®šç¾©å¦ä¸€å€‹å‡½å¼</p>
<p>åœ¨mainå¤–éƒ¨å®šç¾©å‡½å¼hello_word()ï¼Œå› å…¶å…§éƒ¨ä¹Ÿå®šç¾©äº†hello_wordï¼Œæ‰€ä»¥æ°¸é ç”¨ä¸åˆ°å¤–éƒ¨çš„å®šç¾©å‡½å¼</p>
<p>é€šå¸¸ç·¨è­¯å™¨æœƒè­¦å‘Š</p>
<pre><pre class="playground"><code class="language-rust">fn hello_word() {
    println!("hello word 1")
}

fn main() {
    hello_word();

    {
        hello_word();
        fn hello_word() {
            println!("hello word 2")
        }
    }

    hello_word();
    fn hello_word() {
        println!("hello word 3")
    }
}
</code></pre></pre>
<p>é€™é‚Šè¼¸å‡º</p>
<pre><code>hello word 3
hello word 2
hello word 3
</code></pre>
<h2 id="rust-å®šç¾©å‡½å¼functionäºŒ"><a class="header" href="#rust-å®šç¾©å‡½å¼functionäºŒ">Rust-å®šç¾©å‡½å¼Function(äºŒ)</a></h2>
<h3 id="å‡½å¼å‚³éåƒæ•¸"><a class="header" href="#å‡½å¼å‚³éåƒæ•¸">å‡½å¼å‚³éåƒæ•¸</a></h3>
<p>æ¯æ¬¡èª¿ç”¨å‡½å¼æ™‚éƒ½æ‰“å°ç›¸åŒçš„hello wordçš„å‡½å¼ä¸æ˜¯å¾ˆæœ‰ç”¨è™•</p>
<p>é€™æ™‚å€™å¯ä»¥å‚³éåƒæ•¸çµ¦å‡½å¼æœƒé¡¯å¾—æ›´æœ‰æ„ç¾©</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn hello_word(name: String) {
    println!("{} hello", name)
}

hello_word(String::from("Mike"));

è¼¸å‡º
Mike hello
<span class="boring">}</span></code></pre></pre>
<p>å‡½å¼åƒæ•¸çš„å®šç¾©èˆ‡è®Šæ•¸å®šç¾©éå¸¸ç›¸ä¼¼</p>
<p>å› æ­¤å¯ä»¥å°‡é¢çš„å‡½å¼è§£é‡‹ç‚º</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>{
    let name: String = String::from("Mike");
    println!("{} hello", name)
}
<span class="boring">}</span></code></pre></pre>
<p>è®Šæ•¸çš„å®šç¾©èˆ‡å‡½å¼åƒæ•¸çš„å®šç¾©ä¸»è¦çš„å·®åˆ¥åœ¨æ–¼å‡½å¼å®šç¾©éœ€è¦æ˜ç¢ºçš„æŒ‡å®šé¡å‹</p>
<p>è®Šæ•¸çš„å®šç¾©å¯ä»¥ä¾è³´é¡å‹æ¨æ–·</p>
<p>ç·¨è­¯å™¨æœƒä½¿ç”¨é¡å‹æ¨æ–·ä¾†æª¢æŸ¥åƒæ•¸å€¼æ˜¯å¦åˆæ³•</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn f(c: i16) {}

f(5.); // éæ³•å› ç‚ºæ˜¯æµ®é»æ•¸
f(5u16); // éæ³•å› ç‚ºæ˜¯u16å‹åˆ¥
f(5i16); // åˆæ³•
f(5); // åˆæ³•å› ç‚ºå‚³éæ˜¯ç„¡ç´„æŸå¾—æ•´æ•¸é¡å‹åƒæ•¸æœƒè®Šå‡½å¼é™åˆ¶ç‚ºi16é¡å‹
<span class="boring">}</span></code></pre></pre>
<h3 id="å‡½å¼æŒ‰å€¼å‚³éåƒæ•¸"><a class="header" href="#å‡½å¼æŒ‰å€¼å‚³éåƒæ•¸">å‡½å¼æŒ‰"å€¼"å‚³éåƒæ•¸</a></h3>
<p>åƒæ•¸ä¸åƒ…åƒ…æ˜¯å‚³éç‰©ä»¶çš„æ–°åç¨±æ˜¯å‚³éç‰©ä»¶çš„å‰¯æœ¬ï¼Œæ­¤å‰¯æœ¬åœ¨èª¿ç”¨å‡½å¼æ™‚å‰µå»ºä¸¦åœ¨å‡½å¼çµæŸä¸”æ§åˆ¶è¿”å›åˆ°èª¿ç”¨è€…æ™‚éŠ·æ¯€å®ƒ</p>
<p>ä¾‹å¦‚ä¸‹é¢</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn test(mut f: f64) {
    f *= 10.;
    println!("{}", f)
}

let f = 5.;
test(f);
println!("{}", f);

è¼¸å‡º
50
5
<span class="boring">}</span></code></pre></pre>
<p>åœ¨ä¸€é–‹å§‹å°±å®£å‘Šçš„fè®Šæ•¸åœ¨å‚³éçµ¦testå‡½å¼çš„ï¼Œä¸¦åœ¨å‡½å¼ä¸­ä¿ç•™ä½¿ç”¨fè®Šæ•¸ä¸¦æ›´æ”¹è®Šæ•¸å¾—å€¼ä¸¦æ‰“å°ï¼Œå‡½å¼çµæŸåçµ¦èª¿ç”¨è€…ï¼Œç„¶ä¾¯åœ¨å°å‡ºfè®Šæ•¸ï¼Œé€™å€‹è®Šæ•¸èˆ‡èª¿ç”¨æ™‚ä¸€æ¨£</p>
<p>å¯¦éš›ä¸Šå‚³éçµ¦å‡½å¼çš„ä¸æ˜¯é€™å€‹è®Šæ•¸è€Œæ˜¯è®Šæ•¸çš„"å€¼"ä¸¦åœ¨å‡½å¼çµå°¾æ™‚éŠ·æ¯€</p>
<h3 id="å‡½å¼è¿”å›å€¼"><a class="header" href="#å‡½å¼è¿”å›å€¼">å‡½å¼è¿”å›å€¼</a></h3>
<p>å‡½å¼é™¤äº†èƒ½æ¥æ”¶åƒæ•¸ä¹‹å¤–é‚„å¯ä»¥è¨ˆç®—çµæœä¸¦è¿”å›çµ¦èª¿ç”¨è€…</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn test(f: f64) -&gt; f64 {
    return f * 10.;
}

println!("{}", test(5.));
<span class="boring">}</span></code></pre></pre>
<p>è¿”å›å€¼éœ€è¦å†å‡½å¼ç°½åä¹‹å¾Œç”¨"â†’"ä¸¦æŒ‡å®šå‹åˆ¥</p>
<h2 id="rust-å®šç¾©å‡½å¼functionä¸‰"><a class="header" href="#rust-å®šç¾©å‡½å¼functionä¸‰">Rust-å®šç¾©å‡½å¼Function(ä¸‰)</a></h2>
<h3 id="æå‰é€€å‡º"><a class="header" href="#æå‰é€€å‡º">æå‰é€€å‡º</a></h3>
<p>æ­£å¸¸æƒ…æ³æ˜¯å¿…é ˆé”åˆ°å‡½ç¤ºçš„æœ«å°¾ï¼Œä½†æ˜¯å¦‚æœç·¨å¯«åŒ…å«è¨±å¤šèªæ³•çš„å‡½å¼é€šå¸¸æœƒåœ¨æ„è­˜åˆ°æ²’æœ‰æ›´å¤šè¨ˆç®—è¦åšæ™‚å› æ­¤éœ€è¦æå‰é€€å‡ºè©²å‡½å¼</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn f(x: i32) -&gt; i32 {
    if x &lt;= 0 {
        return 0;
    }

    return x * 5;
}

println!("{} {}", f(10), f(0))

è¼¸å‡º
50 0
<span class="boring">}</span></code></pre></pre>
<h3 id="è¿”å›å¤šå€‹å€¼"><a class="header" href="#è¿”å›å¤šå€‹å€¼">è¿”å›å¤šå€‹å€¼</a></h3>
<p>å¦‚æœè¦å¾å‡½å¼è¿”å›å¤šå€‹å€¼ï¼Œå¯ä»¥ä½¿ç”¨å…ƒçµ„å‹åˆ¥</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn f(x: i32) -&gt; (i32, i32) {
    return (x * 5, 10);
}

println!("{:?}", f(10))

è¼¸å‡º
(50, 10)
<span class="boring">}</span></code></pre></pre>
<p>æˆ–æ˜¯ä¹Ÿå¯ä»¥ç”¨è¿”å›çµæ§‹ï¼Œå…ƒçµ„çµæ§‹ï¼Œæ•¸çµ„æˆ–æ˜¯å‘é‡ä¾†è¿”å›å¤šå€‹</p>
<h3 id="æ›´æ”¹èª¿ç”¨è€…çš„è®Šæ•¸"><a class="header" href="#æ›´æ”¹èª¿ç”¨è€…çš„è®Šæ•¸">æ›´æ”¹èª¿ç”¨è€…çš„è®Šæ•¸</a></h3>
<p>å‡è¨­æœ‰å€‹åŒ…å«æ•¸å­—çš„æ•¸çµ„ï¼Œè¦æ›´æ”¹å…¶ä¸­çš„æ•¸å­—</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn f(mut a: [i32; 5]) {
    for i in 0..5 {
        if a[i] &gt; 0 {
            a[i] *= 2;
        }
    }
}

let mut arr = [5, -1, 2, -2, 8];
f(arr);
println!("{:?}", arr);

è¼¸å‡º
[5, -1, 2, -2, 8]
<span class="boring">}</span></code></pre></pre>
<p>å¯ä»¥çœ‹åˆ°ä¸¦æ²’æœ‰æ”¹è®Šæ•¸çµ„ï¼Œä¸¦ä¸”åœ¨ç·¨è­¯æ™‚å‡ºç¾è­¦å‘Švariable does not need to be mutable</p>
<p>å‘Šè¨´æˆ‘å€‘mutè²æ˜arrä¹‹å¾Œå»æ²’æœ‰æ”¹è®Šå¯ä»¥ç§»é™¤</p>
<p>æ¯”è¼ƒéº»ç…©çš„ä½œæ³•ï¼Œå¯ä»¥é€éå›å‚³å€¼å›å‚³ä¸€å€‹æ–°çš„æ•¸çµ„ï¼Œç¼ºé»å°±æ˜¯æ•¸çµ„æœƒè¤‡è£½å…©æ¬¡</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn f(mut a: [i32; 5]) -&gt; [i32; 5] {
    for i in 0..5 {
        if a[i] &gt; 0 {
            a[i] *= 2;
        }
    }

    return a;
}

let mut arr = [5, -1, 2, -2, 8];
arr = f(arr);
println!("{:?}", arr);

è¼¸å‡º
[10, -1, 4, -2, 16]
<span class="boring">}</span></code></pre></pre>
<p>å¯ä»¥é€éå¼•ç”¨å‚³éåƒæ•¸çš„æ–¹å¼ä¾†æ”¹è®Šæ•¸çµ„</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn f(a: &amp;mut [i32; 5]) {
    for i in 0..5 {
        if (*a)[i] &gt; 0 {
            (*a)[i] *= 2;
        }
    }
}

let mut arr = [5, -1, 2, -2, 8];
f(&amp;mut arr);
println!("{:?}", arr);

è¼¸å‡º
[10, -1, 4, -2, 16]
<span class="boring">}</span></code></pre></pre>
<p>é€é&amp;ç¬¦è™Ÿä¾†è¡¨ç¤ºç‰©ä»¶è¨˜æ†¶é«”ä½å€ï¼Œè€Œä½¿ç”¨*ç¬¦è™Ÿè¡¨ç¤ºè¨˜æ†¶é«”ä½å€çš„ç‰©ä»¶</p>
<p>é€šéå‹åˆ¥å®£å‘Š&amp;mut [i32; 5]æŒ‡å®šå®ƒæ˜¯ç‰©ä»¶çš„åœ°å€(å¯ä»¥ç¨±ç‚ºæŒ‡é‡Pointeræˆ–æ˜¯å¼•ç”¨reference)</p>
<p>é€™é‚Šçš„ä½¿ç”¨è·ŸC++ä½¿ç”¨å¾ˆåƒï¼Œå€åˆ¥æ˜¯Rusté‚„å…è¨±é¡¯å¼çš„å–æ¶ˆå¼•ç”¨å¯ä»¥çœç•¥*ç¬¦è™Ÿ</p>
<p>é€™å€‹å‡½å¼ç­‰åŒæ–¼ä¸Šé¢</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn f(a: &amp;mut [i32; 5]) {
    for i in 0..5 {
        if a[i] &gt; 0 { // çœç•¥äº†*
            a[i] *= 2; // çœç•¥äº†*
        }
    }
}

let mut arr = [5, -1, 2, -2, 8];
f(&amp;mut arr);
println!("{:?}", arr);

è¼¸å‡º
[10, -1, 4, -2, 16]
<span class="boring">}</span></code></pre></pre>
<h2 id="rust-å®šç¾©æ³›å‹å‡½å¼"><a class="header" href="#rust-å®šç¾©æ³›å‹å‡½å¼">Rust-å®šç¾©æ³›å‹å‡½å¼</a></h2>
<p>Rustæ˜¯å¼·å‹åˆ¥èªè¨€ï¼ŒåŸ·è¡Œåš´æ ¼çš„è³‡æ–™å‹åˆ¥æª¢æŸ¥ï¼Œå› æ­¤ç•¶å®šç¾©ä½¿ç”¨æŸç¨®å‹åˆ¥åƒæ•¸çš„å‡½å¼æ™‚æ¯”å¦‚èªª</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>square(x: f32) -&gt; f32
<span class="boring">}</span></code></pre></pre>
<p>èª¿ç”¨å‡½å¼çš„ç¨‹å¼ç¢¼å¿…é ˆå‚³éä¸€å€‹åš´æ ¼å±¬æ–¼é€™ç¨®å‹åˆ¥çš„è¡¨é”å¼ä¾‹å¦‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>square(1.3414f32)
<span class="boring">}</span></code></pre></pre>
<p>æˆ–è€…æ˜¯æ¯æ¬¡ä½¿ç”¨è©²å‡½å¼æ™‚éƒ½åŸ·è¡Œé¡¯å¼çš„å‹åˆ¥è½‰æ›ä¾‹å¦‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>square(1.3414f64 as f32)
<span class="boring">}</span></code></pre></pre>
<p>å°æ–¼ä½¿ç”¨çš„äººéå¸¸ä¸æ–¹ä¾¿ï¼Œå°æ–¼ç·¨å¯«è©²å‡½å¼çš„äººä¹Ÿä¸æ–¹ä¾¿</p>
<p>ç”±æ–¼Rustæœ‰å¾ˆå¤šæ•¸å­—é¡çš„å‹åˆ¥ï¼Œå¦‚æœæ±ºå®šäº†åƒæ•¸å‹åˆ¥æ˜¯i32å‹åˆ¥ä½†æ¯æ¬¡èª¿ç”¨å¹¾ä¹éƒ½æ˜¯ç”¨i64å“ªæœ€å¥½æ˜¯æ›´æ”¹åƒæ•¸å‹åˆ¥ç‚ºi64ï¼Œè€Œä¸”å¦‚æœå‡½å¼æœ‰å¤šå€‹æ¨¡å¡Šæˆ–æ˜¯å¤šå€‹ç¨‹å¼åœ¨ä½¿ç”¨å‰‡å¾ˆé›£æ»¿è¶³æ¯å€‹èª¿ç”¨è€…çš„éœ€æ±‚</p>
<p>ä¾‹å¦‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn f(s: char, n1: i16, n2: i16) -&gt; i16 {
    if s == '1' {
        return n1;
    }

    return n2;
}

println!("{}", f('1', 10, 20));

è¼¸å‡º
10
<span class="boring">}</span></code></pre></pre>
<p>é€™æ™‚å€™æƒ³ç”¨f32ç•¶åƒæ•¸è‚¯å®šæ˜¯ç„¡æ³•ä½¿ç”¨é€™å‡½å¼ï¼Œä½†ç¸½ä¸èƒ½ç‚ºäº†é€™å€‹éœ€æ±‚åˆå¯«äº†é‚è¼¯ä¸€æ¨£çš„å‡½å¼åªå·®åœ¨åƒæ•¸ä¸åŒï¼Œé€™æ™‚å€™å°±å¯ä»¥ä½¿ç”¨æ³›å‹å‡½å¼äº†</p>
<h3 id="å®šç¾©æ³›å‹å‡½å¼"><a class="header" href="#å®šç¾©æ³›å‹å‡½å¼">å®šç¾©æ³›å‹å‡½å¼</a></h3>
<pre><pre class="playground"><code class="language-rust">fn main() {
		println!("{}", f::&lt;i16&gt;('1', 10, 20));
    println!("{}", f::&lt;f32&gt;('1', 10.1, 20.1));
}

fn f&lt;T&gt;(s: char, n1: T, n2: T) -&gt; T {
    if s == '1' {
        return n1;
    }

    return n2;
}

è¼¸å‡º
10
10.1</code></pre></pre>
<p>é€™å€‹å‡½å¼æ—¢å¯ä»¥è¼¸å…¥i16ä¹Ÿå¯ä»¥è¼¸å…¥f32ç•¶åƒæ•¸äº†</p>
<p>åœ¨å®šç¾©å‡½å¼ä¸­ï¼Œå‡½å¼åä¹‹å¾Œç”¨&lt;&gt;åŒ…èµ·ä¾†å­—æ¯Tï¼Œè©²å­—æ¯ç‚ºå‡½å¼å®£å‘Šçš„å‹åˆ¥åƒæ•¸</p>
<p>é€™å€‹è¡¨ç¤ºå®£å‘Šçš„ä¸æ˜¯å…·é«”å‡½å¼è€Œæ˜¯ç”±Tå‹åˆ¥åƒæ•¸ä¾†åƒæ•¸åŒ–çš„æ³›å‹å‡½å¼ï¼Œåªæœ‰åœ¨ç·¨è­¯æ™‚ç‚ºè©²Tåƒæ•¸æŒ‡å®šå…·é«”å‹åˆ¥æ™‚è©²å‡½å¼æ‰æˆç‚ºå…·é«”å‡½å¼</p>
<p>åœ¨ä½¿ç”¨æ³›å‹å‡½å¼éœ€è¦å°‡Tåƒæ•¸æ›¿æ›æˆå¯¦éš›ä½¿ç”¨f::çš„å‹åˆ¥ä¾†è­·å¾—å…·é«”å‡½å¼</p>
<p>ä¸Šé¢ä¾‹å­æœ‰ä¸‰å€‹åœ°æ–¹å®£å‘ŠæˆTå‹åˆ¥ï¼Œåœ¨ä½¿ç”¨æ™‚éœ€è¦ä¸‰å€‹éƒ½æ˜¯ç›¸åŒå‹åˆ¥ä¸ç„¶åœ¨ç·¨è­¯æ™‚æœƒå‡ºç¾éŒ¯èª¤</p>
<h3 id="æ¨æ–·åƒæ•¸å‹åˆ¥"><a class="header" href="#æ¨æ–·åƒæ•¸å‹åˆ¥">æ¨æ–·åƒæ•¸å‹åˆ¥</a></h3>
<p>å¯ä»¥é€éRustçš„å‹åˆ¥æ¨æ–·ç°¡åŒ–æˆä¸‹é¢ä½¿ç”¨ç¯„ä¾‹</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    println!("{}", f('1', 10, 20)); // é€åˆ¥æ¨æ–·å‹åˆ¥ç°¡åŒ–
    println!("{}", f('1', 10.1, 20.1)); // é€åˆ¥æ¨æ–·å‹åˆ¥ç°¡åŒ–
}

fn f&lt;T&gt;(s: char, n1: T, n2: T) -&gt; T {
    if s == '1' {
        return n1;
    }

    return n2;
}
</code></pre></pre>
<h2 id="rust-å®šç¾©æ³›å‹çµæ§‹"><a class="header" href="#rust-å®šç¾©æ³›å‹çµæ§‹">Rust-å®šç¾©æ³›å‹çµæ§‹</a></h2>
<p>æ—¢ç„¶æœ‰æ³›å‹å‡½æ•¸ç•¶ç„¶å°‘ä¸ç­æ³›å‹çµæ§‹</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct S1&lt;T1, T2&gt; {
   n1: T1,
   n2: T2,
}

let s = S {n1:957, n2:996.1}
<span class="boring">}</span></code></pre></pre>
<p>ç¬¬ä¸€å¥èªæ³•å®£å‘Šäº†å…©å€‹å‹åˆ¥T1å’ŒT2åƒæ•¸åŒ–çš„æ³›å‹çµæ§‹S1ï¼Œç¬¬ä¸€å€‹å­—æ®µn1ç‚ºT1ç¬¬äºŒå­—æ®µn2ç‚ºT2</p>
<p>ç¬¬äºŒå¥èªæ³•n1å­—æ®µçš„åƒæ•¸éš±å¼çš„æ›¿æ›æˆi32ï¼Œn2å­—æ®µçš„åƒæ•¸éš±å¼æ›¿æ›æˆf64</p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨æ³›å‹å…ƒçµ„çµæ§‹</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct SE&lt;T1, T2&gt; (T1, T2)

let se = SE (957, 996.1)
<span class="boring">}</span></code></pre></pre>
<h3 id="æ³›å‹æ©Ÿåˆ¶"><a class="header" href="#æ³›å‹æ©Ÿåˆ¶">æ³›å‹æ©Ÿåˆ¶</a></h3>
<p>é€šéä¸‹é¢ç¨‹å¼ç¢¼ä¾†ç†è§£ç·¨è­¯æ³›å‹æ©Ÿåˆ¶æ¦‚å¿µ</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn swap&lt;T1, T2&gt;(p1: T1, p2: T2) -&gt; (T2, T1) {
    return (p2, p1);
}

let x = swap(5i16, 9u16);
let y = swap(6f32, true);

println!("{:?} {:?}", x, y);

è¼¸å‡º
(9, 5) (true, 6.0)
<span class="boring">}</span></code></pre></pre>
<p>ç¬¬ä¸€éšæ®µç·¨è­¯å™¨æœƒæƒæç¨‹å¼ç¢¼ä¸¦ä¸”æ¯æ¬¡æ‰¾åˆ°æ³›å‹å‡½å¼å®£å‘Š(swap)æ™‚ï¼Œå®ƒåœ¨è³‡æ–™çµæ§‹ä¸­åŠ è¼‰è©²å‡½å¼å…§éƒ¨è¡¨ç¤ºå½¢å¼æª¢æŸ¥æ³›å‹ç¨‹å¼ç¢¼æ˜¯å¦æœ‰èªæ³•éŒ¯èª¤</p>
<p>ç¬¬äºŒéšæ®µç·¨è­¯å™¨å†æ¬¡æƒæç¨‹å¼ç¢¼åœ¨æ¯æ¬¡é‡åˆ°æ³›å‹å‡½å¼èª¿ç”¨æ™‚ï¼Œç·¨è­¯å™¨éƒ½æœƒæª¢æŸ¥æ­¤é¡ç”¨æ³•èˆ‡æ³›å‹å®£å‘Šçš„ç›¸æ‡‰å…§éƒ¨è¡¨ç¤ºé—œè¯ï¼Œåœ¨ç¢ºèªå¾Œå†å…¶è³‡æ–™çµæ§‹ä¸­åŠ è¼‰é€™ç¨®å°æ‡‰é—œä¿‚</p>
<p>ç¬¬ä¸‰éšæ®µå†å°‡æƒææ‰€æœ‰æ³›å‹å‡½å¼èª¿ç”¨ï¼Œå°æ–¼æ¯å€‹æ³›å‹å‡½å¼èª¿ç”¨è€…éƒ½å®šç¾©æ¯å€‹æ³›å‹åƒæ•¸çš„å…·é«”å‹åˆ¥ï¼Œé€™ç¨®å…·é«”å‹åˆ¥å¯ä»¥æ˜¯åœ¨ç”¨æ³•ä¸­é¡¯å¼çš„æˆ–è€…å¦‚ä¸Šé¢ç¯„ä¾‹ä¸€æ¨£ç”¨æ¨æ–·å‡ºä¾†çš„</p>
<p>åœ¨ç¢ºå®šæ›¿æ›æ³›å‹åƒæ•¸çš„å…·é«”å‹åˆ¥ä¹‹å¾Œéƒ½æœƒç”¢ç”Ÿæ³›å‹å‡½å¼çš„å…·é«”ç‰ˆæœ¬å°æ‡‰ç¨‹å¼ç¢¼å¦‚ä¸‹</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn swap_i16_u16(p1: i16, p2: u16) -&gt; (u16, i16) {
    return (p2, p1);
}

fn swap_f32_bool(p1: f32, p2: bool) -&gt; (f32, bool) {
    return (p2, p1);
}

let x = swap_i16_u16(5i16, 9u16);
let y = swap_f32_bool(6f32, true);

println!("{:?} {:?}", x, y);
<span class="boring">}</span></code></pre></pre>
<p>æ³›å‹ç·¨è­¯æœ‰å¹¾å€‹ç‰¹é»</p>
<ul>
<li>èˆ‡éæ³›å‹ç¨‹å¼ç¢¼ç›¸æ¯”å¤šéšæ®µç·¨è­¯ç›¸å°è¼ƒæ…¢ä¸€äº›</li>
<li>ç”Ÿæˆçš„ç¨‹å¼ç¢¼é‡å°æ¯å€‹ç‰¹å®šçš„èª¿ç”¨é€²è¡Œé«˜åº¦å„ªåŒ–ï¼Œå®ƒå®Œæˆä½¿ç”¨èª¿ç”¨è€…ä½¿ç”¨çš„å‹åˆ¥ç„¡é ˆé€²è¡Œè½‰æ›å› æ­¤å„ªåŒ–äº†é‹è¡Œæ™‚æ€§èƒ½</li>
<li>æ³›å‹å‡½å¼å¦‚æœåŸ·è¡Œå¾ˆå¤šå…·æœ‰ä¸åŒå‹åˆ¥åƒæ•¸çš„èª¿ç”¨ï¼Œå‰‡ç”¢ç”Ÿå¤§é‡çš„æ©Ÿå™¨ä»£ç¢¼ï¼Œæœ€å¥½ä¸è¦å†å–®å€‹å‡½å¼èª¿ç”¨å¤ªå¤šå‹åˆ¥æœƒçµ¦CPUç·©å­˜é€ æˆè² æ“”</li>
</ul>
<p>å¹¾ç¨®æµè¡Œçš„æ³›å‹èªè¨€çš„ä»£åƒ¹
Slow Compiler: c++/rust
Slow Performance: java/scala
Slow Programmer: go1</p>
<h2 id="rust-æ‰€æœ‰æ¬Šä¸€"><a class="header" href="#rust-æ‰€æœ‰æ¬Šä¸€">Rust-æ‰€æœ‰æ¬Š(ä¸€)</a></h2>
<p>æ‰€æœ‰æ¬Šå¯ä»¥èªªæ˜¯Rustæ ¸å¿ƒæ¦‚å¿µï¼Œé€™è®“Rustä¸éœ€è¦åƒåœ¾å›æ”¶(garbage collector)å°±å¯ä»¥ä¿éšœè¨˜æ†¶é«”å®‰å…¨ã€‚Rustçš„å®‰å…¨æ€§å’Œæ‰€æœ‰æ¬Šçš„æ¦‚å¿µæ¯æ¯ç›¸ï¼Œå› æ­¤ç†è§£Rustä¸­çš„æ‰€æœ‰æ¬Šå¦‚ä½•é‹ä½œæ˜¯éå¸¸é‡è¦çš„</p>
<h3 id="æ‰€æœ‰æ¬Šçš„è¦å‰‡"><a class="header" href="#æ‰€æœ‰æ¬Šçš„è¦å‰‡">æ‰€æœ‰æ¬Šçš„è¦å‰‡</a></h3>
<ul>
<li>Rust ä¸­æ¯å€‹æ•¸å€¼éƒ½æœƒæœ‰ä¸€å€‹è®Šæ•¸ä½œç‚ºå®ƒçš„<strong>æ“æœ‰è€…ï¼ˆownerï¼‰</strong>ã€‚</li>
<li>åŒæ™‚é–“åªèƒ½æœ‰ä¸€å€‹æ“æœ‰è€…ã€‚</li>
<li>ç•¶æ“æœ‰è€…é›¢é–‹ä½œç”¨åŸŸæ™‚ï¼Œæ•¸å€¼å°±æœƒè¢«ä¸Ÿæ£„ã€‚</li>
</ul>
<h3 id="è®Šæ•¸ä½œç”¨åŸŸ"><a class="header" href="#è®Šæ•¸ä½œç”¨åŸŸ"><strong>è®Šæ•¸ä½œç”¨åŸŸ</strong></a></h3>
<p>ç”¨ä¸‹é¢é€™æ®µç¨‹åºæè¿°è®Šæ•¸ç¯„åœçš„æ¦‚å¿µ</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>{
    // åœ¨å®£å‘Šä»¥å‰ï¼Œè®Šæ•¸sç„¡æ•ˆ
    let s = "hello";
    // é€™è£¡æ˜¯è®Šæ•¸sçš„å¯ç”¨ç¯„åœ
}
// è®Šæ•¸ç¯„åœå·²ç¶“çµæŸï¼Œè®Šæ•¸sç„¡æ•ˆ
<span class="boring">}</span></code></pre></pre>
<p>è®Šæ•¸ä½œç”¨åŸŸæ˜¯è®Šæ•¸çš„ä¸€å€‹å±¬æ€§ï¼Œå…¶ä»£è¡¨è®Šæ•¸çš„å¯ä½¿ç”¨ç¯„åœï¼Œé»˜èªå¾å®£å‘Šè®Šæ•¸é–‹å§‹æœ‰æ•ˆç›´åˆ°è®Šæ•¸æ‰€åœ¨ä½œç”¨åŸŸçµæŸã€‚</p>
<h3 id="è¨˜æ†¶é«”èˆ‡åˆ†é…"><a class="header" href="#è¨˜æ†¶é«”èˆ‡åˆ†é…">è¨˜æ†¶é«”èˆ‡åˆ†é…</a></h3>
<p>å®šç¾©ä¸€å€‹è®Šæ•¸ä¸¦è³¦äºˆå€¼ï¼Œé€™å€‹è®Šæ•¸çš„å€¼å­˜åœ¨è¨˜æ†¶é«”ä¸­ï¼Œä¾‹å¦‚éœ€è¦ç”¨æˆ¶è¼¸å…¥çš„ä¸€ä¸²å­—ä¸²ç”±æ–¼é•·åº¦çš„ä¸ç¢ºå®šåªèƒ½å­˜æ”¾åœ¨å †(heap)ä¸Šï¼Œé€™éœ€è¦è¨˜æ†¶é«”åˆ†é…å™¨åœ¨åŸ·è¡Œæ™‚è«‹æ±‚è¨˜æ†¶é«”ä¸¦åœ¨ä¸éœ€è¦æ™‚é‚„çµ¦åˆ†é…å™¨</p>
<p>åœ¨æ“æœ‰åƒåœ¾å›æ”¶æ©Ÿåˆ¶(garbage collector, GC)çš„èªè¨€ä¸­ï¼ŒGCæœƒè¿½è¹¤ä¸¦æ¸…é™¤ä¸å†ä½¿ç”¨çš„è¨˜æ†¶é«”ï¼Œå¦‚æœæ²’æœ‰GCçš„è©±å‰‡éœ€è¦åœ¨ä¸ä½¿ç”¨æ™‚é¡¯å¼çš„å‘¼å«é‡‹æ”¾è¨˜æ†¶é«”</p>
<p>ä¾‹å¦‚Cèªè¨€</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>{    
    char *s = strdup("hello");    
    free(s); *// é‡‹æ”¾sè³‡æº*
}
<span class="boring">}</span></code></pre></pre>
<p>Rusté¸æ“‡äº†ä¸€å€‹ä¸åŒçš„é“è·¯ï¼Œç•¶è®Šæ•¸åœ¨é›¢é–‹ä½œç”¨åŸŸæ™‚æœƒè‡ªå‹•é‡‹æ”¾ä¾‹å¦‚ä¸‹é¢</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>{
    let s = String::from("hello"); // s åœ¨æ­¤é–‹å§‹è¦–ç‚ºæœ‰æ•ˆ
    // ä½¿ç”¨ s
} // æ­¤ä½œç”¨åŸŸçµæŸï¼Œé‡‹æ”¾sè®Šæ•¸     
<span class="boring">}</span></code></pre></pre>
<p>ç•¶è®Šæ•¸é›¢é–‹ä½œç”¨åŸŸ(å¤§æ‹¬è™ŸçµæŸ)æ™‚æœƒè‡ªå‹•å‘¼å«ç‰¹æ®Šå‡½ç¤ºdropä¾†é‡‹æ”¾è¨˜æ†¶é«”</p>
<h3 id="è®Šæ•¸èˆ‡è³‡æ–™äº’å‹•çš„æ–¹å¼"><a class="header" href="#è®Šæ•¸èˆ‡è³‡æ–™äº’å‹•çš„æ–¹å¼">è®Šæ•¸èˆ‡è³‡æ–™äº’å‹•çš„æ–¹å¼</a></h3>
<p><strong>ç§»å‹•(Move)</strong></p>
<p>è®Šæ•¸å¯ä»¥åœ¨Rustä¸­ä»¥ä¸åŒçš„æ–¹å¼èˆ‡ç›¸åŒçš„è³‡æ–™é€²è¡Œäº’å‹•</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let x = 100;
let y = x;
<span class="boring">}</span></code></pre></pre>
<p>é€™å€‹ä»£ç¢¼å°‡å€¼100ç¶å®šåˆ°è®Šæ•¸xï¼Œç„¶å¾Œå°‡xçš„å€¼å¾©åˆ¶ä¸¦è³¦å€¼çµ¦è®Šæ•¸yç¾åœ¨æ£§(stack)ä¸­å°‡æœ‰å…©å€‹å€¼100ã€‚æ­¤æƒ…æ³ä¸­çš„æ•¸æ“šæ˜¯"ç´”é‡å‹åˆ¥"çš„è³‡æ–™ï¼Œä¸éœ€è¦å­˜å„²åˆ°å †ä¸­ï¼Œåƒ…åœ¨æ£§(stack)ä¸­çš„è³‡æ–™çš„"ç§»å‹•"æ–¹å¼æ˜¯ç›´æ¥è¤‡è£½ï¼Œé€™ä¸æœƒèŠ±è²»æ›´é•·çš„æ™‚é–“æˆ–æ›´å¤šçš„å­˜å„²ç©ºé–“ã€‚"ç´”é‡å‹åˆ¥"æœ‰é€™äº›ï¼š</p>
<ul>
<li>æ‰€æœ‰æ•´æ•¸é¡å‹ï¼Œä¾‹å¦‚ i32 ã€ u32 ã€ i64 ç­‰</li>
<li>å¸ƒçˆ¾é¡å‹ boolï¼Œå€¼ç‚ºtrueæˆ–false</li>
<li>æ‰€æœ‰æµ®é»é¡å‹ï¼Œf32å’Œf64</li>
<li>å­—ç¬¦é¡å‹ char</li>
<li>åƒ…åŒ…å«ä»¥ä¸Šé¡å‹æ•¸æ“šçš„å…ƒçµ„(Tuples)</li>
</ul>
<p>ç¾åœ¨ä¾†çœ‹ä¸€ä¸‹éç´”é‡å‹åˆ¥çš„ç§»å‹•</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let s1 = String::from("hello");
let s2 = s1;
<span class="boring">}</span></code></pre></pre>
<p>Stringç‰©ä»¶çš„å€¼"hello"ç‚ºä¸å›ºå®šé•·åº¦é•·åº¦å‹åˆ¥æ‰€ä»¥è¢«åˆ†é…åˆ°å †(heap)</p>
<p>ç•¶s1è³¦å€¼çµ¦s2ï¼ŒStringçš„è³‡æ–™æœƒè¢«æ‹·è²ï¼Œä¸éæˆ‘å€‘æ‹·è²æ˜¯æŒ‡æ¨™ã€é•·åº¦å’Œå®¹é‡ã€‚æˆ‘å€‘ä¸æœƒæ‹·è²æŒ‡æ¨™æŒ‡å‘çš„è³‡æ–™</p>
<p>å‰é¢èª¬ç•¶è®Šæ•¸è¶…å‡ºä½œç”¨åŸŸæ™‚ï¼ŒRustè‡ªå‹•èª¿ç”¨é‡‹æ”¾è³‡æºå‡½æ•¸ä¸¦æ¸…ç†è©²è®Šæ•¸çš„è¨˜æ†¶é«”ã€‚ä½†æ˜¯s1å’Œs2éƒ½è¢«é‡‹æ”¾çš„è©±å †(heap)å€ä¸­çš„"hello"è¢«é‡‹æ”¾å…©æ¬¡ï¼Œé€™æ˜¯ä¸è¢«ç³»çµ±å…è¨±çš„ã€‚ç‚ºäº†ç¢ºä¿å®‰å…¨ï¼Œåœ¨çµ¦s2è³¦å€¼æ™‚ s1å·²ç¶“ç„¡æ•ˆäº†</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let s1 = String::from("hello");
let s2 = s1; 
println!("{}, world!", s1); // æœƒç™¼ç”ŸéŒ¯èª¤ s1å·²ç¶“å¤±æ•ˆäº†
<span class="boring">}</span></code></pre></pre>
<p><strong>å…‹éš†(clone)</strong></p>
<p>æ­£å¸¸æƒ…æ³ä¸‹Ruståœ¨è¼ƒå¤§è³‡æ–™ä¸Šéƒ½æœƒä»¥æ·ºæ‹·è²çš„æ–¹å¼ï¼Œç•¶ç„¶ä¹Ÿæœ‰æä¾›æ·±æ‹·è²çš„method</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let s1 = String::from("hello");
let s2 = s1.clone();
println!("{} {}", s1, s2);

è¼¸å‡º
hello hello
<span class="boring">}</span></code></pre></pre>
<h2 id="rust-æ‰€æœ‰æ¬ŠäºŒ"><a class="header" href="#rust-æ‰€æœ‰æ¬ŠäºŒ">Rust-æ‰€æœ‰æ¬Š(äºŒ)</a></h2>
<h3 id="æ‰€æœ‰æ¬Šèˆ‡å‡½å¼"><a class="header" href="#æ‰€æœ‰æ¬Šèˆ‡å‡½å¼">æ‰€æœ‰æ¬Šèˆ‡å‡½å¼</a></h3>
<p>å°‡ä¸€å€‹è®Šæ•¸ç•¶ä½œå‡½å¼çš„åƒæ•¸å‚³çµ¦å…¶ä»–å‡½å¼ï¼Œæ€æ¨£å®‰å…¨çš„è™•ç†æ‰€æœ‰æ¬Š</p>
<p>å‚³éæ•¸å€¼çµ¦å‡½å¼é€™æ¨£çš„èªç¾©å’Œè³¦å€¼çµ¦è®Šæ•¸æ˜¯é¡ä¼¼çš„ã€‚å‚³éè®Šæ•¸çµ¦å‡½å¼æœƒæ˜¯ç§»å‹•æˆ–æ‹·è²å°±åƒè³¦å€¼ä¸€æ¨£</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    // sè¢«å®£å‘Š
    let s = String::from("hello"); // sé€²å…¥ä½œç”¨åŸŸ

    takes_ownership(s); // sçš„å€¼è¢«ç•¶ä½œåƒæ•¸å‚³å…¥å‡½å¼ æ‰€ä»¥å¯ä»¥ç•¶ä½œså·²ç¶“è¢«ç§»å‹•ï¼Œå¾é€™é–‹å§‹å·²ç¶“ç„¡æ•ˆ

    // xè¢«å®£å‘Š
    let x = 5; // xé€²å…¥ä½œç”¨åŸŸ

    makes_copy(x); // xçš„å€¼è¢«ç•¶ä½œåƒæ•¸å‚³å…¥å‡½å¼ï¼Œä½†xæ˜¯ç´”é‡å‹åˆ¥ i32è¢«copyï¼Œä¾ç„¶æœ‰æ•ˆ
} // å‡½å¼çµæŸï¼Œxç„¡æ•ˆï¼Œæ¥è‘—æ˜¯sçš„å€¼å·²ç¶“è¢«ç§»å‹•äº†å®ƒä¸æœƒæœ‰ä»»ä½•å‹•ä½œ

fn takes_ownership(some_string: String) {
    // ä¸€å€‹Stringåƒæ•¸some_stringå‚³å…¥ï¼Œæœ‰æ•ˆ
    println!("{}", some_string);
} // å‡½å¼çµæŸï¼Œåƒæ•¸some_stringä½”ç”¨çš„è¨˜æ†¶é«”è¢«é‡‹æ”¾

fn makes_copy(some_integer: i32) {
    // ä¸€å€‹i32åƒæ•¸some_integerå‚³å…¥ï¼Œæœ‰æ•ˆ
    println!("{}", some_integer);
} // å‡½å¼çµæŸï¼Œåƒæ•¸some_integeræ˜¯ç´”é‡å‹åˆ¥ï¼Œæ²’æœ‰ä»»ä½•å‹•ä½œç™¼ç”Ÿ</code></pre></pre>
<p>å¦‚æœåœ¨å‘¼å«takes_ownershipä¹‹å¾Œåœ¨ä½¿ç”¨sè®Šæ•¸åœ¨ç·¨è­¯æ™‚æœƒå‡ºéŒ¯</p>
<h3 id="å›å‚³å€¼èˆ‡ä½œç”¨åŸŸ"><a class="header" href="#å›å‚³å€¼èˆ‡ä½œç”¨åŸŸ">å›å‚³å€¼èˆ‡ä½œç”¨åŸŸ</a></h3>
<p>å›å‚³å€¼è½‰ç§»æ‰€æœ‰æ¬Š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let s1 = gives_ownership(); // gives_ownershipç§»å‹•å®ƒçš„å›å‚³å€¼çµ¦s1
    let s2 = String::from("å“ˆå›‰"); // s2é€²å…¥ä½œç”¨åŸŸ
    let s3 = takes_and_gives_back(s2); // s2ç§»å…¥takes_and_gives_backï¼Œè©²å‡½å¼åˆå°‡å…¶å›å‚³å€¼ç§»åˆ°s3
} // s3 åœ¨æ­¤é›¢é–‹ä½œç”¨åŸŸä¸¦é‡‹æ”¾
  // s2 å·²è¢«ç§»èµ°ï¼Œæ‰€ä»¥æ²’æœ‰ä»»ä½•å‹•ä½œç™¼ç”Ÿ
  // s1 é›¢é–‹ä½œç”¨åŸŸä¸¦é‡‹æ”¾

// æ­¤å‡½å¼å›å‚³ä¸€å€‹String
fn gives_ownership() -&gt; String {
    let some_string = String::from("hello"); // some_stringé€²å…¥ä½œç”¨åŸŸ

    return some_string; // å›å‚³some_stringä¸¦ç§»å‹•çµ¦å‘¼å«å®ƒçš„å‡½å¼
}

// æ­¤å‡½å¼æœƒå–å¾—ä¸€å€‹Stringç„¶å¾Œå›å‚³å®ƒ
fn takes_and_gives_back(a_string: String) -&gt; String {
    // a_stringé€²å…¥ä½œç”¨åŸŸ
    return a_string; // å›å‚³a_stringä¸¦ç§»å‹•çµ¦å‘¼å«çš„å‡½å¼
}</code></pre></pre>
<p>å¼•ç”¨èˆ‡å€Ÿç”¨åœ¨å‰é¢ä»‹ç´¹<a href="https://ithelp.ithome.com.tw/articles/10269251">å®šç¾©å‡½å¼</a>æ™‚æœ‰ä»‹ç´¹éäº†ï¼Œé€™é‚Šå°±ä¸å¤šè¬›äº†</p>
<p>è¬›ä¸€ä¸‹è¿·é€”æŒ‡æ¨™(dangling pointer)ï¼Œé€™å€‹åœ¨å¾ˆå¤šæŒ‡æ¨™èªè¨€å¸¸ç™¼ç”Ÿçš„éŒ¯èª¤</p>
<p>ç°¡å–®è¬›å°±æ˜¯ç”¨åˆ°ç©ºæŒ‡æ¨™ï¼ŒRustæœƒåœ¨ç·¨è­¯æ™‚æª¢æŸ¥é€™é¡å‹çš„éŒ¯èª¤</p>
<p>ä¾‹å¦‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn dangle() -&gt; &amp;String { // å›å‚³Stringçš„è¿·é€”å¼•ç”¨
    let s = String::from("hello"); // å®£å‘Šä¸€å€‹æ–°çš„String
    return &amp;s // å›å‚³Stringçš„å¼•ç”¨
} // såœ¨æ­¤æœƒé›¢é–‹ä½œç”¨åŸŸä¸¦é‡‹æ”¾
<span class="boring">}</span></code></pre></pre>
<p>ç·¨è­¯æ™‚æœƒç”¢ç”ŸéŒ¯èª¤ missing lifetime specifier</p>
<p>é€™å€‹æœ‰é—œæ–¼ç”Ÿå‘½é€±æœŸçš„æœƒåœ¨ä¸‹ä¸€ç¯‡è¬›</p>
<h2 id="rust-å®šç¾©closureé–‰åŒ…"><a class="header" href="#rust-å®šç¾©closureé–‰åŒ…">Rust-å®šç¾©Closure(é–‰åŒ…)</a></h2>
<p>ä¸€èˆ¬ä¾†èªªRustå¦‚æœè¦æ’åºæ•¸çµ„æœƒé€™æ¨£å¯«</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut arr = [10, 5, 9, 7, 6]

arr.sort();

println!("{:?}", arr);

è¼¸å‡º
[5, 6, 7, 9, 10]
<span class="boring">}</span></code></pre></pre>
<p>å‰›å‰›å‡åºå¦‚æœè¦é™åºå°±å¿…é ˆä½¿ç”¨sort_by éœ€è¦è‡ªå·±å¯«å‡½å¼ä¾†å‚³çµ¦sort_byæ’åºæ±ºå®šç”¨</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut arr = [10, 5, 9, 7, 6]

use std::cmp::Ordering;

fn descFn(a: &amp;i32, b: &amp;i32) -&gt; Ordering {
    if  a &lt; b {
        return Ordering::Greater;
    } else if a &gt; b  {
        return Ordering::Less
    } else {
        return Ordering::Equal
    }
}

arr.sort_by(descFn);

println!("{:?}", arr);

è¼¸å‡º
[10, 9, 7, 6, 5]
<span class="boring">}</span></code></pre></pre>
<p>é€ ä¸Šé¢é€™æ¨£ä½¿ç”¨æœ‰å€‹ç¼ºé»å°±æ˜¯å¿…é ˆåœ¨å®£å‘Šä¸€å€‹å‡½å¼ï¼Œå¦‚æœåªç”¨ä¸€æ¬¡çš„è©±å°±å¯ç”¨æ›´ç°¡çŸ­çš„ä½¿ç”¨åŒ¿åå‡½å¼</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut arr = [10, 5, 9, 7, 6]

use std::cmp::Ordering;

arr.sort_by(|a: &amp;i32, b: &amp;i32|
    if  a &lt; b {
        return Ordering::Greater;
    } else if a &gt; b  {
        return Ordering::Less
    } else {
        return Ordering::Equal
    }
);

println!("{:?}", arr);
è¼¸å‡º
[10, 9, 7, 6, 5]
<span class="boring">}</span></code></pre></pre>
<p>ä½¿ç”¨ä¸€å€‹åŒ¿åå‡½å¼å°±å¯ä»¥ç°¡çŸ­è¨±å¤šä¸ç”¨å†å®£å‘Šæ–°çš„å‡½å¼</p>
<p>Rustè·Ÿä¸€èˆ¬èªè¨€çš„åŒ¿åå‡½å¼æœ‰å€‹ç‰¹åˆ¥çš„é™åˆ¶å°±æ˜¯ç„¡æ³•ä½¿ç”¨å¤–éƒ¨å®£å‘Šçš„è®Šæ•¸</p>
<p>ä¾‹å¦‚é€™æ¨£æ˜¯ä¸åˆæ³•çš„</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let outVal = 10;

fn printOutVal() {
    println!("{}", outVal); // ç„¡æ³•è¨ªå•outValè®Šæ•¸
}

printOutVal();

// ç·¨è­¯æ™‚æœƒå‡ºç¾éŒ¯èª¤
<span class="boring">}</span></code></pre></pre>
<p>ä½†æ˜¯ä½¿ç”¨éœæ…‹è®Šæ•¸æˆ–æ˜¯å¸¸é‡ä¾‹å¦‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const CONSTVAL: i32 = 10;

fn printOutVal() {
    println!("{}", CONSTVAL); // åˆæ³•ä½¿ç”¨
}

printOutVal();

-----------------------------

static STATICVAL: i32 = 0;

fn printOutVal() {
    println!("{}", CONSTVAL); // åˆæ³•ä½¿ç”¨
}

printOutVal();
<span class="boring">}</span></code></pre></pre>
<p>Rusté€™æ¨£é™åˆ¶æ‡‰è©²åŸºæ–¼æ‰€æœ‰æ¬Šçš„è¨­è¨ˆé—œä¿‚ï¼Œé€™æ¨£æœ‰å€‹å¥½è™•å°±æ˜¯é¿å…äº‚å¼•ç”¨è®Šæ•¸é€ æˆBUGä¹Ÿæ¯”è¼ƒå¥½é–±è®€</p>
<p>ç•¶ç„¶Closureæœ‰æ›´å¤šè¤‡é›œçš„ä½¿ç”¨é€™é‚Šåªç°¡å–®ä»‹ç´¹æœ€åŸºæœ¬çš„ä½¿ç”¨æ–¹æ³•</p>
<h2 id="rust-å‘½ä»¤è¡Œçš„è¼¸å…¥è¼¸å‡º"><a class="header" href="#rust-å‘½ä»¤è¡Œçš„è¼¸å…¥è¼¸å‡º">Rust-å‘½ä»¤è¡Œçš„è¼¸å…¥è¼¸å‡º</a></h2>
<h3 id="å‘½ä»¤è¡Œåƒæ•¸"><a class="header" href="#å‘½ä»¤è¡Œåƒæ•¸">å‘½ä»¤è¡Œåƒæ•¸</a></h3>
<p>ä¸€èˆ¬ä¾†èªªç·¨è­¯å¥½çš„åŸ·è¡Œæª”éƒ½æ˜¯é€éå‘½ä»¤è¡Œä¾†åˆ¶åŸ·æœ‰äº›æ™‚å€™éœ€è¦è®€å–ä¸€äº›å‘½ä»¤è¡Œåƒæ•¸æˆ–æ˜¯ç’°å¢ƒåƒæ•¸</p>
<p>ç¨‹å¼è¼¸å…¥çš„æœ€åŸºæœ¬å½¢å¼äº‹ç¤ºé€šå‘½ä»¤è¡Œ</p>
<p>ä¾‹å¦‚ä¸‹é¢</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>for arg in  std::env::args() {
    println!("{}", arg)
}
<span class="boring">}</span></code></pre></pre>
<p>é€™æ™‚å€™ç·¨è­¯å¥½çš„åŸ·è¡Œæª”åç¨±å¦‚æœæ˜¯mainåœ¨å‘½ä»¤è¡ŒåŸ·è¡Œ</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>./main arg1 arg2 arg3

è¼¸å‡º
./main
arg1
arg2
arg3
<span class="boring">}</span></code></pre></pre>
<p>argsæ¨™æº–åº«å‡½å¼æœƒè¿”å›å‘½ä»¤è¡Œåƒæ•¸ä¸Šçš„è·Œä»£å™¨é¡åˆ¥æ˜¯Argsä¸¦ç”ŸæˆStringå€¼</p>
<p>ç¬¬ä¸€å€‹æ˜¯ç¨‹å¼åç¨±åŒ…å«è·¯å¾‘å…¶é¤˜éƒ½æ˜¯åƒæ•¸æŒ‡ä»¤</p>
<h3 id="ç’°å¢ƒè®Šæ•¸"><a class="header" href="#ç’°å¢ƒè®Šæ•¸">ç’°å¢ƒè®Šæ•¸</a></h3>
<p>è¼¸å…¥è¼¸å‡ºçš„å¦ä¸€ç¨®å½¢å¼é€šéç’°å¢ƒè®Šæ•¸</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>for env in std::env::vars() {
    println!("{:?}", env)
}

è¼¸å‡º
("CARGO_HOME", "/playground/.cargo")
**("CARGO_MANIFEST_DIR", "/playground")
("CARGO_PKG_AUTHORS", "The Rust Playground")
("CARGO_PKG_DESCRIPTION", "")
("CARGO_PKG_HOMEPAGE", "")
("CARGO_PKG_LICENSE", "")
...**
<span class="boring">}</span></code></pre></pre>
<p>å‰›å‰›æ˜¯æŠŠæ¯å€‹ç’°å¢ƒè®Šæ•¸éƒ½å°å‡ºä¾†å‡å¦‚è¦è®€å–ç‰¹å®šç’°å¢ƒè®Šæ•¸å¯ä»¥é€évarå‡½ç¤ºæŒ‡å®škey</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>println!("{:?}", std::env::var("envkey"));
<span class="boring">}</span></code></pre></pre>
<p>æ—¢ç„¶èƒ½è®€å–ç•¶ç„¶ä¹Ÿèƒ½å¯«å…¥ï¼Œä¸‹é¢å°±é€éset_varå‡½å¼ä¾†å¯«å…¥ç’°å¢ƒè®Šæ•¸</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>std::env::set_var("setenvkey", "env_value");

println!("{:?}", std::env::var("setenvkey"));

è¼¸å‡º
Ok("env_value")
<span class="boring">}</span></code></pre></pre>
<h3 id="å‘½ä»¤è¡Œçš„è¼¸å…¥"><a class="header" href="#å‘½ä»¤è¡Œçš„è¼¸å…¥">å‘½ä»¤è¡Œçš„è¼¸å…¥</a></h3>
<p>å¯ä»¥åœ¨ç¨‹å¼å•Ÿå‹•å¾Œç²å–å¾éµç›¤è¼¸å…¥çš„ä¸€è¡Œå­—ç›´åˆ°ç”¨æˆ¶æŒ‰ä¸‹Enteréµåœ¨è¼¸å‡º</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut line = String::new();

std::io::stdin().read_line(&amp;mnt line);

println!("{}", line);
<span class="boring">}</span></code></pre></pre>
<h2 id="rust-ç‰¹å¾µtraitä¸€"><a class="header" href="#rust-ç‰¹å¾µtraitä¸€">Rust-ç‰¹å¾µ(Trait)(ä¸€)</a></h2>
<h3 id="ä»€éº¼æ˜¯ç‰¹å¾µ"><a class="header" href="#ä»€éº¼æ˜¯ç‰¹å¾µ">ä»€éº¼æ˜¯ç‰¹å¾µ</a></h3>
<p>æ ¹æ“šå®˜ç¶²çš„è§£é‡‹å°±æ˜¯</p>
<p>ç‰¹å¾µæœƒå‘Šè¨´ç·¨è­¯å™¨ç‰¹å®šå‹åˆ¥èˆ‡å…¶ä»–å‹åˆ¥å…±äº«çš„åŠŸèƒ½ã€‚å¯ä»¥ä½¿ç”¨ç‰¹å¾µå®šç¾©ä¾†æŠ½è±¡å‡ºå…±åŒè¡Œç‚ºã€‚å¯ä»¥ä½¿ç”¨ç‰¹å¾µç•Œé™(trait bounds)ä¾†æŒ‡å®šæ³›å‹å‹åˆ¥ç‚ºæ“æœ‰ç‰¹å®šè¡Œç‚ºçš„ä»»æ„å‹åˆ¥ã€‚</p>
<p>ç°¡å–®è¬›å°±æ˜¯å…¶ä»–èªè¨€ä¸­çš„ä»‹é¢(interface)ï¼Œåªæ˜¯æœ‰å°‘è¨±ä¸åŒè€Œå·²</p>
<h3 id="ç‰¹å¾µçš„éœ€æ±‚"><a class="header" href="#ç‰¹å¾µçš„éœ€æ±‚">ç‰¹å¾µçš„éœ€æ±‚</a></h3>
<p>å‡è¨­æˆ‘å€‘éœ€è¦ä¸€å€‹å‡½å¼éœ€è¨ˆç®—å››æ¬¡å¹³æ–¹æ ¹ï¼Œå¯ä»¥ç”¨æ¨™æº–åº«sqrtxä¾†å¯«</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    fn quartic(x: f64) -&gt; f64 {
        return x.sqrt().sqrt();
    }

    let qr = quartic(100.);

    println!("{} {}", qr * qr * qr * qr, qr);
}

è¼¸å‡º
100.00000000000003 3.1622776601683795</code></pre></pre>
<p>ä½†å‡å¦‚è¦é‚„éœ€è¦ä¸€å€‹è¨ˆç®—32ä½å…ƒæµ®é»æ•¸çš„å››æ¬¡å¹³æ–¹æ ¹åˆè¦å†å¯«ä¸€å€‹quarticf32å‡½å¼</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn quarticf64(x: f64) -&gt; f64 {
    return x.sqrt().sqrt();
}

fn quarticf32(x: f32) -&gt; f32 {
    return x.sqrt().sqrt();
}
<span class="boring">}</span></code></pre></pre>
<p>é€™æ™‚å€™å¯èƒ½æœƒå¯«ä¸€å€‹æ³›å‹å‡½å¼ä¾†å–ä»£å‰é¢å…©å€‹å‡½å¼</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    fn quartic&lt;T&gt;(x: T) -&gt; T {
        return x.sqrt().sqrt();
    }

    let qrf32 = quartic(100f32);
	let qrf64 = quartic(100f64);

    println!("{} {}", qrf32, qrf64);
}

æœƒå‡ºç¾ç·¨è­¯éŒ¯èª¤
no method named `sqrt` found for type parameter `T` in the current scope</code></pre></pre>
<p>æœƒå‡ºç¾é€™æ¨£çš„éŒ¯èª¤æ˜¯å› ç‚ºxè®Šæ•¸æ˜¯å±¬æ–¼æ³›å‹å‹åˆ¥Tï¼Œæ˜¯å‰›å‰›åœ¨å»ºç«‹å‡ºä¾†çš„ä¸¦æ²’æœ‰sqrtçš„mehtod</p>
<p>é€™æ™‚å€™å°±å¯ä»¥ç‰¹å¾µæ´¾ä¸Šç”¨å ´çš„æ™‚å€™äº†ï¼Œå¯ä»¥é€™æ¨£ä½¿ç”¨è§£æ±ºå‰›å‰›çš„å•é¡Œ</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    trait HasSqrt {
        fn sq(self) -&gt; Self;
    }

    impl HasSqrt for f32 {
        fn sq(self) -&gt; Self {
            return f32::sqrt(self);
        }
    }

    impl HasSqrt for f64 {
        fn sq(self) -&gt; Self {
            return f64::sqrt(self);
        }
    }

    fn quartic&lt;T&gt;(x: T) -&gt; T
    where
        T: HasSqrt,
    {
        return x.sq().sq();
    }

    let qr32 = quartic(100f32);
    let qr64 = quartic(100f64);

    println!("{} {}", qr32, qr64);
}

è¼¸å‡º
3.1622777 3.1622776601683795</code></pre></pre>
<p>ä¸€é–‹å…ˆå®£å‘ŠHasSqrt traitç„¶å¾Œä½¿ç”¨implé—œéµå­—æ›¿f32å’Œf64å¯¦ç¾sqå‡½å¼</p>
<h2 id="rust-ç‰¹å¾µtraitäºŒ"><a class="header" href="#rust-ç‰¹å¾µtraitäºŒ">Rust-ç‰¹å¾µ(Trait)(äºŒ)</a></h2>
<h3 id="æ²’æœ‰traitç•Œé™çš„æ³›å‹å‡½å¼"><a class="header" href="#æ²’æœ‰traitç•Œé™çš„æ³›å‹å‡½å¼">æ²’æœ‰Traitç•Œé™çš„æ³›å‹å‡½å¼</a></h3>
<p>ä¸Šä¸€ç¯‡ç¯„ä¾‹ä¸­åœ¨å®£å‘Šæ³›å‹å‡½å¼ä¸­ä½¿ç”¨äº†where</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>where
    T: HasSqrt,
{
<span class="boring">}</span></code></pre></pre>
<p>åœ¨æ³›å‹å‡½å¼çš„å®£å‘Šä¸­å¦‚æœæ²’æœ‰whereçš„å­å¥å¼•ç”¨é¡å‹åƒæ•¸ï¼Œå‰‡è©²å‹åˆ¥å°±æ²’æœ‰èˆ‡ä»»ä½•traité—œè¯</p>
<p>å› æ­¤åªèƒ½å°è©²æ³›å‹å‹åˆ¥çš„ç‰©ä»¶åšå¾ˆå°‘çš„äº‹æƒ…</p>
<p>ä¾‹å¦‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn f&lt;T&gt;(x: T) -&gt; T {
    let c: T = x;
    let mut d = c;
    f = f2(d)
    return f
}
<span class="boring">}</span></code></pre></pre>
<p>ä½¿ç”¨ç„¡ç•Œé™çš„é¡å‹åƒæ•¸"T"åªèƒ½</p>
<ul>
<li>é€šéå€¼æˆ–å¼•ç”¨å°‡å…¶ä½œå‡½å¼åƒæ•¸å‚³é</li>
<li>é€šéå€¼æˆ–å¼•ç”¨å¾—å¾å‡½å¼è¿”å›</li>
<li>å±€éƒ¨è®Šæ•¸å®£å‘Šæˆ–æ˜¯åˆå§‹åŒ–</li>
</ul>
<h3 id="å¤šå‡½å¼trait"><a class="header" href="#å¤šå‡½å¼trait">å¤šå‡½å¼Trait</a></h3>
<p>Traitä¹Ÿå¯ä»¥åŒ…å«å¤šå€‹å‡½å¼ä¾‹å¦‚ä¸Šä¸€ç¯‡çš„ç¯„ä¾‹å¦‚æœè¦å†å¢åŠ çµ•å°å€¼absçš„å‡½å¼å¯ä»¥é€™æ¨£å¯«</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    trait HasSqrt {
        fn sq(self) -&gt; Self;
        fn abs(self) -&gt; Self;
    }

    impl HasSqrt for f32 {
        fn sq(self) -&gt; Self {
            return f32::sqrt(self);
        }

        fn abs(self) -&gt; Self {
            return f32::abs(self);
        }
    }

    impl HasSqrt for f64 {
        fn sq(self) -&gt; Self {
            return f64::sqrt(self);
        }

        fn abs(self) -&gt; Self {
            return f64::abs(self);
        }
    }

    fn quartic&lt;T&gt;(x: T) -&gt; T
    where
        T: HasSqrt,
    {
        return x.abs.sq().sq();
    }

    let qr32 = quartic(100f32);
    let qr64 = quartic(100f64);

    println!("{} {}", qr32, qr64);
}</code></pre></pre>
<p>æœ‰æ™‚å€™å¯èƒ½åªæœƒéœ€è¦å¹³æ–¹æ ¹å‡½å¼ä¸éœ€è¦çµ•å°å€¼å‡½å¼é€™æ™‚å€™å°±å¯ä»¥æŠ½å…©å€‹Traitæœƒæ›´éˆæ´»</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    trait HasSqrt {
        fn sq(self) -&gt; Self;
    }

    trait HasAbs {
        fn abs(self) -&gt; Self;
    }

    impl HasSqrt for f32 {
        fn sq(self) -&gt; Self {
            return f32::sqrt(self);
        }
    }

    impl HasAbs for f32 {
        fn abs(self) -&gt; Self {
            return f32::abs(self);
        }
    } 

    impl HasSqrt for f64 {
        fn sq(self) -&gt; Self {
            return f64::sqrt(self);
        }
    }

    impl HasAbs for f64 {
        fn abs(self) -&gt; Self {
            return f64::abs(self);
        }
    }

    fn quartic&lt;T&gt;(x: T) -&gt; T
    where
        T: HasSqrt + HasAbs , // é€™è£¡ç•Œé™å®£å‘Šå…©å€‹trait
    {
        return x.abs.sq().sq();
    }

    let qr32 = quartic(100f32);
    let qr64 = quartic(100f64);

    println!("{} {}", qr32, qr64);
}</code></pre></pre>
<h3 id="selfå’Œselfå‚»å‚»åˆ†ä¸æ¸…æ¥š"><a class="header" href="#selfå’Œselfå‚»å‚»åˆ†ä¸æ¸…æ¥š">"self"å’Œ"Self"å‚»å‚»åˆ†ä¸æ¸…æ¥š</a></h3>
<p>Rustå¼å€åˆ†å¤§å°å¯«å¾—</p>
<p>åœ¨å‰é¢çš„ç¯„ä¾‹éƒ½ä½¿ç”¨åˆ°selfå’ŒSelfå…¶ä¸­</p>
<ul>
<li>å°å¯«é–‹é ­çš„selfè¡¨ç¤ºå‡½å¼çš„å€¼</li>
<li>å¤§å¯«é–‹é ­çš„Selfæ¨™ç¤ºselfçš„å‹åˆ¥</li>
</ul>
<p>"self"å’Œ"Self"åªèƒ½åœ¨traitæˆ–implç¯„åœè£¡é¢ä½¿ç”¨ä¸¦ä¸”å¦‚æœselfå¿…é ˆæ˜¯æ˜¯æ–¹æ³•çš„ç¬¬ä¸€å€‹åƒæ•¸</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// é€™å¹¾å€‹ç¯„ä¾‹æ˜¯ç­‰æ•ˆçš„
fn f(self) -&gt; Self
fn f(self: Self) -&gt; Self
fn f(self: i32) -&gt; Self
fn f(self) -&gt; i32
fn f(self: Self) -&gt; i32
fn f(self: i32) -&gt; i32
<span class="boring">}</span></code></pre></pre>
<h3 id="é è¨­å¯¦ä½œ"><a class="header" href="#é è¨­å¯¦ä½œ">é è¨­å¯¦ä½œ</a></h3>
<p>å¯ä»¥é‡å°Traité è¨­è¡Œç‚ºï¼Œä¸å¿…è¦æ±‚æ¯å€‹å‹åˆ¥éƒ½è¦å¯¦ä½œæ–¹æ³•ï¼Œç•¶ç„¶ä¹Ÿå¯ä»¥è¦†è“‹é€™å€‹é è¨­çš„æ–¹æ³•</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    trait HasSqrt {
        fn sq(self) -&gt; Self;
        fn helloWord(&amp;self) -&gt; String { // é è¨­å¯¦ä½œ
            return String::from("hello word");
        }
    }

    impl HasSqrt for f32 {
        fn sq(self) -&gt; Self {
            return f32::sqrt(self);
        }
    }

    fn quartic&lt;T&gt;(x: T) -&gt; T
    where
        T: HasSqrt,
    {
        println!("{}", x.helloWord());
        return x.sq().sq();
    }

    let qr32 = quartic(100f32);
}</code></pre></pre>
<h2 id="rust-ä¸¦è¡Œä¸¦ç™¼ä¸€"><a class="header" href="#rust-ä¸¦è¡Œä¸¦ç™¼ä¸€">Rust-ä¸¦è¡Œ&amp;ä¸¦ç™¼(ä¸€)</a></h2>
<p>æœ‰é—œæ–¼ä¸¦è¡Œå’Œä¸¦ç™¼çš„å®šç¾©æ¯å€‹äººå¯èƒ½æœ‰ä¸ä¸€æ¨£çš„è§£é‡‹</p>
<ul>
<li>ä¸¦è¡ŒæŒ‡çš„æ˜¯åœ¨åŒä¸€æ™‚åˆ»ï¼Œå¤šæ¢æŒ‡ä»¤åœ¨ CPU ä¸ŠåŒæ™‚åŸ·è¡Œ</li>
<li>ä¸¦ç™¼æŒ‡çš„æ˜¯åœ¨åŒä¸€æ™‚é–“å€é–“å…§ï¼Œå¤šæ¢æŒ‡ä»¤åœ¨ CPU ä¸ŠåŒæ™‚åŸ·è¡Œ</li>
</ul>
<p><img src="images/201296758kIF7WxTG3.jpg" alt="img" /></p>
<p>Rustä»¥å®‰å…¨é«˜æ•ˆè™•ç†ä¸¦è¡Œç¨‹å¼è¨­è¨ˆè‘—ç¨±</p>
<h3 id="é€éspawnå»ºç«‹æ–°çš„åŸ·è¡Œç·’"><a class="header" href="#é€éspawnå»ºç«‹æ–°çš„åŸ·è¡Œç·’">é€éspawnå»ºç«‹æ–°çš„åŸ·è¡Œç·’</a></h3>
<pre><pre class="playground"><code class="language-rust">use std::thread;
use std::time::Duration;

fn main() {
    thread::spawn(|| {
        for i in 1..10 {
            println!("{}", i);
            thread::sleep(Duration::from_millis(1)); // è®“åŸ·è¡ŒçŸ­æš«sleepä¸€ä¸‹
        }
    });

    thread::sleep(Duration::from_millis(5)); // è®“åŸ·è¡ŒçŸ­æš«sleepä¸€ä¸‹
}</code></pre></pre>
<p>é€éç¯„ä¾‹å¯ä»¥çœ‹åˆ°å°å‡ºä¾†ä¸¦ä¸æ˜¯å¦‚é æœŸçš„éƒ½æœƒæŠŠ1-10å°å‡ºä¾†ï¼Œä¸»è¦æ˜¯å› ç‚ºmainå·²ç¶“åŸ·è¡Œå®Œé€€å‡ºé€ æˆæ–°å»ºçš„åŸ·è¡Œç·’é‚„æ²’è·‘å®Œå°±è¢«ä¸­æ–·äº†ï¼Œé›–ç„¶å¯ä»¥é€éæ›´ä¹…çš„sleepè®“mainæ™šé»é€€å‡ºä½†æ˜¯æœ‰æ›´å¥½çš„ä½œæ³•</p>
<h3 id="ä½¿ç”¨joinç­‰å¾…æ‰€æœ‰åŸ·è¡Œç·’å®Œæˆ"><a class="header" href="#ä½¿ç”¨joinç­‰å¾…æ‰€æœ‰åŸ·è¡Œç·’å®Œæˆ">ä½¿ç”¨joinç­‰å¾…æ‰€æœ‰åŸ·è¡Œç·’å®Œæˆ</a></h3>
<pre><pre class="playground"><code class="language-rust">use std::thread;
use std::time::Duration;

fn main() {
    let handle = thread::spawn(|| {
        for i in 1..10 {
            println!("{}", i);
            thread::sleep(Duration::from_millis(1)); // è®“åŸ·è¡ŒçŸ­æš«sleepä¸€ä¸‹
        }
    });

    handle.join().unwrap(); // (Blocking)è®“å…¨éƒ¨åŸ·è¡Œå®Œæ‰ç¹¼çºŒå¾€ä¸‹
}</code></pre></pre>
<p>é€éå„²å­˜thread::spawnå›å‚³çš„æ•¸å€¼ç‚ºè®Šæ•¸ï¼Œå¯ä»¥ä¿®æ­£ç”¢ç”Ÿçš„åŸ·è¡Œç·’å®Œå…¨æ²’æœ‰åŸ·è¡Œæˆ–æ²’æœ‰åŸ·è¡Œå®Œæˆçš„å•é¡Œã€‚handleå‘¼å«joinæ–¹æ³•ä¾†ç¢ºä¿ç”¢ç”Ÿçš„åŸ·è¡Œç·’æœƒåœ¨mainé›¢é–‹ä¹‹å‰å®Œæˆ</p>
<h3 id="é€éåŸ·è¡Œç·’ä½¿ç”¨moveé–‰åŒ…"><a class="header" href="#é€éåŸ·è¡Œç·’ä½¿ç”¨moveé–‰åŒ…">é€éåŸ·è¡Œç·’ä½¿ç”¨moveé–‰åŒ…</a></h3>
<p>é–‰åŒ…é€émoveè®“thread::spawnåŸ·è¡Œç·’å¯ä»¥ä½¿ç”¨å…¶ä»–åŸ·è¡Œç·’çš„è³‡æ–™ã€‚</p>
<pre><pre class="playground"><code class="language-rust">use std::thread;

fn main() {
    let v = vec![1, 2, 3];

    let handle = thread::spawn(move || { // é€émoveè®“åŸ·è¡Œç·’å¯ä»¥æ“æœ‰vè®Šæ•¸çš„æ‰€æœ‰æ¬Š
        println!("{:?}", v);
    }); // åœ¨é€™å€‹åŸ·è¡Œç·’åŸ·è¡Œå®Œä¹‹å‰væ‰€æœ‰æ¬Šéƒ½ä¸æœƒé‡‹æ”¾

    handle.join().unwrap();
}</code></pre></pre>
<h2 id="rust-ä¸¦è¡Œä¸¦ç™¼äºŒ"><a class="header" href="#rust-ä¸¦è¡Œä¸¦ç™¼äºŒ">Rust-ä¸¦è¡Œ&amp;ä¸¦ç™¼(äºŒ)</a></h2>
<h3 id="channel"><a class="header" href="#channel">channel</a></h3>
<p>é€šå¸¸channeléƒ½æ˜¯æ­é…ä¸¦è¡Œä½¿ç”¨ï¼Œæ²’æœ‰ä½¿ç”¨ä¸¦è¡Œå°±æ²’æœ‰ä½¿ç”¨channelçš„æ„ç¾©
ã€Œåˆ¥é€éå…±äº«è¨˜æ†¶é«”ä¾†æºé€šï¼Œè€Œæ˜¯é€éæºé€šä¾†å…±äº«è¨˜æ†¶é«”ã€ã€‚æ²’éŒ¯Golangçš„å£è™Ÿåœ¨Rustä¹Ÿæ˜¯é€šç”¨
Rustæ¨™æº–å‡½å¼åº«ä¹Ÿæœ‰æä¾›é¡ä¼¼Golangçš„Channelå‡½å¼
Channelå‡½å¼æœƒå›å‚³å…©å€‹è®Šæ•¸åˆ†åˆ¥ç‚ºç™¼é€è€…(transmitter)èˆ‡æ¥æ”¶è€…(receiver)
Channelå¯ä»¥å¤šå€‹ç™¼é€è€…(transmitter)ï¼Œå–®ä¸€æ¥æ”¶è€…(receiver)
è—‰ç”±é€™å…©è®Šæ•¸ä¾†å‚³éè¨Šæ¯</p>
<pre><pre class="playground"><code class="language-rust">use std::sync::mpsc;
use std::thread;

fn main() {
    let (tx, rx) = mpsc::channel(); // å»ºç«‹æ–°çš„channelï¼Œå›å‚³ä¸€å€‹å…ƒçµ„ï¼Œæ‹†æˆå…©å€‹è®Šæ•¸

    thread::spawn(move || {
        let val = String::from("hello word");
        tx.send(val).unwrap();
    });

    let received = rx.recv().unwrap(); // (Blocking)ç­‰åˆ°æœ‰è³‡æ–™æ‰æœƒç¹¼çºŒå¾€ä¸‹ 
    println!("{}", received);
}</code></pre></pre>
<p>channelå¦‚æœè¦åœ¨åŒä¸€å€‹é€šé“å¤šå€‹åŸ·è¡Œç·’ä½¿ç”¨ç™¼é€è€…(transmitter)æ™‚ï¼Œæœƒå› ç‚ºæ‰€æœ‰æ¬Šçš„é—œä¿‚é€ æˆéŒ¯èª¤ï¼Œæ‰€ä»¥å¯ä»¥ç”¨cloneä¾†è£½é€ å¤šå€‹ç™¼é€è€…(transmitter)</p>
<pre><pre class="playground"><code class="language-rust">use std::sync::mpsc;
use std::thread;

fn main() {
    let (tx, rx) = mpsc::channel();
    let tx1 = tx.clone(); // è¤‡è£½ç™¼é€è€…
    let tx2 = tx.clone(); // è¤‡è£½ç™¼é€è€…
    thread::spawn(move || {
        let val = String::from("hello word tx");
        tx.send(val).unwrap();
    });

    thread::spawn(move || {
        let val = String::from("hello word tx1");
        tx1.send(val).unwrap();
    });

    thread::spawn(move || {
        let val = String::from("hello word tx2");
        tx2.send(val).unwrap();
    });

    for received in rx {
        println!("{}", received);
    }
}

è¼¸å‡º
hello word tx
hello word tx2
hello word tx1</code></pre></pre>
<p>é›–ç„¶channelæœ¬èº«ä¸æ”¯æ´å¤šå€‹æ¥æ”¶è€…(receiver)ï¼Œä½†æ˜¯å¯ä»¥åˆ©ç”¨ä¸Šé–è®“å¤šå€‹åŸ·è¡ŒåºåŒæ™‚ä½¿ç”¨æ¥æ”¶è€…</p>
<h2 id="éŒ¯èª¤è™•ç†"><a class="header" href="#éŒ¯èª¤è™•ç†">éŒ¯èª¤è™•ç†</a></h2>
<p>Rustå°‡éŒ¯èª¤åˆ†æˆå…©å¤§é¡</p>
<ul>
<li>ä¸å¯å¾©åŸçš„(unrecoverable)</li>
<li>å¯å¾©åŸçš„(recoverable)</li>
</ul>
<p>è‡³æ–¼ä»€éº¼æ™‚å€™è©²ç”¨ä»€éº¼æ¨£çš„éŒ¯èª¤å°±è¦çœ‹ä½¿ç”¨æƒ…å¢ƒäº†</p>
<p>ä¾‹å¦‚ç¨‹å¼å•Ÿå‹•æ™‚è®€ä¸åˆ°è¨­å®šæª”é€™å€‹å°±å¯ä»¥ä½¿ç”¨ä¸å¯å¾©åŸçš„éŒ¯èª¤</p>
<h3 id="ä¸å¯å¾©åŸçš„éŒ¯èª¤ä½¿ç”¨panic"><a class="header" href="#ä¸å¯å¾©åŸçš„éŒ¯èª¤ä½¿ç”¨panic">ä¸å¯å¾©åŸçš„éŒ¯èª¤ä½¿ç”¨panic!</a></h3>
<pre><pre class="playground"><code class="language-rust">fn main() {
    panic!("ææ…Œæ€§éŒ¯èª¤");
}

è¼¸å‡º
thread 'main' panicked at 'ææ…Œæ€§éŒ¯èª¤', main.rs:2:5
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace</code></pre></pre>
<p>panicæœƒå°å‡ºéŒ¯èª¤è¨Šæ¯ä»¥åŠç¬¬å¹¾è¡Œçš„è¨Šæ¯ï¼Œé‚„æœ‰æç¤ºå¯ä»¥è¨­å®šRUST_BACKTRACEç’°å¢ƒè®Šæ•¸é¡¯ç¤ºéŒ¯èª¤å›æœ”è³‡è¨Š</p>
<p>ä¸‹é¢åŸ·è¡Œæ™‚å¢åŠ ç’°å¢ƒè®Šæ•¸RUST_BACKTRACE=1</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>RUST_BACKTRACE=1 ./main

è¼¸å‡º
thread 'main' panicked at 'ææ…Œæ€§éŒ¯èª¤', main.rs:2:5
stack backtrace:
   0: std::panicking::begin_panic
   1: main::main
   2: core::ops::function::FnOnce::call_once
note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.
<span class="boring">}</span></code></pre></pre>
<p>é€™æ™‚å€™å¯ä»¥çœ‹åˆ°ç°¡ç•¥çš„éŒ¯èª¤ï¼Œä¹Ÿå¯ä»¥è¨­å®šRUST_BACKTRACE=fullæœƒåˆ—å‡ºæ•´å€‹éç¨‹</p>
<p>Rustçš„panicä¸åƒGolangå¯ä»¥recoverå›ä¾†</p>
<h3 id="å¯å¾©åŸçš„çš„éŒ¯èª¤ä½¿ç”¨result"><a class="header" href="#å¯å¾©åŸçš„çš„éŒ¯èª¤ä½¿ç”¨result">å¯å¾©åŸçš„çš„éŒ¯èª¤ä½¿ç”¨Result</a></h3>
<p>Resutæ˜¯å€‹æšèˆ‰å‹åˆ¥</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>enum Result&lt;T, E&gt; {
    Ok(T),
    Err(E),
}
<span class="boring">}</span></code></pre></pre>
<p>Reustæ˜¯æšèˆ‰å‹åˆ¥å°±å¯ä»¥é€ématchä¾†åˆ¤æ–·æ˜¯å›å‚³OKé‚„æ˜¯å›å‚³Errï¼Œå†ä¾è£¡é¢çš„æ³›å‹åƒæ•¸å–å€¼</p>
<pre><pre class="playground"><code class="language-rust">use std::fs::File;

fn main() {
    let f = File::open("hello.txt");

    let _ = match f {
        Ok(file) =&gt; {
            println!("{:?}", file)
        }
        Err(error) =&gt; {
            println!("{:?}", error)
        }
    };
}

è¼¸å‡º
Os { code: 2, kind: NotFound, message: "No such file or directory" }</code></pre></pre>
<p>å¦‚æœè¦ºå¾—matchåˆ¤æ–·éŒ¯èª¤å¤ªéº»ç…©ï¼Œä¹Ÿå¯ä»¥é€éunwrapæˆ–expectä¾†ç›´æ¥ç”¢ç”ŸpanicéŒ¯èª¤</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let f = File::open("hello.txt").unwrap(); // ç„¡æ³•æŒ‡å®šéŒ¯èª¤è¨Šæ¯
let f = File::open("hello.txt").expect("é–‹å•Ÿhello.txtéŒ¯èª¤"); // å¯ä»¥æŒ‡å®šéŒ¯èª¤è¨Šæ¯
<span class="boring">}</span></code></pre></pre>
<p>ä¹Ÿå¯ä»¥åœ¨å¯«å‡½å¼æ™‚å›å‚³Resultå‹åˆ¥ï¼Œé€™é‚Šç°¡å–®å®šç¾©Resultæ³›å‹å‹åˆ¥</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let ok = return_result_ok();
    println!("{:?}", ok);
    let error = return_result_error();
    println!("{:?}", error);
}

fn return_result_ok() -&gt; Result&lt;String, String&gt; {
    let s = String::from("æˆåŠŸ");
    return Ok(s);
}

fn return_result_error() -&gt; Result&lt;String, String&gt; {
    let s = String::from("å¤±æ•—");
    return Ok(s);
}</code></pre></pre>
<h2 id="rust-30å¤©çš„å¿ƒå¾—"><a class="header" href="#rust-30å¤©çš„å¿ƒå¾—">Rust-30å¤©çš„å¿ƒå¾—</a></h2>
<p>åˆ†äº«ä¸€ä¸‹é€™30å¤©å¾ç„¡åˆ°æœ‰çš„å­¸ç¿’ä¸‹ä¾†çš„ä¸€é»é»å¿ƒå¾—
å…ˆèªªä¸€ä¸‹ç‚ºä»€éº¼è¦å­¸ç¿’Rustæ˜¯å› ç‚ºæœ€è¿‘æ¯”è¼ƒç´…ä¹‹å¤–é‚„æœ‰å°±æ˜¯å®ƒæ»¿å¸¸è¢«æ‹¿ä¾†è·ŸGolnagæ¯”è¼ƒ
èº«ç‚ºä¸€å€‹Gopherç•¶ç„¶è¦æŠ±è‘—ä»–å±±ä¹‹çŸ³å¯ä»¥æ”»ç‰å¿ƒå»äº†è§£ä¸€ä¸‹Rustè·ŸGolangçš„å·®åˆ¥</p>
<p>Goå’ŒRustæœ‰å¾ˆå¤šå…±åŒé»ã€‚å…©è€…éƒ½æ˜¯æ¯”è¼ƒè¿‘ä»£çš„èªè¨€ï¼Œå…©è€…éƒ½æ˜¯ç‚ºäº†æ‡‰å°å‰µå»ºè€…åœ¨è¡Œæ¥­å…§ç¾æœ‰èªè¨€ä¸­é‡åˆ°çš„ç¼ºé»è€Œå‰µå»ºçš„ï¼Œå°¤å…¶æ˜¯é–‹ç™¼è€…ç”Ÿç”¢åŠ›ã€å¯æ“´å±•æ€§ã€å®‰å…¨æ€§å’Œä¸¦ç™¼æ€§æ–¹é¢çš„ç¼ºé»ã€‚</p>
<p>ç¶²è·¯ä¸Šæœå°‹"Rust vs. Go"æ»¿æ»¿çš„æ¯”è¼ƒæ–‡é€™é‚Šå°±ä¸å†è¬›äº†
å°æˆ‘ä¾†èªªRustå„ªé»æœ‰å“ªè£¡</p>
<ul>
<li>æ²’æœ‰GC</li>
<li>é›¶æˆæœ¬æŠ½è±¡</li>
<li>è¨˜æ†¶é«”æ§ç®¡</li>
<li>å®‰å…¨æ€§</li>
<li>å¼·å¤§çš„ç·¨è­¯å™¨éŒ¯èª¤æç¤º</li>
</ul>
<p>è¦èªªç¼ºé»å°±åªæœ‰å­¸ç¿’æ›²ç·šæ¯”è¼ƒé™¡ï¼Œä¸¦ä¸æ˜¯å¾ˆå¥½ä¸Šæ‰‹
Rustç”¨äº†è¤‡é›œçš„æ–¹å¼è§£æ±ºè¤‡é›œçš„å•é¡Œï¼Œæœ‰æ™‚å€™è§£æ±ºçš„æ–¹å¼æ¯”å•é¡Œæ›´è¤‡é›œ</p>
<p>è‡³æ–¼å®ƒæœ‰æ²’æœ‰æ¯”Golangå¥½å°±ä¸å¤šåšè©•è«–äº†ï¼Œ
ä½†æ˜¯éš»è½èªªå¾Golangè·³åˆ°Rustæ²’è½éå¾Rustè·³åˆ°Golang
èªè¨€æ²’æœ‰å¥½å£(<del>ä¸æ˜¯å—åŒ—æ‹³çš„å•é¡Œï¼Œæ˜¯ä½ çš„å•é¡Œ</del>)</p>
<p>å‡ºè™•ï¼š https://ithelp.ithome.com.tw/users/20129675/ironman/4260</p>

                        <script src="https://utteranc.es/client.js"
                            repo="imxood/imxood.github.io"
                            issue-term="pathname"
                            theme="boxy-light"
                            crossorigin="anonymous"
                            async>
                        </script>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../rust/easy_rust.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../rust/module.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../rust/easy_rust.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../rust/module.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>



        <script type="text/javascript">
            window.playground_line_numbers = true;
        </script>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>

        <script src="../ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="../editor.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mode-rust.js" type="text/javascript" charset="utf-8"></script>
        <script src="../theme-dawn.js" type="text/javascript" charset="utf-8"></script>
        <script src="../theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>

        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="../theme/custom/mermaid.min.js"></script>
        <script type="text/javascript" src="../theme/custom/mermaid-init.js"></script>


    </body>
</html>
