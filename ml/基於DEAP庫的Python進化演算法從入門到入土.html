<!DOCTYPE HTML>
<html lang="zh" class="sidebar-visible no-js rust">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>åŸºæ–¼DEAPåº«çš„Pythoné€²åŒ–æ¼”ç®—æ³•å¾å…¥é–€åˆ°å…¥åœŸ - Jason Notes</title>


        <!-- Custom HTML head -->

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/custom/custom.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html">Jason Notes</a></li><li class="chapter-item expanded "><a href="ubuntu/ubuntu_setup.html">Ubuntu</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ubuntu/command.html">Command</a></li><li class="chapter-item "><a href="ubuntu/gcp.html">GCP ssh</a></li><li class="chapter-item "><a href="ubuntu/wine.html">Wine</a></li></ol></li><li class="chapter-item expanded "><a href="android/android.html">Android</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="android/install_sdk.html">SDK install</a></li><li class="chapter-item "><a href="android/flutter.html">Flutter</a></li></ol></li><li class="chapter-item expanded "><a href="tools/tools.html">Tools</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="tools/asciinema.html">asciinema æŠŠçµ‚ç«¯æ“ä½œéŒ„è£½æˆ gif å‹•ç•«</a></li><li class="chapter-item "><a href="tools/finmind.html">Finmind</a></li><li class="chapter-item "><a href="tools/add-enter-and-exit-trace-for-your-function.html">addr2line</a></li><li class="chapter-item "><a href="tools/cmake.html">cmake</a></li><li class="chapter-item "><a href="tools/network.html">Network</a></li><li class="chapter-item "><a href="tools/python-pycryptodome-aes-symmetric-encryption-tutorial-examples.html">å¯¦ä½œ AES å°ç¨±å¼åŠ å¯†</a></li></ol></li><li class="chapter-item expanded "><a href="html/html.html">HTML</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="html/vue.html">Vue</a></li></ol></li><li class="chapter-item expanded "><a href="vim/vim.html">Vim</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="vim/copilot.html">copilot</a></li><li class="chapter-item "><a href="vim/tabnine.html">tabnine</a></li></ol></li><li class="chapter-item expanded "><a href="gdb/gdb.html">Gdb</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="gdb/å¸¸ç”¨æŒ‡ä»¤.html">å¸¸ç”¨æŒ‡ä»¤</a></li><li class="chapter-item "><a href="gdb/jemalloc.html">jemalloc</a></li><li class="chapter-item "><a href="gdb/graphs.html">graphs</a></li><li class="chapter-item "><a href="gdb/rust-gdb.html">rust gdb</a></li><li class="chapter-item "><a href="gdb/qemu-gdb-risc-v64.html">qemu-gdb-risc-v64-kernel</a></li><li class="chapter-item "><a href="gdb/go-rust-gdb-debug.html">ä½¿ç”¨gdb è¿½è¹¤go/rustç¨‹å¼ç¢¼</a></li><li class="chapter-item "><a href="gdb/gdb-function-trace-to-flowchart-guide.html">GDBå‡½æ•¸èª¿ç”¨è»Œè·¡åˆ†æèˆ‡æµç¨‹åœ–ç”Ÿæˆå®Œæ•´æŒ‡å—</a></li></ol></li><li class="chapter-item expanded "><a href="c++/cpp.html">C++</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="c++/benchmark.html">benchmark</a></li><li class="chapter-item "><a href="c++/ä¹˜ä»¥0.01å’Œé™¤ä»¥100å“ªå€‹å¿«.html">ä¹˜ä»¥ 0.01 å’Œé™¤ä»¥ 100 å“ªå€‹å¿«</a></li><li class="chapter-item "><a href="c++/smart_pointer.html">Smart pointer</a></li><li class="chapter-item "><a href="c++/l&rvalue.html">L&amp;R value</a></li><li class="chapter-item "><a href="c++/move.html">Move</a></li><li class="chapter-item "><a href="c++/CAS.html">CAS</a></li><li class="chapter-item "><a href="c++/HFT.html">HFT</a></li><li class="chapter-item "><a href="c++/cpp_note.html">Note</a></li><li class="chapter-item "><a href="c++/é«˜æ€§èƒ½ç¨‹å¼è¨­è¨ˆå¯¦æˆ°.html">é«˜æ€§èƒ½ç¨‹å¼è¨­è¨ˆå¯¦æˆ°</a></li><li class="chapter-item "><a href="c++/å¦‚ä½•é«˜æ•ˆåœ°å„²å­˜ä¸¦æ“ä½œè¶…å¤§è¦æ¨¡.html">å¦‚ä½•é«˜æ•ˆåœ°å„²å­˜ä¸¦æ“ä½œè¶…å¤§è¦æ¨¡</a></li><li class="chapter-item "><a href="c++/UC_CAPITAL.html">UC_CAPITAL</a></li><li class="chapter-item "><a href="c++/cpp-smart-pointers-guide.html">unique_ptr vs shared_ptr</a></li><li class="chapter-item "><a href="c++/cpp-move-semantics-guide.html">C++ Move èªæ„å®Œæ•´æŒ‡å—</a></li><li class="chapter-item "><a href="c++/interview.html">interview</a></li></ol></li><li class="chapter-item expanded "><a href="mojo/mojo.html">Mojo</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="mojo/mojo_crawler_guide.html">Mojo çˆ¬èŸ²å®Œæ•´æŒ‡å—</a></li></ol></li><li class="chapter-item expanded "><a href="riscv/riscv.html">RISC-V</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="riscv/qemu_riscv_linux.html">QEMUä¸Šé‹è¡ŒRISV-V Linux</a></li><li class="chapter-item "><a href="riscv/qemi_gdb.html">QEMU GDB</a></li><li class="chapter-item "><a href="riscv/qemu_gdb_lab.html">Qemu Gdb Lab</a></li></ol></li><li class="chapter-item expanded "><a href="centos/centos.html">CentOS</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="centos/tqdb_setup.html">TQDB å®‰è£ç´€éŒ„</a></li></ol></li><li class="chapter-item expanded "><a href="ssh/ssh.html">SSH</a></li><li class="chapter-item expanded "><a href="network/socket.html">Network</a></li><li class="chapter-item expanded "><a href="docker/docker_helloworld.html">Docker</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="docker/docker.html">Docker åŸºæœ¬æ•™å­¸</a></li><li class="chapter-item "><a href="docker/example.html">ç°¡å–®ç¯„ä¾‹</a></li><li class="chapter-item "><a href="docker/creating-the-perfect-python-dockerfile.html">Perfect python dockerfile</a></li><li class="chapter-item "><a href="docker/dockerfile-from-docker-image.html">ç”± Docker image åæ¨å…¶ Dockerfile</a></li><li class="chapter-item "><a href="docker/python_connect_redis.html">Pythoné€£æ¥Redis</a></li><li class="chapter-item "><a href="docker/command.html">Command</a></li><li class="chapter-item "><a href="docker/docker_compose.html">Docker compose</a></li><li class="chapter-item "><a href="docker/docker_compse_example.html">Docker compose example</a></li><li class="chapter-item "><a href="docker/python_redis.html">Python-Redis</a></li><li class="chapter-item "><a href="docker/redash.html">Redash</a></li><li class="chapter-item "><a href="docker/clickhouse.html">ClickHouse</a></li><li class="chapter-item "><a href="docker/clickhouse-setup.html">clickhouse-setup</a></li><li class="chapter-item "><a href="docker/python_run_from_local.html">Docker run local</a></li><li class="chapter-item "><a href="docker/redpanda.html">Redpanda</a></li><li class="chapter-item "><a href="docker/gcc.html">é‹è¡Œæœ€æ–°ç‰ˆGCC</a></li></ol></li><li class="chapter-item expanded "><a href="rust/rust.html">Rust</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust/note.html">Rustç­†è¨˜</a></li><li class="chapter-item "><a href="rust/basic.html">Rust åŸºæœ¬æ•™å­¸</a></li><li class="chapter-item "><a href="rust/ownership.html">Rust æ‰€æœ‰æ¬Šç³»çµ±</a></li><li class="chapter-item "><a href="rust/lifetime.html">Rust ç”Ÿå‘½é€±æœŸ (Lifetime)</a></li><li class="chapter-item "><a href="rust/type.html">Rust å‹åˆ¥ç³»çµ±</a></li><li class="chapter-item "><a href="rust/rust_setup.html">Rust Tools</a></li><li class="chapter-item "><a href="rust/polars.html">Polars</a></li><li class="chapter-item "><a href="rust/rust_call_c.html">Rust call C</a></li><li class="chapter-item "><a href="rust/pyo3.html">PyO3</a></li><li class="chapter-item "><a href="rust/10-rust-an-introduction.html">çµ¦ C++ ä½¿ç”¨è€…çš„ Rust ç°¡ä»‹</a></li><li class="chapter-item "><a href="rust/å¯è¦–åŒ–Rustå„è³‡æ–™çµæ§‹çš„è¨˜æ†¶é«”ä½ˆå±€.html">å¯è¦–åŒ–Rustå„è³‡æ–™çµæ§‹çš„è¨˜æ†¶é«”ä½ˆå±€</a></li><li class="chapter-item "><a href="rust/rust_note.html">å­¸ç¿’é †åº</a></li><li class="chapter-item "><a href="rust/overview.html">å¤§å±€è§€</a></li><li class="chapter-item "><a href="rust/String.html">ç†è§£å­—ä¸²</a></li><li class="chapter-item "><a href="rust/easy_rust.html">Easy Rust</a></li><li class="chapter-item "><a href="rust/rust_easy.html">Rust æ–°æ‰‹</a></li><li class="chapter-item "><a href="rust/module.html">Rust æ¨¡çµ„çµæ§‹</a></li><li class="chapter-item "><a href="rust/rust_memory.html">Rustèˆ‡è¨˜æ†¶é«”</a></li><li class="chapter-item "><a href="rust/rust_vs_cpp.html">Rust vs C++èªæ³•</a></li><li class="chapter-item "><a href="rust/rust_file_format.html">Rust æª”æ¡ˆæ ¼å¼</a></li><li class="chapter-item "><a href="rust/rust-an-introduction-in-oop.html">Rust OO</a></li><li class="chapter-item "><a href="rust/rust-an-introduction-smart-pointer.html">Rust Pointer</a></li><li class="chapter-item "><a href="rust/pointer.html">Pointer</a></li><li class="chapter-item "><a href="rust/copy_trait.html">Copy Trait</a></li><li class="chapter-item "><a href="rust/binary_lib.html">Rust å‡½æ•¸åº«/åŸ·è¡Œæª”</a></li><li class="chapter-item "><a href="rust/reqwest.html">Reqwest</a></li><li class="chapter-item "><a href="rust/print-function-name-dump-stack.html">å°å‡ºå‡½æ•¸åç¨±</a></li><li class="chapter-item "><a href="rust/criterion.html">criterion</a></li><li class="chapter-item "><a href="rust/Rustçš„ç²¾é«“.html">Rustçš„ç²¾é«“</a></li><li class="chapter-item "><a href="rust/30å¤©æ·±å…¥æ·ºå‡ºRustç³»åˆ—.html">30å¤©æ·±å…¥æ·ºå‡ºRustç³»åˆ—</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust/30å¤©æ·±å…¥æ·ºå‡ºRustç³»åˆ—/rust_30_day.html">Rust 30 Day</a></li><li class="chapter-item "><a href="rust/30å¤©æ·±å…¥æ·ºå‡ºRustç³»åˆ—/Move_Borrow_Ownership.html">è®Šæ•¸çš„æ‰€æœ‰æ¬Šèˆ‡å€Ÿå‡ºè®Šæ•¸</a></li><li class="chapter-item "><a href="rust/30å¤©æ·±å…¥æ·ºå‡ºRustç³»åˆ—/Lifetime.html">Lifetimeï¼š Borrow çš„å­˜æ´»æ™‚é–“</a></li></ol></li><li class="chapter-item "><a href="rust/cpp_vs_rust_comparison.html">C++ vs. Rust: å…¨é¢ç‰¹æ€§æ¯”è¼ƒ</a></li><li class="chapter-item "><a href="rust/cpp-move-vs-rust-ownership.html">C++ Move èªç¾© vs Rust æ‰€æœ‰æ¬Šç³»çµ±çš„æ ¸å¿ƒå·®ç•°</a></li><li class="chapter-item "><a href="rust/Rust-RESTful-API-å®Œæ•´é–‹ç™¼æŒ‡å—.html">Rust-RESTful-API-å®Œæ•´é–‹ç™¼æŒ‡å—</a></li><li class="chapter-item "><a href="rust/Rust-self-Self-èˆ‡-C++-this-å°æ¯”æŒ‡å—.html">Rust-self-Self-èˆ‡-C++-this-å°æ¯”æŒ‡å—</a></li><li class="chapter-item "><a href="rust/rust-derive-traits-comparison.html">Rust Derive Traits æ¯”è¼ƒï¼šè‡ªå‹•ç”Ÿæˆ vs æ‰‹å‹•å¯¦ä½œ</a></li><li class="chapter-item "><a href="rust/rust_traits_explained.html">Rust Traits ç™½è©±è§£é‡‹ï¼šèˆ‡ C++ çš„æ¯”è¼ƒ</a></li><li class="chapter-item "><a href="rust/rust_trait_impl_markdown.html">Rust ä¸­ trait å’Œ impl çš„å·®ç•°</a></li><li class="chapter-item "><a href="rust/rust_cpp_comparison_md.html">Rust vs C++ è©³ç´°å°æ¯”æŒ‡å—</a></li><li class="chapter-item "><a href="rust/rust_module_system_markdown.html">Rust æ¨¡çµ„ç³»çµ±å®Œæ•´æŒ‡å—</a></li><li class="chapter-item "><a href="rust/ownership_vs_borrowing_guide.html">Rust æ“æœ‰æ¬Š vs å€Ÿç”¨ï¼šç”Ÿå‘½é€±æœŸå•é¡ŒæŒ‡å—ğŸ¦€</a></li><li class="chapter-item "><a href="rust/rust_ownership_guide.html">Rust æ‰€æœ‰æ¬Šç³»çµ± - ç”Ÿæ´»åŒ–è©³è§£</a></li><li class="chapter-item "><a href="rust/rust_ownership_complete_guide.html">Rust æ‰€æœ‰æ¬Šå®Œæ•´æŒ‡å— - å¾åŸºç¤åˆ°ç²¾é€š</a></li><li class="chapter-item "><a href="rust/rust_memory_guide.html">Rust è¨˜æ†¶é«”é…ç½®æŒ‡å—ï¼šStack vs Heap</a></li><li class="chapter-item "><a href="rust/rust_wrappers_guide.html">Rust è¨˜æ†¶é«”é…ç½®æŒ‡å—ï¼šStack vs Heap</a></li></ol></li><li class="chapter-item expanded "><a href="go/go.html">Go</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="go/note.html">Golang  Note</a></li><li class="chapter-item "><a href="go/pytago.html">pytago</a></li><li class="chapter-item "><a href="go/Goç·¨ç¨‹å¯¦æˆ°æ´¾åŸºç¤å…¥é–€.html">Goç·¨ç¨‹å¯¦æˆ°æ´¾åŸºç¤å…¥é–€</a></li><li class="chapter-item "><a href="go/Goç·¨ç¨‹å¯¦æˆ°æ´¾Webé–‹ç™¼åŸºç¤.html">Goç·¨ç¨‹å¯¦æˆ°æ´¾Webé–‹ç™¼åŸºç¤</a></li><li class="chapter-item "><a href="go/golang_debugger.html">Golang Deubgger</a></li><li class="chapter-item "><a href="go/golang-go-module-tutorial.html">å¾ä¸€çŸ¥åŠè§£åˆ°ç•¥æ‡‚ Go modules</a></li><li class="chapter-item "><a href="go/go_mod.html">Go modules</a></li><li class="chapter-item "><a href="go/trace.html">Golangå¤§æ®ºå™¨ä¹‹è·Ÿè¹¤å‰–ætrace</a></li><li class="chapter-item "><a href="go/Coroutine.html">è¡Œç¨‹ã€åŸ·è¡Œç·’ã€å”ç¨‹ï¼Œå‚»å‚»åˆ†å¾—æ¸…æ¥šï¼</a></li><li class="chapter-item "><a href="go/goroutine-and-channel.html">Goä½µç™¼</a></li><li class="chapter-item "><a href="go/websocket.html">Websocket</a></li><li class="chapter-item "><a href="go/returning-pointer-from-a-function-in-go.html">Returning Pointer from a Function in Go</a></li><li class="chapter-item "><a href="go/golang-memory-management.html">GC å…¨é¢è§£æ</a></li><li class="chapter-item "><a href="go/golang-goroutine.html">Goroutine èˆ‡ GMP åŸç†å…¨é¢åˆ†æ</a></li><li class="chapter-item "><a href="go/oo.html">OO</a></li><li class="chapter-item "><a href="go/mutex-rwmutex.html">sync.Mutex å’Œ sync.RWMutex</a></li><li class="chapter-item "><a href="go/interface.html">interface</a></li><li class="chapter-item "><a href="go/example.html">Example</a></li><li class="chapter-item "><a href="go/LiveKit.html">LiveKit</a></li></ol></li><li class="chapter-item expanded "><a href="ml/ml.html">ML</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ml/pytorch.html">Pytorch</a></li><li class="chapter-item "><a href="ml/pytorch_setup.html">Pytorch å®‰è£</a></li><li class="chapter-item "><a href="ml/deap.html">Deap</a></li><li class="chapter-item "><a href="ml/cudf.html">CUDF</a></li><li class="chapter-item "><a href="ml/åˆæ¢åŸºå› æ¼”ç®—æ³•.html">åˆæ¢åŸºå› æ¼”ç®—æ³•-ç”¨ OneMax å•é¡Œç¤ºç¯„</a></li><li class="chapter-item "><a href="ml/ç°¡å–®è§£é‡‹æ¢¯åº¦ä¸‹é™æ³•.html">ç°¡å–®è§£é‡‹æ¢¯åº¦ä¸‹é™æ³•</a></li><li class="chapter-item "><a href="ml/æ¢¯åº¦ä¸‹é™æ³•_gradient_descent.html">æ¢¯åº¦ä¸‹é™æ³• gradient descent</a></li><li class="chapter-item "><a href="ml/æ¢¯åº¦æœ€ä½³è§£ç›¸é—œç®—æ³•.html">æ¢¯åº¦æœ€ä½³è§£ç›¸é—œç®—æ³•</a></li><li class="chapter-item "><a href="ml/åŸºæ–¼DEAPåº«çš„Pythoné€²åŒ–æ¼”ç®—æ³•å¾å…¥é–€åˆ°å…¥åœŸ.html">åŸºæ–¼DEAPåº«çš„Pythoné€²åŒ–æ¼”ç®—æ³•å¾å…¥é–€åˆ°å…¥åœŸ</a></li><li class="chapter-item "><a href="ml/GA.html">GA</a></li><li class="chapter-item "><a href="ml/XGBoost.html">XGBoost</a></li><li class="chapter-item "><a href="ml/YOLO.html">YOLO</a></li><li class="chapter-item "><a href="ml/yolov8æ‰‹å‹¢è­˜åˆ¥.html">YOLOv8æ‰‹å‹¢è­˜åˆ¥</a></li><li class="chapter-item "><a href="ml/Roboflow.html">Roboflow</a></li></ol></li><li class="chapter-item expanded "><a href="python/python.html">Python</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="python/Poetryå®Œå…¨å…¥é–€æŒ‡å—.html">Poetryå®Œå…¨å…¥é–€æŒ‡å—</a></li><li class="chapter-item "><a href="python/æ­å»ºgRPCæœå‹™.html">æ­å»ºgRPCæœå‹™</a></li><li class="chapter-item "><a href="python/python_debugger.html">Python Debugger</a></li><li class="chapter-item "><a href="python/decorator.html">Python decorator</a></li><li class="chapter-item "><a href="python/python-decorator.html">è£é£¾å™¨çœ‹é€™ä¸€ç¯‡å°±å¤ äº†</a></li><li class="chapter-item "><a href="python/import-concept.html">import-concept</a></li><li class="chapter-item "><a href="python/process_thread.html">Process/Threadå„ªç¼ºé»</a></li><li class="chapter-item "><a href="python/processing_communcation.html">Processing é€šè¨Š</a></li><li class="chapter-item "><a href="python/condition.html">Pythonä¸­çš„waitå’Œnotify</a></li><li class="chapter-item "><a href="python/ç”Ÿç”¢è€…æ¶ˆè²»è€…æ¨¡å¼.html">ç”Ÿç”¢è€…æ¶ˆè²»è€…æ¨¡å¼</a></li><li class="chapter-item "><a href="python/Loguru.html">Loguru</a></li><li class="chapter-item "><a href="python/cython.html">Cython</a></li><li class="chapter-item "><a href="python/WebSocket_reconnect.html">Python WebSocketé•·é€£æ¥å¿ƒè·³èˆ‡çŸ­é€£æ¥</a></li><li class="chapter-item "><a href="python/bloomrpc.html">bloomrpc</a></li><li class="chapter-item "><a href="python/concurrent.futures.html">Concurrent futures</a></li><li class="chapter-item "><a href="python/schedule.html">ä»»å‹™èª¿åº¦</a></li><li class="chapter-item "><a href="python/plot/plot.html">Plot</a></li><li class="chapter-item "><a href="python/plot/dash.html">Dash</a></li><li class="chapter-item "><a href="python/Rust_bindings_for_Python.html">Rust bindings for Python</a></li><li class="chapter-item "><a href="python/pandas.html">Pandas</a></li><li class="chapter-item "><a href="python/coroutine.html">Coroutine</a></li><li class="chapter-item "><a href="python/finmind.html">FinMind</a></li><li class="chapter-item "><a href="python/telegram_bot.html">Telegram Bot</a></li><li class="chapter-item "><a href="python/python-different-ways-to-kill-a-thread.html">Different ways kill thread</a></li><li class="chapter-item "><a href="python/websocket_client_server.html">Websocket client/server</a></li><li class="chapter-item "><a href="python/poetry.html">å¾é›¶é–‹å§‹ä½¿ç”¨ Poetry</a></li><li class="chapter-item "><a href="python/fil-memory-usage-profiler.html">Fil-memory-usage-profiler</a></li><li class="chapter-item "><a href="python/plot.html">ç¹ªåœ–</a></li><li class="chapter-item "><a href="python/shioaji.html">æ°¸è±shioaji</a></li><li class="chapter-item "><a href="python/other.html">Other</a></li></ol></li><li class="chapter-item expanded "><a href="mermaid/mermaid.html">Mermaid</a></li><li class="chapter-item expanded "><a href="linux_system/linux_system.html">Linux System</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="linux_system/1_day_socket.html">Socket</a></li><li class="chapter-item "><a href="linux_system/cgroup.html">Cgroup</a></li><li class="chapter-item "><a href="linux_system/perf.html">Perf</a></li><li class="chapter-item "><a href="linux_system/è‡ªè£½Lib.html">build Lib</a></li><li class="chapter-item "><a href="linux_system/performance.html">performance</a></li></ol></li><li class="chapter-item expanded "><a href="strategy/bollmaker.html">Strategy</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="strategy/é€ å¸‚/market_market.html">é€ å¸‚</a></li><li class="chapter-item "><a href="strategy/tw_futures.html">è‡ºæŒ‡</a></li><li class="chapter-item "><a href="strategy/arbitrage.html">å¥—åˆ©</a></li><li class="chapter-item "><a href="strategy/é…å°äº¤æ˜“.html">é…å°äº¤æ˜“</a></li><li class="chapter-item "><a href="strategy/æµ·é¾œäº¤æ˜“.html">æµ·é¾œäº¤æ˜“</a></li><li class="chapter-item "><a href="strategy/è‚¡æµ·ç­‹è‚‰äºº.html">è‚¡æµ·ç­‹è‚‰äºº</a></li><li class="chapter-item "><a href="strategy/å¦‚ä½•é¿å…éæ“¬åˆ.html">å¦‚ä½•é¿å…éæ“¬åˆ</a></li><li class="chapter-item "><a href="strategy/å¤šç©ºæ“ä½œè¡“.html">å¤šç©ºæ“ä½œè¡“</a></li><li class="chapter-item "><a href="strategy/è³‡é‡‘æ§ç®¡æ‰æ˜¯ç‹é“.html">è³‡é‡‘æ§ç®¡æ‰æ˜¯ç‹é“</a></li><li class="chapter-item "><a href="strategy/00713_00675Læ­£äºŒèœˆèš£ç­–ç•¥.html">æ­£äºŒèœˆèš£ç­–ç•¥</a></li><li class="chapter-item "><a href="strategy/è³ªæŠ¼00713+æ­£äºŒ.html">è³ªæŠ¼00713+æ­£äºŒ</a></li><li class="chapter-item "><a href="strategy/phcebus/phcebus.html">phcebus</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="strategy/phcebus/è²å¼æ€è€ƒ.html">è²å¼æ€è€ƒ</a></li><li class="chapter-item "><a href="strategy/phcebus/è²·è‚¡3å¿ƒæ³•.html">è²·è‚¡3å¿ƒæ³•</a></li></ol></li><li class="chapter-item "><a href="strategy/Option/option.html">é¸æ“‡æ¬Š</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="strategy/Option/option_note.html">Option note</a></li></ol></li><li class="chapter-item "><a href="strategy/vectorbt.html">VectorBT</a></li><li class="chapter-item "><a href="strategy/orderbook.html">Orderbook</a></li><li class="chapter-item "><a href="strategy/é¸è‚¡æ¢ä»¶.html">é¸è‚¡æ¢ä»¶</a></li><li class="chapter-item "><a href="strategy/å¦‚ä½•é€²å ´.html">å¦‚ä½•é€²å ´</a></li><li class="chapter-item "><a href="strategy/å¦‚ä½•å‡ºå ´.html">å¦‚ä½•å‡ºå ´</a></li><li class="chapter-item "><a href="strategy/å»ºå€‰åŠ ç¢¼.html">å»ºå€‰åŠ ç¢¼</a></li><li class="chapter-item "><a href="strategy/DT.html">ç•¶æ²–</a></li><li class="chapter-item "><a href="strategy/ç•¶æ²–åšç©º.html">ç•¶æ²–åšç©º</a></li><li class="chapter-item "><a href="strategy/æŠ„åº•.html">æŠ„åº•</a></li><li class="chapter-item "><a href="strategy/éº»é“æ˜/éº»é“æ˜.html">éº»é“æ˜</a></li><li class="chapter-item "><a href="strategy/è³ºè´å¤§ç›¤çš„å‹•èƒ½æŠ•è³‡æ³•.html">è³ºè´å¤§ç›¤çš„å‹•èƒ½æŠ•è³‡æ³•</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="strategy/éº»é“æ˜/å‡çªç ´.html">å‡çªç ´</a></li></ol></li><li class="chapter-item "><a href="strategy/å¥‡æ­£/å¥‡æ­£.html">å¥‡æ­£</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="strategy/å¥‡æ­£/è³‡é‡‘æ§ç®¡èˆ‡è©¦å–®ç­–ç•¥.html">è³‡é‡‘æ§ç®¡èˆ‡è©¦å–®ç­–ç•¥</a></li><li class="chapter-item "><a href="strategy/å¥‡æ­£/å¦‚ä½•å‡ºå ´.html">å¦‚ä½•å‡ºå ´</a></li></ol></li><li class="chapter-item "><a href="strategy/ptt_stock/a0808996.html">PTT Stock</a></li><li class="chapter-item "><a href="strategy/Book/JG.html">JG</a></li><li class="chapter-item "><a href="strategy/bnf.html">BNF</a></li><li class="chapter-item "><a href="strategy/cis.html">CIS</a></li><li class="chapter-item "><a href="strategy/GA.html">GA</a></li><li class="chapter-item "><a href="strategy/stock.html">Stock</a></li><li class="chapter-item "><a href="strategy/note.html">Resource</a></li><li class="chapter-item "><a href="strategy/nansen.html">Nansen</a></li><li class="chapter-item "><a href="strategy/example.html">Example</a></li><li class="chapter-item "><a href="strategy/other.html">Other</a></li><li class="chapter-item "><a href="strategy/sample.html">Sample</a></li><li class="chapter-item "><a href="strategy/shioaji.html">shioaji æ¨¡æ“¬</a></li><li class="chapter-item "><a href="strategy/grid.html">Grid</a></li><li class="chapter-item "><a href="strategy/pine-script.html">pine-script</a></li><li class="chapter-item "><a href="strategy/æ‹¾äººç‰™æ…§.html">æ‹¾äººç‰™æ…§</a></li><li class="chapter-item "><a href="strategy/sharpe_ratio.html">å¤æ™®å€¼</a></li><li class="chapter-item "><a href="strategy/display_mae_mfe_analysis.html">MAE&amp;MFEåˆ†æ</a></li><li class="chapter-item "><a href="strategy/æµ·é¾œæŠ•è³‡æ³•å‰‡.html">æµ·é¾œæŠ•è³‡æ³•å‰‡</a></li><li class="chapter-item "><a href="strategy/edge-ratio-follow-application.html">å½ˆæ€§é€²å‡ºå ´çš„åˆ¤æ–·</a></li><li class="chapter-item "><a href="strategy/ä¸‰å¿ƒæ³•é †å‹¢æ“ä½œé™³æ—å…ƒ10å¹´è³‡ç”¢ç¿»10å€.html">ä¸‰å¿ƒæ³•é †å‹¢æ“ä½œé™³æ—å…ƒ10å¹´è³‡ç”¢ç¿»10å€</a></li><li class="chapter-item "><a href="strategy/Jump.html">JUMP</a></li><li class="chapter-item "><a href="strategy/å¼µæ¾å…æŠ•è³‡å¿ƒæ³•.html">å¼µå…æŠ•è³‡å¿ƒæ³•</a></li><li class="chapter-item "><a href="strategy/vectorbt_é…å°.html">vectorbt é…å°</a></li><li class="chapter-item "><a href="strategy/äº¤æ˜“çš„è¡Œç‚ºèˆ‡æ€ç¶­åˆ†äº«.html">äº¤æ˜“çš„è¡Œç‚ºèˆ‡æ€ç¶­åˆ†äº«</a></li><li class="chapter-item "><a href="strategy/æŠ•è³‡æŠ•æ©Ÿçš„è§€å¿µèˆ‡å¿ƒå¾—åˆ†äº«.html">æŠ•è³‡æŠ•æ©Ÿçš„è§€å¿µèˆ‡å¿ƒå¾—åˆ†äº«</a></li><li class="chapter-item "><a href="strategy/finlab.html">Finlab</a></li><li class="chapter-item "><a href="strategy/backtrader/basis.html">Backtrader</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="strategy/backtrader/Pythonå›æ¸¬æ¡†æ¶ä¸€Backtraderä»‹ç´¹.html">Pythonå›æ¸¬æ¡†æ¶ä¸€Backtraderä»‹ç´¹</a></li><li class="chapter-item "><a href="strategy/backtrader/Pythonå›æ¸¬æ¡†æ¶äºŒå®šæœŸå®šé¡æŠ•è³‡.html">Python å›æ¸¬æ¡†æ¶ï¼ˆäºŒï¼‰å®šæœŸå®šé¡æŠ•è³‡</a></li><li class="chapter-item "><a href="strategy/backtrader/Pythonå›æ¸¬æ¡†æ¶ä¸‰æŠ€è¡“æŒ‡æ¨™.html">Python å›æ¸¬æ¡†æ¶ï¼ˆä¸‰ï¼‰æŠ€è¡“æŒ‡æ¨™</a></li><li class="chapter-item "><a href="strategy/backtrader/Pythonå›æ¸¬æ¡†æ¶å››CrossOverå’ŒSignal.html">Python å›æ¸¬æ¡†æ¶ï¼ˆå››ï¼‰CrossOver å’Œ Signal</a></li><li class="chapter-item "><a href="strategy/backtrader/Pythonå›æ¸¬æ¡†æ¶äº”Sizer.html">Python å›æ¸¬æ¡†æ¶ï¼ˆäº”ï¼‰Sizer</a></li><li class="chapter-item "><a href="strategy/backtrader/Pythonå›æ¸¬æ¡†æ¶å…­Analyzers.html">Python å›æ¸¬æ¡†æ¶ï¼ˆå…­ï¼‰Analyzers</a></li><li class="chapter-item "><a href="strategy/backtrader/å¤šè‚¡çµ„åˆæ“ä½œç­–ç•¥.html">å¤šè‚¡çµ„åˆæ“ä½œ</a></li><li class="chapter-item "><a href="strategy/backtrader/å‡ç·šäº¤å‰ç­–ç•¥.html">å‡ç·šäº¤å‰ç­–ç•¥</a></li><li class="chapter-item "><a href="strategy/backtrader/å”å¥‡å®‰é€šé“ç­–ç•¥.html">å”å¥‡å®‰é€šé“ç­–ç•¥</a></li><li class="chapter-item "><a href="strategy/backtrader/Sizersæ¨¡çµ„.html">Sizersæ¨¡çµ„</a></li><li class="chapter-item "><a href="strategy/backtrader/Observersæ¨¡çµ„.html">Observersæ¨¡çµ„</a></li><li class="chapter-item "><a href="strategy/backtrader/Pyfolio.html">Pyfolio</a></li><li class="chapter-item "><a href="strategy/backtrader/Sample.html">Sample</a></li><li class="chapter-item "><a href="strategy/backtrader/performance.html">Performance</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="mq/kafka.html">MQ</a></li><li class="chapter-item expanded "><a href="mq/kafka-python.html">Kafkaçš„é€šä¿—ç¸½çµ</a></li><li class="chapter-item expanded "><a href="database/database.html">Database</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="database/redis.html">Redis</a></li><li class="chapter-item "><a href="database/hash.html">Redis Hash</a></li><li class="chapter-item "><a href="database/clickhouse.html">ClickHouse</a></li><li class="chapter-item "><a href="database/dolphin.html">Dolphin</a></li><li class="chapter-item "><a href="database/sqlite.html">Sqlite</a></li></ol></li><li class="chapter-item expanded "><a href="cryptotrade/cryptotrade.html">CryptoTrade</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="cryptotrade/binance/binance.html">Binance</a></li><li class="chapter-item "><a href="cryptotrade/binance/oco.html">å¦‚ä½•å°‡OCOè¨‚å–®ç™¼é€åˆ°Binance</a></li></ol></li><li class="chapter-item expanded "><a href="git/git.html">Git</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="git/git-remove-commited-files.html">git-remove-commited-files</a></li><li class="chapter-item "><a href="git/cheat-sheet.html">Git å¸¸ç”¨</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Jason Notes</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/shihyu/jason_notes" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p><strong>é€™æ¬¡çš„éƒ¨è½æ ¼ï¼Œé›–ç„¶åƒè€ƒäº†ä¸Šè¿°çš„é€£çµï¼Œä½†æ˜¯è£¡éºµåŒ…å«äº†å‡½æ•¸è¬›è§£ ï¼Œå¯ä»¥å¿«é€Ÿå…¥é–€ï¼Œä¸Šæ‰‹ã€‚</strong></p>
<h2 id="å‰æ²¿"><a class="header" href="#å‰æ²¿">å‰æ²¿</a></h2>
<p>ç­†è€…æœ€è¿‘é–‹å§‹å­¸ç¿’å¦‚ä½•ç”¨DEAPè½å¯¦é€²åŒ–æ¼”ç®—æ³•ï¼Œæœ¬æ–‡æ—¢æ˜¯æ•™å­¸ï¼Œä¹Ÿæ˜¯å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›åœ¨å¹«åŠ©è‡ªå·±è¨˜æ†¶ç†è§£çš„åŒæ™‚å°åŒæ¨£æ­£åœ¨å­¸ç¿’çš„åŒå­¸èƒ½æœ‰æ‰€å¹«åŠ©ã€‚ç¤™æ–¼ç­†è€…æ°´å¹³æœ‰é™ï¼Œåˆéé‹ç±Œæœ€ä½³åŒ–ç§‘ç­å‡ºèº«ï¼ŒéŒ¯èª¤é›£å…ï¼Œè«‹å¤§å®¶å¤šå¤šæŒ‡æ­£ã€‚</p>
<h2 id="é—œæ–¼deap"><a class="header" href="#é—œæ–¼deap">é—œæ–¼DEAP</a></h2>
<p>ï¼ˆ<a href="https://deap.readthedocs.io/en/master/">DEAP</a>ï¼‰æ˜¯ä¸€å€‹é€²åŒ–è¨ˆç®—æ¡†æ¶ï¼Œèƒ½å¤ å¹«åŠ©æˆ‘å€‘å¿«é€Ÿå¯¦ç¾å’Œæ¸¬è©¦é€²åŒ–æ¼”ç®—æ³•ã€‚ç”±æ–¼å®ƒçš„éˆæ´»èˆ‡å¼·å¤§ï¼Œç›®å‰åœ¨Githubä¸Šå·²ç¶“æœ‰2848å€‹starã€‚</p>
<h3 id="deapçš„ç‰¹æ€§"><a class="header" href="#deapçš„ç‰¹æ€§">DEAPçš„ç‰¹æ€§ï¼š</a></h3>
<p>å„é¡éºå‚³æ¼”ç®—æ³•
éºå‚³è¦åŠƒ
é€²åŒ–ç­–ç•¥
å¤šç›®æ¨™æœ€ä½³åŒ–
å¤šç¨®ç¾¤ä¹‹é–“çš„å”ä½œèˆ‡ç«¶çˆ­
å¹³è¡Œè¨ˆç®—
è¨ˆç®—éç¨‹ä¸­è¨­å®šæª¢æŸ¥é»
è¨­å®šåŸºæº–æ¨¡çµ„ï¼Œæª¢é©—æ¼”ç®—æ³•èƒ½åŠ›
æ”¯æ´ç²’å­ç¾¤æ¼”ç®—æ³•ã€å·®åˆ†é€²åŒ–æ¼”ç®—æ³•ç­‰
å¯ä»¥ç°¡å–®çš„ä½¿ç”¨ pip install deap ä¾†å®‰è£ï¼Œæœ¬æ–‡åŸºæ–¼ç•¶å‰çš„æœ€æ–°ç‰ˆ(deap - 1.3.1)</p>
<h2 id="é€²åŒ–æ¼”ç®—æ³•ç°¡ä»‹"><a class="header" href="#é€²åŒ–æ¼”ç®—æ³•ç°¡ä»‹">é€²åŒ–æ¼”ç®—æ³•ç°¡ä»‹</a></h2>
<h3 id="ä»€éº¼æ˜¯é€²åŒ–æ¼”ç®—æ³•"><a class="header" href="#ä»€éº¼æ˜¯é€²åŒ–æ¼”ç®—æ³•">ä»€éº¼æ˜¯é€²åŒ–æ¼”ç®—æ³•</a></h3>
<p>é€²åŒ–æ¼”ç®—æ³•(Evolutionary Algorithms)æ˜¯ä¸€é¡å…ƒå•Ÿé«®å¼æ¼”ç®—æ³•çš„çµ±ç¨±ã€‚é€™é¡æ¼”ç®—æ³•å€Ÿé‘‘å¤§è‡ªç„¶ä¸­ç”Ÿç‰©çš„é€²åŒ–ã€é¸æ“‡èˆ‡æ·˜æ±°æ©Ÿåˆ¶ï¼Œé€šå¸¸å…ˆç”¢ç”Ÿä¸€å€‹æ—ç¾¤ï¼Œç„¶å¾Œä¸æ–·é€²åŒ–èˆ‡æ·˜æ±°ï¼Œæœ€çµ‚ç”¢ç”Ÿèƒ½å¤ åœ¨åš´é…·çš„è‡ªç„¶ç’°å¢ƒä¸­ç”Ÿå­˜çš„å„ªç•°å€‹é«”ï¼ˆä¹Ÿå°±æ˜¯æœ‰è¼ƒå¤§é©æ‡‰åº¦å‡½æ•¸çš„å¯è¡Œè§£ï¼‰ã€‚å®ƒå…·æœ‰è‡ªçµ„ç¹”ã€è‡ªé©æ‡‰çš„ç‰¹æ€§ï¼Œå¸¸è¢«ç”¨ä¾†è™•ç†å‚³çµ±æœ€ä½³åŒ–æ¼”ç®—æ³•é›£ä»¥è§£æ±ºçš„å•é¡Œã€‚</p>
<h3 id="é€²åŒ–æ¼”ç®—æ³•çš„å„ªç¼ºé»"><a class="header" href="#é€²åŒ–æ¼”ç®—æ³•çš„å„ªç¼ºé»">é€²åŒ–æ¼”ç®—æ³•çš„å„ªç¼ºé»</a></h3>
<p><strong>å„ªé»ï¼š</strong></p>
<blockquote>
<ul>
<li>æ³›ç”¨æ€§å¼·ï¼Œå°é€£çºŒè®Šæ•¸å’Œé›¢æ•£è®Šæ•¸éƒ½èƒ½é©ç”¨ï¼›</li>
<li>ä¸éœ€è¦å°æ•¸è³‡è¨Šï¼Œå› æ­¤ä¸è¦æ±‚é©æ‡‰åº¦å‡½æ•¸çš„é€£çºŒå’Œå¯å¾®æ€§è³ª(æˆ–è€…èªªä¸éœ€è¦å•é¡Œå…§åœ¨æ©Ÿç†çš„ç›¸é—œè³‡è¨Š)ï¼›</li>
<li>å¯ä»¥åœ¨è§£ç©ºé–“å…§å¤§ç¯„åœå¹³è¡Œæœå°‹ï¼›</li>
<li>ä¸å®¹æ˜“é™·å…¥å±€éƒ¨æœ€å„ªï¼›</li>
<li>é«˜åº¦å¹³è¡ŒåŒ–ï¼Œä¸¦ä¸”å®¹æ˜“èˆ‡å…¶ä»–æœ€ä½³åŒ–æ–¹æ³•æ•´åˆã€‚</li>
</ul>
</blockquote>
<p><strong>ç¼ºé»ï¼š</strong></p>
<blockquote>
<ul>
<li>å°æ–¼å‡¸æœ€ä½³åŒ–å•é¡Œï¼Œç›¸å°åŸºæ–¼æ¢¯åº¦çš„æœ€ä½³åŒ–æ–¹æ³•ï¼ˆä¾‹å¦‚æ¢¯åº¦ä¸‹é™æ³•ï¼Œç‰›é “/æ“¬ç‰›é “æ³•ï¼‰æ”¶æ–‚é€Ÿåº¦æ›´æ…¢ï¼›</li>
<li>é€²åŒ–æ¼”ç®—æ³•éœ€è¦åœ¨æœå°‹ç©ºé–“æŠ•æ”¾å¤§é‡å€‹é«”ä¾†æœå°‹æœ€å„ªè§£ã€‚å°æ–¼é«˜ç¶­å•é¡Œï¼Œç”±æ–¼æœå°‹ç©ºé–“éš¨ç¶­åº¦æŒ‡æ•¸ç´šè†¨è„¹ï¼Œéœ€è¦æŠ•æ”¾çš„å€‹é«”æ•¸ä¹Ÿå¤§å¹…å¢é•·ï¼Œæœƒå°è‡´æ”¶æ–‚é€Ÿåº¦è®Šæ…¢ï¼›</li>
<li>è¨­è¨ˆç·¨ç¢¼æ–¹å¼ã€é©æ‡‰åº¦å‡½æ•¸ä»¥åŠè®Šç•°è¦å‰‡éœ€è¦å¤§é‡ç¶“é©—ã€‚</li>
</ul>
</blockquote>
<h2 id="é€²åŒ–æ¼”ç®—æ³•çš„åŸºæœ¬å…ƒç´ åˆ©ç”¨é€™äº›å…ƒç´ æˆ‘å€‘å°±å¯ä»¥ä¾ç…§æµç¨‹åœ–çµ„æˆä¸€å€‹é€²åŒ–æ¼”ç®—æ³•"><a class="header" href="#é€²åŒ–æ¼”ç®—æ³•çš„åŸºæœ¬å…ƒç´ åˆ©ç”¨é€™äº›å…ƒç´ æˆ‘å€‘å°±å¯ä»¥ä¾ç…§æµç¨‹åœ–çµ„æˆä¸€å€‹é€²åŒ–æ¼”ç®—æ³•">é€²åŒ–æ¼”ç®—æ³•çš„åŸºæœ¬å…ƒç´ åˆ©ç”¨é€™äº›å…ƒç´ ï¼Œæˆ‘å€‘å°±å¯ä»¥ä¾ç…§æµç¨‹åœ–çµ„æˆä¸€å€‹é€²åŒ–æ¼”ç®—æ³•ï¼š</a></h2>
<blockquote>
<ol>
<li>å€‹é«”ç·¨ç¢¼(Individual representation): å°‡å•é¡Œçš„è§£ç©ºé–“ç·¨ç¢¼å°æ‡‰åˆ°æœå°‹ç©ºé–“çš„éç¨‹ã€‚å¸¸ç”¨çš„ç·¨ç¢¼æ–¹å¼æœ‰äºŒå€¼ç·¨ç¢¼(Binary)ï¼Œæ ¼é›·ç·¨ç¢¼(Gray)ï¼Œæµ®é»ç·¨ç¢¼(Floating-point)ç­‰ã€‚</li>
<li>è©•åƒ¹(Evaluation): è¨­å®šä¸€å®šçš„æº–å‰‡è©•åƒ¹æ—ç¾¤å…§æ¯å€‹å€‹é«”çš„å„ªç§€ç¨‹åº¦ã€‚é€™ç¨®å„ªç§€ç¨‹åº¦é€šå¸¸ç¨±ç‚ºé©æ‡‰åº¦(Fitness)ã€‚</li>
<li>é…ç¨®é¸æ“‡(Mating selection): å»ºç«‹æº–å‰‡å¾çˆ¶ä»£ä¸­é¸æ“‡å€‹é«”åƒèˆ‡è‚²ç¨®ã€‚å„˜å¯èƒ½é¸æ“‡ç²¾è‹±å€‹é«”çš„åŒæ™‚ä¹Ÿæ‡‰ç•¶ç¶­è­·ç¨®ç¾¤çš„å¤šæ¨£æ€§ï¼Œé¿å…æ¼”ç®—æ³•éæ—©é™·å…¥å±€éƒ¨æœ€å„ªã€‚</li>
<li>è®Šç•°(Variation): è®Šç•°éç¨‹åŒ…æ‹¬ä¸€ç³»åˆ—å—åˆ°ç”Ÿç‰©å•Ÿç™¼çš„æ“ä½œï¼Œä¾‹å¦‚é‡çµ„(Recombination)ï¼Œçªè®Š(mutation)ç­‰ã€‚é€šéè®Šç•°æ“ä½œï¼Œçˆ¶ä»£çš„å€‹é«”ç·¨ç¢¼ä»¥ä¸€å®šæ–¹å¼ç¹¼æ‰¿å’Œé‡æ–°çµ„åˆå¾Œï¼Œå½¢æˆå¾Œä»£æ—ç¾¤ã€‚</li>
<li>ç’°å¢ƒé¸æ“‡(Environmental selection): å°‡çˆ¶ä»£èˆ‡å­ä»£é‡çµ„æˆæ–°çš„æ—ç¾¤ã€‚é€™å€‹éç¨‹ä¸­è‚²ç¨®å¾—åˆ°çš„å¾Œä»£è¢«é‡æ–°æ’å…¥åˆ°çˆ¶ä»£ç¨®ç¾¤ä¸­ï¼Œæ›¿æ›çˆ¶ä»£ç¨®ç¾¤çš„éƒ¨åˆ†æˆ–å…¨é«”ï¼Œå½¢æˆå…·æœ‰èˆ‡å‰ä»£ç›¸è¿‘è¦æ¨¡çš„æ–°æ—ç¾¤ã€‚</li>
<li>åœæ­¢æº–å‰‡(Stopping crieterion): ç¢ºå®šæ¼”ç®—æ³•ä½•æ™‚åœæ­¢ï¼Œé€šå¸¸æœ‰å…©ç¨®æƒ…æ³ï¼šæ¼”ç®—æ³•å·²ç¶“æ‰¾åˆ°æœ€å„ªè§£æˆ–è€…æ¼”ç®—æ³•å·²ç¶“é¸å…¥å±€éƒ¨æœ€å„ªï¼Œä¸èƒ½ç¹¼çºŒåœ¨è§£ç©ºé–“å…§æœå°‹ã€‚</li>
</ol>
</blockquote>
<p><img src="images/86253f823ffd2fa3f837c10964a6ac0e.png" alt="img" /></p>
<p>ç”¨æ–‡å­—è¡¨è¿°å¯¦ç¾ä¸€å€‹ç°¡å–®é€²åŒ–æ¼”ç®—æ³•çš„éç¨‹å¦‚ä¸‹ï¼š</p>
<blockquote>
<pre><code class="language-cobol">
Generate the initial population P(0) at random, and set t = 0.
repeat
    Evaluate the fitness of each individual in P(t).
    Select parents from P(t) based on their fitness.
    Mate or Mutate to Selected P(t)
    Obtain population P(t+1) by making variations to parents.
    Set t = t + 1
</code></pre>
</blockquote>
<h2 id="å¯¦ç¾å•é¡Œå®šç¾©å€‹é«”ç·¨ç¢¼èˆ‡å»ºç«‹åˆå§‹æ—ç¾¤"><a class="header" href="#å¯¦ç¾å•é¡Œå®šç¾©å€‹é«”ç·¨ç¢¼èˆ‡å»ºç«‹åˆå§‹æ—ç¾¤">å¯¦ç¾ï¼šå•é¡Œå®šç¾©ã€å€‹é«”ç·¨ç¢¼èˆ‡å»ºç«‹åˆå§‹æ—ç¾¤</a></h2>
<h3 id="1æœ€ä½³åŒ–å•é¡Œçš„å®šç¾©"><a class="header" href="#1æœ€ä½³åŒ–å•é¡Œçš„å®šç¾©">1.æœ€ä½³åŒ–å•é¡Œçš„å®šç¾©</a></h3>
<p><strong>å–®ç›®æ¨™æœ€ä½³åŒ–ï¼š</strong><code>creator.create('FitnessMin', base.Fitness, weights=(-1.0, ))</code></p>
<p>åœ¨å»ºç«‹å–®ç›®æ¨™æœ€ä½³åŒ–å•é¡Œæ™‚ï¼Œweightsç”¨ä¾†æŒ‡ç¤ºæœ€å¤§åŒ–å’Œæœ€å°åŒ–ã€‚æ­¤è™•-1.0å³ä»£è¡¨å•é¡Œæ˜¯ä¸€å€‹æœ€å°åŒ–å•é¡Œï¼Œå°æ–¼æœ€å¤§åŒ–ï¼Œæ‡‰å°‡weightsæ”¹ç‚ºæ­£æ•¸ï¼Œå¦‚1.0ã€‚</p>
<p>å¦å¤–å³ä½¿æ˜¯å–®ç›®æ¨™æœ€ä½³åŒ–ï¼Œweightsä¹Ÿéœ€è¦æ˜¯ä¸€å€‹tupleï¼Œä»¥ä¿è­‰å–®ç›®æ¨™å’Œ<a href="https://so.csdn.net/so/search?q=%E5%A4%9A%E7%9B%AE%E6%A8%99%E5%84%AA%E5%8C%96&amp;spm=1001.2101.3001.7020">å¤šç›®æ¨™æœ€ä½³åŒ–</a>æ™‚è³‡æ–™çµæ§‹çš„çµ±ä¸€ã€‚</p>
<p>å°æ–¼å–®ç›®æ¨™æœ€ä½³åŒ–å•é¡Œï¼Œweights çš„çµ•å°å€¼æ²’æœ‰æ„ç¾©ï¼Œåªè¦ç¬¦è™Ÿé¸æ“‡æ­£ç¢ºå³å¯ã€‚</p>
<p><strong>å¤šç›®æ¨™æœ€ä½³åŒ–ï¼š</strong><code>creator.create('FitnessMulti', base.Fitness, weights=(-1.0, 1.0))</code></p>
<p>å°æ–¼å¤šç›®æ¨™æœ€ä½³åŒ–å•é¡Œï¼Œweightsç”¨ä¾†æŒ‡ç¤ºå¤šå€‹æœ€ä½³åŒ–ç›®æ¨™ä¹‹é–“çš„ç›¸å°é‡è¦ç¨‹åº¦ä»¥åŠæœ€å¤§åŒ–æœ€å°åŒ–ã€‚å¦‚ç¤ºä¾‹ä¸­çµ¦å‡ºçš„(-1.0, 1.0)ä»£è¡¨å°ç¬¬ä¸€å€‹ç›®æ¨™å‡½æ•¸å–æœ€å°å€¼ï¼Œå°ç¬¬äºŒå€‹ç›®æ¨™å‡½æ•¸å–æœ€å¤§å€¼ã€‚</p>
<h4 id="creatorcreatefitnessmin-basefitness-weights-10-å‡½æ•¸è¬›è§£"><a class="header" href="#creatorcreatefitnessmin-basefitness-weights-10-å‡½æ•¸è¬›è§£"><code>creator.create('FitnessMin', base.Fitness, weights=(-1.0, ))</code>å‡½æ•¸è¬›è§£ï¼š</a></h4>
<p>å…ˆçœ‹ä¸‹å‡½æ•¸çš„åŸºæœ¬å®šç¾©ï¼šè©²å‡½æ•¸ä¸»è¦æ˜¯ç‚ºäº†<strong>å‰µé€ å‡ºä¸€å€‹é¡</strong></p>
<p>ç¬¬ä¸€å€‹åƒæ•¸ï¼šè¡¨ç¤ºé¡åå­—</p>
<p>ç¬¬äºŒå€‹åƒæ•¸ï¼šéœ€è¦ç¹¼æ‰¿çš„ä¸€å€‹é¡ï¼Œå› ç‚ºé€™è£¡æ˜¯è¨ˆç®—fitnessï¼Œæ‰€ä»¥æˆ‘å€‘ç¹¼æ‰¿äº†base.fitness</p>
<p>ç¬¬ä¸‰å€‹åƒæ•¸ï¼šæœƒæŠŠæ¥ä¸‹ä¾†çš„æ‰€æœ‰åƒæ•¸ï¼Œæ•´ç†ç‚ºè©²é¡çš„<strong>å±¬æ€§ï¼ˆattributesï¼‰</strong>ï¼Œä¸‹é¢çš„ä¾‹å­èªªæ˜</p>
<p><img src="images/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ2hhb0ZlaUxp,size_16,color_FFFFFF,t_70,g_se,x_16" alt="img" /></p>
<p>å‡½æ•¸èˆ‰ä¾‹ï¼šcreate("Foo", list, bar=dict, spam=1) ç›¸ç•¶æ–¼ï¼š</p>
<pre><code class="language-python">class Foo(list):
    spam = 1

    def __init__(self):
</code></pre>
<p>Fooä½œç‚ºé¡åï¼Œä¸¦ç¹¼æ‰¿äº†listï¼Œå¦‚æœåƒæ•¸æ˜¯é¡ï¼ˆdict)ï¼Œå‰‡åœ¨__init__ å‡½æ•¸ä¸­åˆå§‹åŒ–è©²å¯¦ä¾‹ï¼Œä¸”è©²å¯¦ä¾‹ä½œç‚ºFooé¡çš„ä¸€å€‹<strong>å±¬æ€§ï¼ˆattributesï¼‰</strong>ã€‚å¦‚func.barã€‚å¦‚æœåƒæ•¸ä¸æ˜¯é¡ï¼Œå‰‡ä½œç‚ºè©²é¡çš„ä¸€å€‹éœæ…‹å±¬æ€§**ï¼ˆattributesï¼‰**ã€‚å¦‚ï¼Œfunc.spam</p>
<p><img src="images/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ2hhb0ZlaUxp,size_17,color_FFFFFF,t_70,g_se,x_16" alt="img" /></p>
<pre><code class="language-python">
def create(name, base, **kargs):
    """Creates a new class named *name* inheriting from *base* in the
    :mod:`~deap.creator` module. The new class can have attributes defined by
    the subsequent keyword arguments passed to the function create. If the
    argument is a class (without the parenthesis), the __init__ function is
    called in the initialization of an instance of the new object and the
    returned instance is added as an attribute of the class' instance.
    Otherwise, if the argument is not a class, (for example an :class:`int`),
    it is added as a "static" attribute of the class.
    :param name: The name of the class to create.
    :param base: A base class from which to inherit.
    :param attribute: One or more attributes to add on instantiation of this
                      class, optional.
    The following is used to create a class :class:`Foo` inheriting from the
    standard :class:`list` and having an attribute :attr:`bar` being an empty
    dictionary and a static attribute :attr:`spam` initialized to 1. ::
        create("Foo", list, bar=dict, spam=1)
    This above line is exactly the same as defining in the :mod:`creator`
    module something like the following. ::
        class Foo(list):
            spam = 1
            def __init__(self):
                self.bar = dict()
    The :ref:`creating-types` tutorial gives more examples of the creator
    usage.
</code></pre>
<h3 id="2å€‹é«”ç·¨ç¢¼"><a class="header" href="#2å€‹é«”ç·¨ç¢¼">2.å€‹é«”ç·¨ç¢¼</a></h3>
<p>**å¯¦æ•¸ç·¨ç¢¼(Value encoding)ï¼š**ç›´æ¥ç”¨å¯¦æ•¸å°è®Šæ•¸é€²è¡Œç·¨ç¢¼ã€‚å„ªé»æ˜¯ä¸ç”¨è§£ç¢¼ï¼ŒåŸºå› è¡¨é”éå¸¸ç°¡æ½”ï¼Œè€Œä¸”èƒ½å°æ‡‰é€£çºŒå€é–“ã€‚ä½†æ˜¯å¯¦æ•¸ç·¨ç¢¼å¾Œæœå°‹å€é–“é€£çºŒï¼Œå› æ­¤å®¹æ˜“é™·å…¥å±€éƒ¨æœ€å„ªã€‚</p>
<p><em>å¯¦æ•¸ç·¨ç¢¼DEAPå¯¦ç¾ï¼š</em></p>
<pre><code class="language-python">from deap import base, creator, tools
import random
IND_SIZE = 5
creator.create('FitnessMin', base.Fitness, weights=(-1.0,)) #æœ€ä½³åŒ–ç›®æ¨™ï¼šå–®è®Šæ•¸ï¼Œæ±‚æœ€å°å€¼
creator.create('Individual', list, fitness = creator.FitnessMin) #å»ºç«‹Individualé¡ï¼Œç¹¼æ‰¿list
 
toolbox = base.Toolbox()
toolbox.register('Attr_float', random.random)
toolbox.register('Individual', tools.initRepeat, creator.Individual, toolbox.Attr_float, n=IND_SIZE)
 
ind1 = toolbox.Individual()
print(ind1)
 
# çµæœï¼š[0.8579615693371493, 0.05774821674048369, 0.8812411734389638, 0.5854279538236896, 0.12908399219828248]
</code></pre>
<h4 id="creatorcreateindividual-list-fitness--creatorfitnessminè¬›è§£"><a class="header" href="#creatorcreateindividual-list-fitness--creatorfitnessminè¬›è§£">creator.create('Individual', list, fitness = creator.FitnessMin)è¬›è§£</a></h4>
<p>ç¬¬ä¸€å€‹åƒæ•¸ï¼šè¡¨ç¤ºåå­— Individual</p>
<p>ç¬¬äºŒå€‹åƒæ•¸ï¼šéœ€è¦ç¹¼æ‰¿çš„ä¸€å€‹é¡ï¼Œé€™è£¡creator.Individual() çš„å°è±¡æœ¬èº«æœ‰äº†å’Œlistä¸€æ¨£çš„åŠŸèƒ½ï¼Œå¯ä»¥append å’Œextendã€‚é€™è£¡æˆ‘å€‘è³‡æ–™çš„ä¿å­˜æ–¹å¼æ˜¯listï¼Œæ‰€ä»¥listï¼Œä¹Ÿå¯ä»¥æ˜¯tuple</p>
<p>ç¬¬ä¸‰å€‹åƒæ•¸ï¼šå°‡fitness é€™å€‹åƒæ•¸æ–°å¢åˆ°Individualï¼Œä½œç‚ºIndividualçš„ä¸€å€‹<strong>å±¬æ€§ï¼ˆattributesï¼‰</strong></p>
<p>ç¶“éå‰›å‰›æ“ä½œï¼Œæˆ‘å€‘creator.Individual()ï¼Œè£¡é¢å…·æœ‰äº†å…©ç¨®é¡å‹çš„å¯¦ä¾‹ï¼Œä¸€ç¨®æ˜¯listï¼Œä¸€ç¨®æ˜¯fitness</p>
<p>ç¬¬ä¸€å€‹ä¾‹å­ä»£è¡¨ï¼šç¹¼æ‰¿ list é€²è¡Œåˆå§‹åŒ–è³¦å€¼ï¼Œæ¯”å¦‚a = list([1,2,3,4,5,6])</p>
<p><img src="images/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ2hhb0ZlaUxp,size_16,color_FFFFFF,t_70,g_se,x_16" alt="img" /></p>
<p>ç¬¬äºŒå€‹ä¾‹å­ä»£è¡¨ï¼šç¹¼æ‰¿ list é€²è¡Œappend</p>
<p><img src="images/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ2hhb0ZlaUxp,size_18,color_FFFFFF,t_70,g_se,x_16" alt="img" /></p>
<p>é€šéé€™å€‹å¯¦ä¾‹åŒ–éç¨‹ï¼Œæˆ‘å€‘å¯ä»¥ç™¼ç¾ï¼Œcreator.Individual()ï¼Œçµ¦æˆ‘å€‘æä¾›äº†å…©å€‹ä½ç½®ï¼Œç¬¬ä¸€å€‹ä½ç½®è¡¨ç¤ºç¹¼æ‰¿äº†listé€™å€‹é¡ï¼Œç¬¬äºŒå€‹ä½ç½®fitness åœ¨åˆå§‹åŒ–çš„æ™‚å€™ï¼Œå·²ç¶“æœ‰äº†å…·é«”çš„åƒæ•¸ã€‚å¾ä¸‹é¢çš„çµæœä¸­çœ‹åˆ°creator.Individual()åªèƒ½æ¥æ”¶ä¸€å€‹åƒæ•¸ã€‚</p>
<p><img src="images/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ2hhb0ZlaUxp,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img" /></p>
<p>ç¬¬ä¸‰å€‹ä¾‹å­ä»£è¡¨ï¼š</p>
<p>æ ¹æ“ša = list([1,2,3,4,5])é€™å€‹ç‰¹æ€§ï¼Œlist(object)ï¼Œå¯ä»¥æ¥æ”¶ä¸€å€‹å¯è¿­ä»£å¯¦ä¾‹ï¼ŒåŒ…æ‹¬æ•¸å€¼å‹å¯è¿­ä»£å°è±¡å³åºåˆ—ã€å­—å…¸ã€é›†åˆå°æ‡‰çš„å¯è¿­ä»£å°è±¡ï¼ŒåŒæ™‚ä¹Ÿä¸çŸ¥æ–¼æ­¤ï¼Œæ‰€ä»¥ï¼š</p>
<p><strong>creator.Individual()å¯ä»¥æ¥æ”¶ä¸€å€‹è‡ªèº«é¡çš„å°è±¡</strong>ï¼Œç›¸ç•¶æ–¼deepcopyï¼Œå…§å®¹ä¸€è‡´ï¼Œä½†æ˜¯è¨˜æ†¶é«”åœ°å€ä¸ä¸€è‡´</p>
<p><img src="images/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ2hhb0ZlaUxp,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img" /></p>
<p><img src="images/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ2hhb0ZlaUxp,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img" /></p>
<p><img src="images/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ2hhb0ZlaUxp,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img" /></p>
<p><img src="images/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ2hhb0ZlaUxp,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img" /></p>
<h4 id="toolboxregisterattr_float-randomrandomè¬›è§£"><a class="header" href="#toolboxregisterattr_float-randomrandomè¬›è§£">**<em>*toolbox.register('Attr_float', random.random)*<em>è¬›è§£</em></em></a></h4>
<p>1ã€è§€å¯Ÿ****toolbox.registerå‡½æ•¸****</p>
<pre><code class="language-python">def register(self, alias, function, *args, **kargs):
    """Register a *function* in the toolbox under the name *alias*. You
    may provide default arguments that will be passed automatically when
    calling the registered function. Fixed arguments can then be overriden
    at function call time.
    :param alias: The name the operator will take in the toolbox. If the
                  alias already exist it will overwrite the the operator
                  already present.
    :param function: The function to which refer the alias.
    :param argument: One or more argument (and keyword argument) to pass
                     automatically to the registered function when called,
                     optional.
    The following code block is an example of how the toolbox is used. ::
        &gt;&gt;&gt; def func(a, b, c=3):
        ...     print(a, b, c)
        ... 
        &gt;&gt;&gt; tools = Toolbox()
        &gt;&gt;&gt; tools.register("myFunc", func, 2, c=4)
        &gt;&gt;&gt; tools.myFunc(3)
        2 3 4
</code></pre>
<p>ç¬¬ä¸€å€‹åƒæ•¸ï¼šè¡¨ç¤ºåˆ¥å ï¼ˆå¾ŒçºŒå‡½æ•¸å‘¼å«ç”¨é€™å€‹åˆ¥åï¼‰</p>
<p>ç¬¬äºŒå€‹åƒæ•¸ï¼šè¡¨ç¤ºä¸€å€‹å‡½æ•¸</p>
<p>ç¬¬ä¸‰å€‹åƒæ•¸ï¼šå¯¦åƒçµ„æˆå…ƒçµ„å‚³é€²ä¾†</p>
<p>ç¬¬ä¸‰å€‹åƒæ•¸ï¼šå¯¦åƒçµ„æˆå­—å…¸å‚³é€²ä¾†</p>
<p>2ã€è§€å¯Ÿrandom.randomå‡½æ•¸ï¼Œä½œç‚ºç¬¬äºŒå€‹åƒæ•¸ï¼Œfunctionï¼Œç”±æ–¼random.randomå‡½æ•¸è£¡é¢ä¸éœ€è¦å‚³åƒï¼Œæ‰€ä»¥å°±æ²’æœ‰äº†å¾ŒçºŒçš„å…§å®¹</p>
<h4 id="toolboxregisterindividual-toolsinitrepeat-creatorindividual-toolboxattr_float-nind_sizeè¬›è§£"><a class="header" href="#toolboxregisterindividual-toolsinitrepeat-creatorindividual-toolboxattr_float-nind_sizeè¬›è§£">**<em>*toolbox.register('Individual', tools.initRepeat, creator.Individual, toolbox.Attr_float, n=IND_SIZE)*<em>è¬›è§£</em></em></a></h4>
<p>1ã€è§€å¯Ÿ****toolbox.registerå‡½æ•¸****</p>
<p>ä¸Šé¢å·²ç¶“èªªéäº†ï¼Œé€™è£¡ä¸å†è´…è¿°</p>
<p>2ã€è§€å¯Ÿ****tools.initRepeatå‡½æ•¸****</p>
<pre><code class="language-python">def initRepeat(container, func, n):
    """Call the function *container* with a generator function corresponding
    to the calling *n* times the function *func*.
    :param container: The type to put in the data from func.
    :param func: The function that will be called n times to fill the
                 container.
    :param n: The number of times to repeat func.
    :returns: An instance of the container filled with data from func.
    This helper function can be used in conjunction with a Toolbox
    to register a generator of filled containers, as individuals or
</code></pre>
<p>å¾å‡½æ•¸åå¯ä»¥çœ‹å‡ºä¾†ï¼Œä»–åŒ…å«äº†åˆå§‹åŒ–+é‡è¤‡</p>
<p>ç¬¬ä¸€å€‹åƒæ•¸ï¼šcontainer æ˜¯å®¹å™¨ï¼Œè¡¨ç¤ºå¯ä»¥æŠŠæ±è¥¿æ”¾é€²å»çš„å®¹å™¨ï¼Œä½†æ˜¯æˆ‘å€‘å¯ä»¥æ”¾ä»€éº¼å‘¢ï¼Ÿ</p>
<p>ç¬¬äºŒå€‹åƒæ•¸ï¼šfunc å‡½æ•¸ï¼Œé€™å€‹funcï¼Œæ˜¯æŠŠä»–çš„çµæœå¡«å……åˆ° å®¹å™¨ä¸­ã€‚</p>
<p>ç¬¬ä¸‰å€‹åƒæ•¸ï¼šè¡¨ç¤ºæˆ‘å€‘éœ€è¦å¯¦ç¾å¤šå°‘æ¬¡funcé€™å€‹å‡½æ•¸ã€‚</p>
<p>é€™å€‹å‡½æ•¸æ•´é«”è¡¨ç¤ºï¼šæˆ‘å€‘åŸ·è¡Œnæ¬¡func çš„çµæœï¼Œå¡«å……åˆ°containerä¸­ã€‚</p>
<p>3ã€è§€å¯Ÿ****toolbox.registerèˆ‡tools.initRepeatæ•´åˆåœ¨ä¸€èµ·****</p>
<p>é€™å€‹å‡½æ•¸è£¡é¢ä¸€å…±åŒ…å«äº†5å€‹å¯¦åƒï¼Œé‚£éº¼å¦‚ä½•åŠƒåˆ†å‘¢ï¼Ÿè£¡é¢æ˜¯å°è±¡ï¼Œå¥—ï¼Œå°è±¡</p>
<p>é¦–å…ˆ****toolbox.register****è£¡é¢éœ€è¦ä¸‰å€‹åƒæ•¸</p>
<p>ç¬¬ä¸€å€‹åƒæ•¸ï¼šIndividual</p>
<p>ç¬¬äºŒå€‹åƒæ•¸ï¼štools.initRepeat</p>
<p>ç¬¬ä¸‰å€‹åƒæ•¸ï¼šï¼ˆcreator.Individual, toolbox.Attr_floatï¼‰çµ„æˆå…ƒçµ„</p>
<p>ç¬¬å››å€‹åƒæ•¸ï¼š{nï¼šIND_SIZE} çµ„æˆå­—å…¸</p>
<p>ç¬¬ä¸‰å€‹å’Œç¬¬å››å€‹åƒæ•¸å…·é«”å¦‚ä½•åˆ†é…ï¼Œè«‹æŸ¥çœ‹é€£çµï¼š<a href="https://docs.python.org/2/tutorial/controlflow.html#keyword-arguments">4. More Control Flow Tools â€” Python 2.7.18 documentation</a></p>
<p><strong>ç¬¬ä¸‰å€‹å’Œç¬¬å››å€‹åƒæ•¸</strong>ä¸»è¦çš„æ„ç¾©æ˜¯è¡¨æ˜äº†registerå‡½æ•¸å¯ä»¥æ¥æ”¶æ›´å¤šçš„åƒæ•¸ï¼Œä½ ä¾†å¤šå°‘ï¼Œæˆ‘éƒ½å¯ä»¥æ¥æ”¶ã€‚ä½†æ˜¯æœ€é‡è¦çš„å°±æ˜¯ï¼Œä½ å¾ŒçºŒä¾†çš„åƒæ•¸ï¼Œå…¶å¯¦éƒ½æ˜¯ç‚ºregisterè£¡é¢çš„functionæœå‹™çš„ï¼Œå…·é«”ä¾†è¬›ï¼Œå¾ŒçºŒä¾†çš„åƒæ•¸creator.Individual, toolbox.Attr_float, n=IND_SIZEï¼Œéƒ½æ˜¯ç‚ºäº†å‚³éçµ¦tools.initRepeatè£¡é¢çš„ï¼Œå› ç‚ºtools.initRepeatï¼ˆcontainer, func, nï¼‰åŒ…å«äº†ä¸‰å€‹åƒæ•¸</p>
<p>å…¶æ¬¡****tools.initRepeat****</p>
<p>ç¬¬ä¸€å€‹åƒæ•¸ï¼šcontainer æ˜¯å®¹å™¨ï¼Œcreator.Individual</p>
<p>ç¬¬äºŒå€‹åƒæ•¸ï¼šfunc å‡½æ•¸ï¼Œtoolbox.Attr_floatï¼Œä¹Ÿå°±æ˜¯è£¡é¢çš„ random.random</p>
<p>ç¬¬ä¸‰å€‹åƒæ•¸ï¼šn=IND_SIZEï¼Œè¡¨ç¤ºå¯¦ç¾å¤šå°‘æ¬¡funcå‡½æ•¸ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„ toolbox.Attr_float()</p>
<p>é€™å…¶å¯¦ç›¸ç•¶æ–¼ä¸€å€‹<strong>å‡½æ•¸å¥—å¨ƒã€‚</strong></p>
<p><img src="images/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ2hhb0ZlaUxp,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img" /></p>
<p>å¾é€™è£¡å¯ä»¥è§€å¯Ÿåˆ°ï¼ŒæŠŠtoolbox.Attr_float()çµæœçµ„æˆäº†ä¸€å€‹åˆ—è¡¨ï¼Œç„¶å¾Œå‚³éåˆ°creator.Individualä¸­çš„é ç•™çš„ä½ç½®listä¸­ï¼ˆåœ¨<strong>2ã€å€‹é«”ç·¨ç¢¼</strong>ä¸­æåˆ°ï¼‰</p>
<h4 id="äºŒé€²åˆ¶ç·¨ç¢¼binary-encoding"><a class="header" href="#äºŒé€²åˆ¶ç·¨ç¢¼binary-encoding"><strong>äºŒé€²åˆ¶ç·¨ç¢¼(Binary encoding)</strong></a></h4>
<p>åœ¨äºŒé€²åˆ¶ç·¨ç¢¼ä¸­ï¼Œç”¨01å…©ç¨®æ•¸å­—æ¨¡æ“¬äººé¡æŸ“è‰²é«”ä¸­çš„4ä¸­é¹¼åŸºï¼Œç”¨ä¸€å®šé•·åº¦çš„01å­—ä¸²ä¾†æè¿°è®Šæ•¸ã€‚å…¶å„ªé»åœ¨æ–¼ç¨®ç¾¤å¤šæ¨£æ€§å¤§ï¼Œä½†æ˜¯éœ€è¦è§£ç¢¼ï¼Œè€Œä¸”ä¸é€£çºŒï¼Œå®¹æ˜“ç”¢ç”ŸHamming cliffï¼ˆä¾‹å¦‚0111=7, 1000=8ï¼Œæ”¹å‹•äº†å…¨éƒ¨çš„4ä½æ•¸å­—ä¹‹å¾Œï¼Œå¯¦éš›å€¼åªè®Šå‹•äº†1ï¼‰ï¼Œåœ¨æ¥è¿‘å±€éƒ¨æœ€å„ªä½ç½®æ™‚ï¼ŒæŸ“è‰²é«”ç¨æœ‰è®Šå‹•ï¼Œå°±æœƒä½¿è®Šæ•¸ç”¢ç”Ÿå¾ˆå¤§åç§»ï¼ˆæ ¼é›·ç·¨ç¢¼ï¼ˆGray codingï¼‰èƒ½å¤ å…‹æœæ¼¢æ˜è·é›¢çš„å•é¡Œï¼Œä½†æ˜¯å¯¦éš›å•é¡Œè¤‡é›œåº¦è¼ƒå¤§æ™‚ï¼Œæ ¼é›·ç·¨ç¢¼å¾ˆé›£ç²¾ç¢ºæè¿°å•é¡Œï¼‰ã€‚</p>
<p><em>è®Šæ•¸çš„äºŒé€²åˆ¶ç·¨ç¢¼ï¼š</em></p>
<p>ç”±æ–¼é€šå¸¸æƒ…æ³ä¸‹ï¼Œæœå°‹ç©ºé–“éƒ½æ˜¯å¯¦æ•¸ç©ºé–“ï¼Œå› æ­¤åœ¨ç·¨ç¢¼æ™‚ï¼Œéœ€è¦å»ºç«‹å¯¦æ•¸ç©ºé–“åˆ°äºŒé€²åˆ¶ç·¨ç¢¼ç©ºé–“çš„å°æ‡‰ã€‚ä½¿ç”¨äºŒé€²åˆ¶ä¸èƒ½å°å¯¦æ•¸ç©ºé–“é€²è¡Œé€£çºŒç·¨ç¢¼ï¼Œä½†æ˜¯å¯ä»¥åœ¨çµ¦å®šç²¾åº¦ä¸‹å°é€£çºŒç©ºé–“é€²è¡Œé›¢æ•£åŒ–ã€‚</p>
<p>ä»¥ä¾‹å­ä¾†èªªæ˜å¦‚ä½•å°è®Šæ•¸é€²è¡ŒäºŒé€²åˆ¶ç·¨ç¢¼ï¼Œå‡è¨­éœ€è¦å°ä¸€å€‹åœ¨å€é–“[-2, 2]ä¸Šçš„è®Šæ•¸é€²è¡ŒäºŒé€²åˆ¶ç·¨ç¢¼ï¼š</p>
<p>*é¸æ“‡ç·¨ç¢¼é•·åº¦ï¼š*åœ¨éœ€è¦6ä½ç²¾åº¦çš„æƒ…æ³ä¸‹ï¼Œæˆ‘å€‘éœ€è¦å°‡è©²å€é–“é›¢æ•£ç‚ºï¼ˆ2-ï¼ˆ-2ï¼‰ï¼‰*10^6å€‹æ•¸ã€‚æˆ‘å€‘è‡³å°‘éœ€è¦22ä½äºŒé€²åˆ¶æ•¸å­—ä¾†æ»¿è¶³æˆ‘å€‘çš„ç²¾åº¦è¦æ±‚ã€‚</p>
<p>è¨­å®šè§£ç¢¼å™¨ï¼š<img src="images/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ2hhb0ZlaUxp,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img" /></p>
<p>ä»¥éš¨æ©Ÿç”Ÿæˆä¸€å€‹é•·åº¦ç‚º10çš„äºŒé€²åˆ¶ç·¨ç¢¼ç‚ºä¾‹ï¼Œæœ¬èº«DEAPåº«ä¸­æ²’æœ‰å…§å»ºçš„Binary encodingï¼Œæˆ‘å€‘å¯ä»¥è—‰åŠ©Scipyæ¨¡çµ„ä¸­çš„ä¼¯åŠªåˆ©åˆ†ä½ˆä¾†ç”Ÿæˆä¸€å€‹äºŒé€²åˆ¶åºåˆ—ã€‚</p>
<pre><code class="language-python">
from deap import base, creator, tools
from scipy.stats import bernoulli
 
creator.create('FitnessMin', base.Fitness, weights=(-1.0,)) #æœ€ä½³åŒ–ç›®æ¨™ï¼šå–®è®Šæ•¸ï¼Œæ±‚æœ€å°å€¼
creator.create('Individual', list, fitness = creator.FitnessMin) #å»ºç«‹Individualé¡ï¼Œç¹¼æ‰¿list
 
GENE_LENGTH = 10
 
toolbox = base.Toolbox()
toolbox.register('Binary', bernoulli.rvs, 0.5) #è¨»å†Šä¸€å€‹Binaryçš„aliasï¼ŒæŒ‡å‘scipy.statsä¸­çš„bernoulli.rvsï¼Œæ©Ÿç‡ç‚º0.5
toolbox.register('Individual', tools.initRepeat, creator.Individual, toolbox.Binary, n = GENE_LENGTH) #ç”¨tools.initRepeatç”Ÿæˆé•·åº¦ç‚ºGENE_LENGTHçš„Individual
 
ind1 = toolbox.Individual()
print(ind1)
</code></pre>
<p>é€™è£¡å’±å€‘é‡é»èªªæ˜<strong>toolbox.register('Binary', bernoulli.rvs, 0.5)</strong> å’Œ <strong>toolbox.register('Individual', tools.initRepeat, creator.Individual, toolbox.Binary, n = GENE_LENGTH)</strong></p>
<p><strong>toolbox.register('Binary', bernoulli.rvs, 0.5)</strong></p>
<p>ä¼¯åŠªåˆ©åˆ†ä½ˆçš„å–å€¼ï¼Œåªè¦0å’Œ1ï¼Œä½†æ˜¯å–0æˆ–è€…1çš„æ©Ÿç‡ç”±åƒæ•¸æ±ºå®šï¼šç¨‹å¼ç¢¼ä¸­ï¼ˆbernoulli.rvs, 0.5ï¼‰è¡¨ç¤ºé€²è¡Œä¸€æ¬¡ä¼¯åŠªåˆ©å¯¦é©—ï¼Œå–0æˆ–è€…1çš„æ©Ÿç‡ç‚º0.5.æ ¹æ“šä»¥ä¸‹å¯¦é©—è­‰æ˜ï¼š</p>
<p><img src="images/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ2hhb0ZlaUxp,size_12,color_FFFFFF,t_70,g_se,x_16" alt="img" /><img src="https://img-blog.csdnimg.cn/07873cf0248c40f3b73f959ccdbd4773.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ2hhb0ZlaUxp,size_12,color_FFFFFF,t_70,g_se,x_16" alt="img" /></p>
<p><strong>toolbox.register('Individual', tools.initRepeat, creator.Individual, toolbox.Binary, n = GENE_LENGTH)</strong></p>
<p>ä¸Šé¢å·²ç¶“èªªæ˜ç­<strong>toolbox.registerå‡½æ•¸çš„</strong>å…·é«”æ„æ€ã€‚é€™è£¡å…·é«”èªªæ˜ä¸Šè¿°æ•´ç†çš„æ„æ€ï¼šé¦–å…ˆ<strong>tools.initRepeat</strong> è£¡æ˜¯ä¸€å€‹é‡è¤‡æ€§çš„éç¨‹ï¼Œå…·é«”é‡è¤‡çš„å‡½æ•¸æ˜¯<strong>toolbox.Binaryï¼Œ<strong>åŒæ™‚æ‰¿è¼‰é€™å€‹å‡½æ•¸çš„æ˜¯å®¹å™¨</strong>creator.Individualï¼Œ<strong>é‡è¤‡äº†</strong>næ¬¡toolbox.Binaryï¼Œ<strong>æ”¾å…¥å®¹å™¨</strong>creator.Individual</strong>ä¸­ã€‚</p>
<p>æœ€å¾Œé€šé ind1 = toolbox.Individual() å®Œæˆäº†å¯¦ä¾‹åŒ–æ“ä½œ</p>
<p><img src="images/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ2hhb0ZlaUxp,size_18,color_FFFFFF,t_70,g_se,x_16" alt="img" /></p>
<h4 id="åºåˆ—ç·¨ç¢¼permutation-encoding"><a class="header" href="#åºåˆ—ç·¨ç¢¼permutation-encoding"><strong>åºåˆ—ç·¨ç¢¼(Permutation encoding)</strong></a></h4>
<p>é€šå¸¸åœ¨æ±‚è§£é †åºå•é¡Œæ™‚ç”¨åˆ°ï¼Œä¾‹å¦‚TSPå•é¡Œã€‚åºåˆ—ç·¨ç¢¼ä¸­çš„æ¯å€‹æŸ“è‰²é«”éƒ½æ˜¯ä¸€å€‹åºåˆ—ã€‚</p>
<p>åŒæ¨£çš„ï¼Œé€™è£¡çš„<code>random.sampole</code>ä¹Ÿå¯ä»¥ç”¨<code>np.random.permutation</code>ä»£æ›¿ã€‚</p>
<pre><code class="language-python">from deap import base, creator, tools
import random
creator.create("FitnessMin", base.Fitness, weights=(-1.0,))
creator.create("Individual", list, fitness=creator.FitnessMin)
 
IND_SIZE=10
 
toolbox = base.Toolbox()
toolbox.register("Indices", random.sample, range(IND_SIZE), IND_SIZE)
toolbox.register("Individual", tools.initIterate, creator.Individual,toolbox.Indices)
ind1 = toolbox.Individual()
print(ind1)
 
#çµæœï¼š[0, 1, 5, 8, 2, 3, 6, 7, 9, 4]
</code></pre>
<p>è§€å¯Ÿå‡½æ•¸ï¼šrandom.sample(range(IND_SIZE), IND_SIZE)</p>
<p><img src="images/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ2hhb0ZlaUxp,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img" /></p>
<p><em><strong>*tools.initIterate*</strong></em> è£¡éºµåŒ…å«äº†å®¹å™¨å’Œç”Ÿæˆå™¨ï¼Œå…·é«”çš„ä¾†è¬›ï¼Œå®¹å™¨æŒ‡çš„æ˜¯ï¼ˆcreator.Individualï¼‰ï¼Œç”Ÿæˆå™¨æŒ‡çš„æ˜¯ï¼ˆtoolbox.Indices  -&gt; å…·é«”æŒ‡çš„æ˜¯random.sample(range(IND_SIZE),IND_SIZE))</p>
<p><img src="images/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ2hhb0ZlaUxp,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img" /></p>
<pre><code class="language-python">def initIterate(container, generator):
    """Call the function *container* with an iterable as
    its only argument. The iterable must be returned by
    the method or the object *generator*.
    :param container: The type to put in the data from func.
    :param generator: A function returning an iterable (list, tuple, ...),
                      the content of this iterable will fill the container.
    :returns: An instance of the container filled with data from the
              generator.
    This helper function can be used in conjunction with a Toolbox
    to register a generator of filled containers, as individuals or
    population.
        &gt;&gt;&gt; import random
        &gt;&gt;&gt; from functools import partial
        &gt;&gt;&gt; random.seed(42)
        &gt;&gt;&gt; gen_idx = partial(random.sample, list(range(10)), 10)
        &gt;&gt;&gt; initIterate(list, gen_idx)      # doctest: +SKIP
        [1, 0, 4, 9, 6, 5, 8, 2, 3, 7]
    See the :ref:`permutation` and :ref:`arithmetic-expr` tutorials for
    more examples.
    """
    return container(generator())
</code></pre>
<h4 id="ç²’å­particlesç·¨ç¢¼"><a class="header" href="#ç²’å­particlesç·¨ç¢¼"><strong>ç²’å­(Particles)ç·¨ç¢¼</strong></a></h4>
<p>ç²’å­æ˜¯ä¸€ç¨®ç‰¹æ®Šå€‹é«”ï¼Œä¸»è¦ç”¨æ–¼ç²’å­ç¾¤æ¼”ç®—æ³•ã€‚ç›¸æ¯”æ™®é€šçš„å€‹é«”ï¼Œå®ƒé¡å¤–å…·æœ‰é€Ÿåº¦ã€é€Ÿåº¦é™åˆ¶ä¸¦ä¸”èƒ½è¨˜éŒ„æœ€å„ªä½ç½®ã€‚</p>
<pre><code class="language-python">
import random
from deap import base, creator, tools
 
creator.create("FitnessMax", base.Fitness, weights=(1.0, 1.0))
creator.create("Particle", list, fitness=creator.FitnessMax, speed=None,
               smin=None, smax=None, best=None)
 
# è‡ªè¨‚çš„ç²’å­åˆå§‹åŒ–å‡½æ•¸
def initParticle(pcls, size, pmin, pmax, smin, smax):
    part = pcls(random.uniform(pmin, pmax) for _ in range(size))
    part.speed = [random.uniform(smin, smax) for _ in range(size)]
    part.smin = smin
    part.smax = smax
    return part
 
toolbox = base.Toolbox()
toolbox.register("Particle", initParticle, creator.Particle, size=2, pmin=-6, pmax=6, smin=-3, smax=3) #ç‚ºè‡ªå·±ç·¨å¯«çš„initParticleå‡½æ•¸è¨»å†Šä¸€å€‹alias "Particle"ï¼Œå‘¼å«æ™‚ç”Ÿæˆä¸€å€‹2ç¶­ç²’å­ï¼Œæ”¾åœ¨å®¹å™¨creator.Particleä¸­ï¼Œç²’å­çš„ä½ç½®è½åœ¨ï¼ˆ-6,6ï¼‰ä¸­ï¼Œé€Ÿåº¦é™è£½ç‚ºï¼ˆ-3ï¼Œ3ï¼‰
 
ind1 = toolbox.Particle()
print(ind1)
print(ind1.speed)
print(ind1.smin, ind1.smax)
 
# çµæœï¼š[-2.176528549934324, -3.0796558214905]
#[-2.9943676285620104, -0.3222138308543414]
#-3 3
 
print(ind1.fitness.valid)
 
# çµæœï¼šFalse
# å› ç‚ºç•¶å‰é‚„æ²’æœ‰è¨ˆç®—é©æ‡‰åº¦å‡½æ•¸ï¼Œæ‰€ä»¥ç²’å­çš„æœ€å„ªé©æ‡‰åº¦å€¼é‚„æ˜¯invalid
</code></pre>
<h3 id="3åˆå§‹æ—ç¾¤çš„å»ºç«‹"><a class="header" href="#3åˆå§‹æ—ç¾¤çš„å»ºç«‹">3.åˆå§‹æ—ç¾¤çš„å»ºç«‹ï¼š</a></h3>
<h4 id="ä¸€èˆ¬æ—ç¾¤"><a class="header" href="#ä¸€èˆ¬æ—ç¾¤"><strong>ä¸€èˆ¬æ—ç¾¤</strong></a></h4>
<p>é€™æ˜¯æœ€å¸¸ç”¨çš„æ—ç¾¤é¡å‹ï¼Œæ—ç¾¤ä¸­æ²’æœ‰ç‰¹åˆ¥çš„é †åºæˆ–è€…å­æ—ç¾¤ã€‚</p>
<p><em>ä¸€èˆ¬æ—ç¾¤çš„DEAPå¯¦ç¾ï¼š</em><code>toolbox.register('population', tools.initRepeat, list, toolbox.individual)</code></p>
<p>ä»¥äºŒé€²åˆ¶ç·¨ç¢¼ç‚ºä¾‹ï¼Œä»¥ä¸‹ç¨‹å¼ç¢¼å¯ä»¥ç”Ÿæˆç”±10å€‹é•·åº¦ç‚º5çš„éš¨æ©ŸäºŒé€²åˆ¶ç·¨ç¢¼å€‹é«”çµ„æˆçš„ä¸€èˆ¬æ—ç¾¤ï¼š</p>
<pre><code class="language-python">from deap import base, creator, tools
from scipy.stats import bernoulli
 
# å®šç¾©å•é¡Œ
creator.create('FitnessMin', base.Fitness, weights=(-1.0,)) # å–®ç›®æ¨™ï¼Œæœ€å°åŒ–
creator.create('Individual', list, fitness = creator.FitnessMin)
 
# ç”Ÿæˆå€‹é«”
GENE_LENGTH = 5
toolbox = base.Toolbox() #å¯¦ä¾‹åŒ–ä¸€å€‹Toolbox
toolbox.register('Binary', bernoulli.rvs, 0.5)
toolbox.register('Individual', tools.initRepeat, creator.Individual, toolbox.Binary, n=GENE_LENGTH)
 
# ç”Ÿæˆåˆå§‹æ—ç¾¤
N_POP = 10
toolbox.register('Population', tools.initRepeat, list, toolbox.Individual)
toolbox.Population(n = N_POP)
</code></pre>
<h4 id="åŒé¡ç¾¤demes"><a class="header" href="#åŒé¡ç¾¤demes"><strong>åŒé¡ç¾¤(Demes)</strong></a></h4>
<p>åŒé¡ç¾¤å³ä¸€å€‹æ—ç¾¤ä¸­åŒ…å«å¹¾å€‹å­æ—ç¾¤ã€‚åœ¨æœ‰äº›æ¼”ç®—æ³•ä¸­ï¼Œæœƒä½¿ç”¨æœ¬åœ°é¸æ“‡(Local selection)æŒ‘é¸è‚²ç¨®å€‹é«”ï¼Œé€™ç¨®æƒ…æ³ä¸‹å€‹é«”åƒ…èˆ‡åŒä¸€é„°åŸŸçš„å€‹é«”ç›¸äº’ä½œç”¨ã€‚</p>
<p><em>åŒé¡ç¾¤çš„DEAPå¯¦ç¾ï¼š</em></p>
<pre><code class="language-python">from deap import base, creator, tools
from scipy.stats import bernoulli
 
# å®šç¾©å•é¡Œ
creator.create('FitnessMin', base.Fitness, weights=(-1.0,)) # å–®ç›®æ¨™ï¼Œæœ€å°åŒ–
creator.create('Individual', list, fitness = creator.FitnessMin)
 
# ç”Ÿæˆå€‹é«”
GENE_LENGTH = 5
toolbox = base.Toolbox() #å¯¦ä¾‹åŒ–ä¸€å€‹Toolbox
toolbox.register('Binary', bernoulli.rvs, 0.5)
toolbox.register('Individual', tools.initRepeat, creator.Individual, toolbox.Binary, n=GENE_LENGTH)
 
# ç”Ÿæˆåˆå§‹æ—ç¾¤
N_POP = 10
toolbox.register('Population', tools.initRepeat, list, toolbox.Individual)
toolbox.Population(n = N_POP)
 
toolbox.register("deme", tools.initRepeat, list, toolbox.Individual)
# åˆå§‹åŒ–åŒé¡ç¾¤
DEME_SIZES = (10, 50, 100)
population = [toolbox.deme(n=i) for i in DEME_SIZES]
print(population)
</code></pre>
<h4 id="ç²’å­ç¾¤"><a class="header" href="#ç²’å­ç¾¤">ç²’å­ç¾¤</a></h4>
<p>ç²’å­ç¾¤ä¸­çš„æ‰€æœ‰ç²’å­å…±äº«å…¨åŸŸæœ€å„ªã€‚åœ¨å¯¦ç¾æ™‚éœ€è¦é¡å¤–å‚³å…¥å…¨åŸŸæœ€å„ªä½ç½®èˆ‡å…¨åŸŸæœ€å„ªé©æ‡‰åº¦çµ¦æ—ç¾¤ã€‚</p>
<p><a href="https://github.com/DEAP/deap/tree/09b2562aad70c6f171ebca2bdac0c30387f5e8f5/examples/pso">deap/examples/pso at 09b2562aad70c6f171ebca2bdac0c30387f5e8f5 Â· DEAP/deap Â· GitHub</a></p>
<pre><code class="language-python">import operator
import random
 
import numpy
 
from deap import base
from deap import benchmarks
from deap import creator
from deap import tools
 
creator.create("FitnessMax", base.Fitness, weights=(1.0,))
creator.create("Particle", list, fitness=creator.FitnessMax, speed=list, 
    smin=None, smax=None, best=None)
 
def generate(size, pmin, pmax, smin, smax):
    part = creator.Particle(random.uniform(pmin, pmax) for _ in range(size)) 
    part.speed = [random.uniform(smin, smax) for _ in range(size)]
    part.smin = smin
    part.smax = smax
    return part
 
toolbox = base.Toolbox()
toolbox.register("particle", generate, size=2, pmin=-6, pmax=6, smin=-3, smax=3)
toolbox.register("population", tools.initRepeat, list, toolbox.particle)
 
pop = toolbox.population(n=5)
</code></pre>
<h1 id="ç°¡å–®éºå‚³æ¼”ç®—æ³•å¯¦ç¾"><a class="header" href="#ç°¡å–®éºå‚³æ¼”ç®—æ³•å¯¦ç¾">ç°¡å–®éºå‚³æ¼”ç®—æ³•å¯¦ç¾</a></h1>
<h2 id="å‰è¨€"><a class="header" href="#å‰è¨€">å‰è¨€</a></h2>
<p>åœ¨ä¸Šä¸€ç¯‡ä¸­ï¼Œæˆ‘å€‘å·²ç¶“ä»‹ç´¹äº†<a href="https://www.jianshu.com/p/8fa044ed9267">å¦‚ä½•åœ¨DEAPä¸­å¯¦ç¾é€²åŒ–æ¼”ç®—æ³•çš„åŸºæœ¬æ“ä½œ</a>ï¼Œåœ¨é€™ä¸€ç¯‡ä¸­æˆ‘å€‘è©¦åœ–å°‡å„å€‹æ“ä½œçµ„è£èµ·ä¾†ï¼Œç”¨é€²åŒ–æ¼”ç®—æ³•è§£æ±ºä¸€å€‹ç°¡å–®çš„ä¸€å…ƒå‡½æ•¸å°‹å„ªå•é¡Œã€‚</p>
<hr />
<h2 id="é€²åŒ–æ¼”ç®—æ³•å¯¦ä¾‹---ä¸€å…ƒå‡½æ•¸å°‹å„ª"><a class="header" href="#é€²åŒ–æ¼”ç®—æ³•å¯¦ä¾‹---ä¸€å…ƒå‡½æ•¸å°‹å„ª">é€²åŒ–æ¼”ç®—æ³•å¯¦ä¾‹ - ä¸€å…ƒå‡½æ•¸å°‹å„ª</a></h2>
<h3 id="å•é¡Œæè¿°èˆ‡åˆ†æ"><a class="header" href="#å•é¡Œæè¿°èˆ‡åˆ†æ">å•é¡Œæè¿°èˆ‡åˆ†æ</a></h3>
<p>çµ¦å®šä¸€å€‹å‡½æ•¸<img src="https://math.jianshu.com/math?formula=h(x)%20%3D%20(x%5E2%20%2B%20x)cos(2x)%2Bx%5E2%2Bx" alt="h(x) = (x^2 + x)cos(2x)+x^2+x" />ï¼Œæ±‚è§£è©²å‡½æ•¸çš„æœ€å¤§å€¼ã€‚</p>
<p>è©²å‡½æ•¸çš„æœ€å¤§å€¼æ‡‰è©²å‡ºç¾åœ¨<img src="https://math.jianshu.com/math?formula=28.309042309042308" alt="28.309042309042308" />è™•ï¼Œå€¼ç‚º<img src="https://math.jianshu.com/math?formula=1657.4235763265594" alt="1657.4235763265594" />ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°è©²å‡½æ•¸æœ‰å¾ˆå¤šå±€éƒ¨æ¥µå€¼ä½œç‚ºå¹¹æ“¾é …ï¼Œå¦‚æœé€²åŒ–æ¼”ç®—æ³•éæ—©æ”¶æ–‚ï¼Œå¾ˆå®¹æ˜“é™·å…¥æŸå€‹å±€éƒ¨æœ€å„ªã€‚</p>
<h3 id="å•é¡Œçš„ç·¨ç¢¼èˆ‡è§£ç¢¼"><a class="header" href="#å•é¡Œçš„ç·¨ç¢¼èˆ‡è§£ç¢¼">å•é¡Œçš„ç·¨ç¢¼èˆ‡è§£ç¢¼</a></h3>
<p>å°æ–¼è©²å•é¡Œï¼Œå¯ä»¥é¸å–å¾ˆå¤šä¸åŒçš„ç·¨ç¢¼æ–¹å¼ã€‚æœ¬æ–‡è¨ˆç•«æ¡ç”¨äºŒé€²åˆ¶ç·¨ç¢¼ï¼Œç²¾åº¦è¦æ±‚åˆ°6ä½ï¼Œé‚£éº¼é¦–å…ˆæ‡‰ç•¶ç¢ºå®šç·¨ç¢¼çš„é•·åº¦èˆ‡è§£ç¢¼æ–¹å¼ã€‚ç”±æ–¼æœ‰ï¼š
<img src="https://math.jianshu.com/math?formula=2%5E%7B25%7D%3C60*10%5E6%3C2%5E%7B26%7D" alt="2^{25}&lt;60*10^6&lt;2^{26}" />
æ‰€ä»¥æˆ‘å€‘éœ€è¦çš„äºŒé€²åˆ¶ç·¨ç¢¼é•·åº¦ç‚º26ã€‚</p>
<h2 id="åˆ©ç”¨deapè‡ªå¸¶æ¼”ç®—æ³•æ±‚è§£"><a class="header" href="#åˆ©ç”¨deapè‡ªå¸¶æ¼”ç®—æ³•æ±‚è§£">åˆ©ç”¨DEAPè‡ªå¸¶æ¼”ç®—æ³•æ±‚è§£</a></h2>
<h3 id="deapè‡ªå¸¶çš„é€²åŒ–æ¼”ç®—æ³•ä»‹ç´¹"><a class="header" href="#deapè‡ªå¸¶çš„é€²åŒ–æ¼”ç®—æ³•ä»‹ç´¹">DEAPè‡ªå¸¶çš„é€²åŒ–æ¼”ç®—æ³•ä»‹ç´¹</a></h3>
<p>DEAPè‡ªå¸¶çš„æ¼”ç®—æ³•éƒ½æ¯”è¼ƒåŸºç¤ï¼Œé€šå¸¸å¯ä»¥ç”¨ä¾†æ¸¬è©¦å•é¡Œæè¿°ã€ç·¨ç¢¼æ–¹å¼å’Œäº¤å‰çªè®Šæ“ä½œçµ„åˆçš„æœ‰æ•ˆæ€§ã€‚éœ€è¦æ¯”è¼ƒè¤‡é›œçš„é€²åŒ–æ¼”ç®—æ³•æ™‚ï¼Œå¯ä»¥é€šéåœ¨å·²ç¶“æœ‰çš„ç®—å­ä¸Šé€²è¡Œæ“´å……ã€‚</p>
<div class="table-wrapper"><table><thead><tr><th>æ¼”ç®—æ³•</th><th>æè¿°</th></tr></thead><tbody>
<tr><td>eaSimple</td><td>ç°¡å–®é€²åŒ–æ¼”ç®—æ³•</td></tr>
<tr><td>eaMuPlusLambda</td><td><img src="https://math.jianshu.com/math?formula=(%5Cmu%2B%5Clambda)" alt="(\mu+\lambda)" />é€²åŒ–æ¼”ç®—æ³•</td></tr>
<tr><td>eaMuCommaLambda</td><td><img src="https://math.jianshu.com/math?formula=(%5Cmu%2C%5Clambda)" alt="(\mu,\lambda)" />é€²åŒ–æ¼”ç®—æ³•</td></tr>
</tbody></table>
</div>
<p><em>ç°¡å–®é€²åŒ–æ¼”ç®—æ³•  ï¼š</em><code>deap.algorithms.eaSimple</code></p>
<p>DEAPä¸­é ç½®çš„ç°¡å–®é€²åŒ–æ¼”ç®—æ³•æµç¨‹æè¿°å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ ¹æ“šå·¥å…·ç®±ä¸­è¨»å†Šçš„<code>toolbox.evaluate</code>è©•åƒ¹æ—ç¾¤</li>
<li>æ ¹æ“šå·¥å…·ç®±ä¸­è¨»å†Šçš„<code>toolbox.select</code>é¸æ“‡èˆ‡çˆ¶ä»£ç›¸åŒå€‹æ•¸çš„è‚²ç¨®å€‹é«”</li>
<li>åœ¨æ—ç¾¤ä¸­é€²è¡Œç¬¬ä¸€æ¬¡å¾ªç’°ï¼Œç”¨å·¥å…·ç®±ä¸­è¨»å†Šçš„<code>toolbox.mate</code>é€²è¡Œé…ç¨®ï¼Œä¸¦<u>ç”¨ç”Ÿæˆçš„å…©å€‹å­ä»£æ›¿æ›å°æ‡‰çˆ¶ä»£</u></li>
<li>åœ¨æ—ç¾¤ä¸­é€²è¡Œç¬¬äºŒæ¬¡å¾ªç’°ï¼Œç”¨å·¥å…·ç®±ä¸­è¨»å†Šçš„<code>toolbox.mutate</code>é€²è¡Œè®Šç•°ï¼Œç”¨<u>è®Šç•°å¾Œçš„å­ä»£æ›¿æ›å°æ‡‰çˆ¶ä»£</u></li>
<li>å¾1é–‹å§‹é‡è¤‡å¾ªç’°ï¼Œç›´åˆ°é”åˆ°è¨­å®šçš„è¿­ä»£æ¬¡æ•¸</li>
</ol>
<p>éœ€è¦æ³¨æ„çš„æ˜¯åœ¨é€™å€‹éç¨‹ä¸­ï¼Œç”Ÿæˆå­ä»£æœ‰å››ç¨®æƒ…æ³ï¼šå—åˆ°é…ç¨®å½±éŸ¿ï¼›å—åˆ°è®Šç•°å½±éŸ¿ï¼›æ—¢å—åˆ°é…ç¨®ä¹Ÿå—åˆ°è®Šç•°å½±éŸ¿ï¼›æ—¢ä¸å—é…ç¨®å½±éŸ¿ä¹Ÿä¸å—è®Šç•°å½±éŸ¿ã€‚</p>
<p>å°æ‡‰çš„å½ç¨‹å¼ç¢¼å¯ä»¥è¡¨è¿°ç‚ºï¼š</p>
<pre><code class="language-python">evaluate(population)
for g in range(ngen):
    population = select(population, len(population))
    offspring = varAnd(population, toolbox, cxpb, mutpb)
    evaluate(offspring)
    population = offspring
</code></pre>
<p><em><img src="https://math.jianshu.com/math?formula=(%5Cmu%2B%5Clambda)" alt="(\mu+\lambda)" />é€²åŒ–æ¼”ç®—æ³•ï¼š</em><code>deap.algorithms.eaMuPlusLambda</code></p>
<p>è©²æ¼”ç®—æ³•çš„æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ ¹æ“šå·¥å…·ç®±ä¸­è¨»å†Šçš„<code>toolbox.evaluate</code>è©•åƒ¹æ—ç¾¤</li>
<li>åœ¨æ—ç¾¤ä¸­é€²è¡Œå¾ªç’°ï¼Œåœ¨æ¯æ¬¡å¾ªç’°ä¸­ï¼Œéš¨æ©Ÿé¸æ“‡crossoverï¼Œmutationå’Œreproductionä¸‰è€…ä¹‹ä¸€ï¼šå¦‚æœé¸æ“‡åˆ°crossoverï¼Œé‚£éº¼éš¨æ©Ÿé¸æ“‡2å€‹å€‹é«”ï¼Œç”¨å·¥å…·ç®±ä¸­è¨»å†Šçš„<code>toolbox.mate</code>é€²è¡Œé…ç¨®ï¼Œ<u>å°‡ç”Ÿæˆçš„ç¬¬ä¸€å€‹å­ä»£åŠ å…¥åˆ°å¾Œä»£åˆ—è¡¨ä¸­ï¼Œç¬¬äºŒå€‹å­ä»£ä¸Ÿæ£„</u>ï¼›å¦‚æœé¸æ“‡åˆ°mutationï¼Œç”¨å·¥å…·ç®±ä¸­è¨»å†Šçš„<code>toolbox.mutate</code>é€²è¡Œè®Šç•°ï¼Œ<u>å°‡è®Šç•°å¾Œçš„å­ä»£åŠ å…¥åˆ°å¾Œä»£åˆ—è¡¨ä¸­</u>ï¼›å¦‚æœé¸æ“‡åˆ°reproductionï¼Œéš¨æ©Ÿé¸æ“‡ä¸€å€‹å€‹é«”ï¼Œ<u>å°‡å…¶è¤‡è£½åŠ å…¥åˆ°å¾Œä»£åˆ—è¡¨ä¸­</u></li>
<li>æ ¹æ“šå·¥å…·ç®±ä¸­è¨»å†Šçš„<code>toolbox.select</code>ï¼Œåœ¨<u>çˆ¶ä»£+å­ä»£</u>ä¸­é¸æ“‡çµ¦å®šæ•¸é‡çš„å€‹é«”ä½œç‚ºå­ä»£</li>
<li>å¾1é–‹å§‹é‡è¤‡å¾ªç’°ï¼Œç›´åˆ°é”åˆ°è¨­å®šçš„è¿­ä»£æ¬¡æ•¸</li>
</ol>
<p>æ³¨æ„åœ¨é€™å€‹å­ä»£ç”Ÿæˆçš„éç¨‹ä¸­ï¼Œå­ä»£<strong>ä¸æœƒåŒæ™‚å—åˆ°è®Šç•°å’Œé…ç¨®å½±éŸ¿</strong>ã€‚</p>
<p>å°æ‡‰çš„å½ç¨‹å¼ç¢¼å¯ä»¥è¡¨è¿°ç‚ºï¼š</p>
<pre><code class="language-python">evaluate(population)
for g in range(ngen):
    offspring = varOr(population, toolbox, lambda_, cxpb, mutpb)
    evaluate(offspring)
    population = select(population + offspring, mu)
</code></pre>
<p><em><img src="https://math.jianshu.com/math?formula=(%5Cmu%2C%5Clambda)" alt="(\mu,\lambda)" />é€²åŒ–æ¼”ç®—æ³•ï¼š</em><code>deap.algorithms.eaMuCommaLambda</code></p>
<p>èˆ‡<img src="https://math.jianshu.com/math?formula=(%5Cmu%2B%5Clambda)" alt="(\mu+\lambda)" />åŸºæœ¬ç›¸åŒï¼Œå”¯ä¸€çš„å€åˆ¥åœ¨æ–¼ç”Ÿæˆå­ä»£æ—ç¾¤æ™‚ï¼Œåªåœ¨ç”¢ç”Ÿçš„å­ä»£ä¸­é¸æ“‡ï¼Œè€Œä¸Ÿæ£„æ‰€æœ‰çˆ¶ä»£ã€‚</p>
<p>å°æ‡‰çš„å½ç¨‹å¼ç¢¼å¯ä»¥è¡¨è¿°ç‚ºï¼š</p>
<pre><code class="language-python">evaluate(population)
for g in range(ngen):
    offspring = varOr(population, toolbox, lambda_, cxpb, mutpb)
    evaluate(offspring)
    population = select(offspring, mu)
</code></pre>
<h3 id="å‘¼å«deapè‡ªå¸¶çš„é€²åŒ–æ¼”ç®—æ³•"><a class="header" href="#å‘¼å«deapè‡ªå¸¶çš„é€²åŒ–æ¼”ç®—æ³•">å‘¼å«DEAPè‡ªå¸¶çš„é€²åŒ–æ¼”ç®—æ³•</a></h3>
<p>åœ¨å‘¼å«DEAPè‡ªå¸¶çš„æ¼”ç®—æ³•æ™‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±æ–¼å…§å»ºæ¼”ç®—æ³•å‘¼å«çš„aliaså·²ç¶“æå‰çµ¦å®šï¼Œå› æ­¤æˆ‘å€‘åœ¨registerçš„æ™‚å€™ï¼Œéœ€è¦æŒ‰ç…§çµ¦å®šåç¨±è¨»å†Šã€‚</p>
<p>ä¾‹å¦‚<code>toolbox.register('crossover', tools.cxUniform)</code>å°±ä¸èƒ½è¢«å…§å»ºæ¼”ç®—æ³•è­˜åˆ¥ï¼Œè€Œæ‡‰ç•¶æŒ‰ç…§è¦æ±‚ï¼Œå‘½åç‚ºmateï¼Œä¸¦ä¸”é¡¯ç¤ºçµ¦å‡ºäº¤å‰æ©Ÿç‡ï¼š <code>toolbox.register('mate', tools.cxUniform, indpb = 0.5)</code></p>
<p>æŒ‰ç…§è¦æ±‚ï¼Œä½¿ç”¨é ç½®çš„æ¼”ç®—æ³•éœ€è¦è¨»å†Šçš„å·¥å…·æœ‰ï¼š</p>
<p><code>toolbox.evaluate</code>ï¼šè©•åƒ¹å‡½æ•¸</p>
<p><code>toolbox.select</code>ï¼šè‚²ç¨®é¸æ“‡</p>
<p><code>toolbox.mate</code>ï¼šäº¤å‰æ“ä½œ</p>
<p><code>toolbox.mutate</code>ï¼šçªè®Šæ“ä½œ</p>
<h3 id="ç¨‹å¼ç¢¼èˆ‡æ¸¬è©¦"><a class="header" href="#ç¨‹å¼ç¢¼èˆ‡æ¸¬è©¦">ç¨‹å¼ç¢¼èˆ‡æ¸¬è©¦</a></h3>
<pre><code class="language-python">from deap import algorithms, base, creator, tools
from scipy.stats import bernoulli
import numpy as np
import random

random.seed(42)  # ç¢ºä¿å¯ä»¥å¾©ç¾çµæœ

# æè¿°å•é¡Œ
creator.create("FitnessMax", base.Fitness, weights=(1.0,))  # å–®ç›®æ¨™ï¼Œæœ€å¤§å€¼å•é¡Œ
creator.create("Individual", list, fitness=creator.FitnessMax)  # ç·¨ç¢¼ç¹¼æ‰¿listé¡

# å€‹é«”ç·¨ç¢¼
GENE_LENGTH = 26  # éœ€è¦26ä½ç·¨ç¢¼

toolbox = base.Toolbox()
toolbox.register("binary", bernoulli.rvs, 0.5)  # è¨»å†Šä¸€å€‹Binaryçš„aliasï¼ŒæŒ‡å‘scipy.statsä¸­çš„bernoulli.rvsï¼Œæ©Ÿç‡ç‚º0.5
toolbox.register("individual", tools.initRepeat, creator.Individual, toolbox.binary, n=GENE_LENGTH)  # ç”¨tools.initRepeatç”Ÿæˆé•·åº¦ç‚ºGENE_LENGTHçš„Individual

# è©•åƒ¹å‡½æ•¸
def decode(individual):
   num = int("".join([str(_) for _ in individual]), 2)  # è§£ç¢¼åˆ°10é€²åˆ¶
   x = -30 + (num / (2**26 - 1)) * 60  # å°æ‡‰å›-30ï¼Œ30å€é–“
   return x

def eval(individual):
   x = decode(individual)
   return (((x**2 + x) * np.cos(2 * x) + x**2 + x),)

# ç”Ÿæˆåˆå§‹æ—ç¾¤
N_POP = 100  # æ—ç¾¤ä¸­çš„å€‹é«”æ•¸é‡
toolbox.register("population", tools.initRepeat, list, toolbox.individual)
pop = toolbox.population(n=N_POP)

# åœ¨å·¥å…·ç®±ä¸­è¨»å†Šéºå‚³æ¼”ç®—æ³•éœ€è¦çš„å·¥å…·
toolbox.register("evaluate", eval)
toolbox.register("select", tools.selTournament, tournsize=2)  # è¨»å†ŠTournsizeç‚º2çš„éŒ¦æ¨™è³½é¸æ“‡
toolbox.register("mate", tools.cxUniform, indpb=0.5)  # æ³¨æ„é€™è£¡çš„indpbéœ€è¦é¡¯ç¤ºçµ¦å‡º
toolbox.register("mutate", tools.mutFlipBit, indpb=0.5)

# è¨»å†Šè¨ˆç®—éç¨‹ä¸­éœ€è¦è¨˜éŒ„çš„è³‡æ–™
stats = tools.Statistics(key=lambda ind: ind.fitness.values)
stats.register("avg", np.mean)
stats.register("std", np.std)
stats.register("min", np.min)
stats.register("max", np.max)

# å‘¼å«DEAPå…§å»ºçš„æ¼”ç®—æ³•
resultPop, logbook = algorithms.eaSimple(pop, toolbox, cxpb=0.5, mutpb=0.2, ngen=50, stats=stats, verbose=False)

# è¼¸å‡ºè¨ˆç®—éç¨‹
logbook.header = "gen", "nevals", "avg", "std", "min", "max"
print(logbook)
</code></pre>
<p>è¨ˆç®—éç¨‹è¼¸å‡ºï¼ˆåœ¨ä¿å­˜çš„çµæœä¸­ï¼Œnevalsä»£è¡¨è©²è¿­ä»£ä¸­å‘¼å«evaluateå‡½æ•¸çš„æ¬¡æ•¸ï¼›å¦å¤–ä¹Ÿå¯ä»¥ä»¤<code>verbose=True</code>ç›´æ¥åœ¨è¿­ä»£ä¸­è¼¸å‡ºè¨ˆç®—éç¨‹ï¼‰ï¼š</p>
<pre><code class="language-css">gen nevals  avg     std     min         max    
0   100     279.703 373.129 -0.406848   1655.79
1   53      458.499 416.789 0.154799    1655.79
2   59      482.595 461.698 0.00177335  1655.79
3   52      540.527 472.762 -0.0472813  1655.79
4   59      580.49  514.773 0.0557206   1655.79
5   62      693.469 576.465 -0.393899   1655.79
6   71      875.931 609.527 0.000831826 1656.52
7   62      946.418 608.838 0.221249    1656.52
8   67      881.358 636.562 0.06291     1657.42
9   55      937.741 636.038 0.231018    1657.42
10  59      942.68  662.51  0.00094194  1657.42
11  50      990.668 641.284 1.36174     1657.42
12  49      1056.75 661.558 -0.392898   1657.42
13  60      1254.48 596.379 -0.374487   1657.42
14  56      1196.38 667.938 0.0073118   1657.42
15  61      1255.25 655.171 0.0130561   1657.42
16  57      1258.77 639.582 0.20504     1657.42
17  72      1328.39 587.822 11.0895     1657.42
18  66      1331.57 610.036 0.298211    1657.42
19  67      1297.66 632.126 -0.231748   1657.42
20  64      1246.8  610.818 0.0335697   1657.42
21  58      1099.19 690.046 0.0503046   1657.42
22  60      1068.91 664.985 0.0591922   1657.42
23  49      1243.47 612.2   0.00160086  1657.42
24  47      1231.47 658.94  -0.202828   1657.42
25  57      1233.48 657.109 0.0262275   1657.42
26  53      1410.59 534.754 0.877048    1657.42
27  71      1162.42 704.536 -0.257036   1657.42
28  52      1259.11 639.283 7.61025     1657.42
29  61      1312.6  615.661 1.40555     1657.42
30  56      1251.42 651.842 -0.0276344  1657.42
31  68      1200.02 678.454 0.00783006  1657.42
32  58      1198.2  675.925 -0.0726268  1657.42
33  61      1196.74 679.65  -0.135946   1657.42
34  60      1236.89 635.381 0.0133596   1657.42
35  50      1328.18 600.071 3.61031     1657.42
36  40      1357.62 599.045 -0.367127   1657.42
37  51      1299.96 633.932 -0.0674078  1657.42
38  48      1324.36 610.043 0.95255     1657.42
39  55      1323.23 566.232 0.987755    1657.42
40  58      1282.45 640.85  0.1648      1657.42
41  54      1335.26 593.431 -0.317349   1657.42
42  53      1330.78 593.921 0.0287983   1657.42
43  60      1332.02 597.941 1.32028     1657.42
44  65      1239.09 645.678 0.00144193  1657.42
45  71      1287.96 625.504 -0.372238   1657.42
46  51      1397.84 520.398 0.0150745   1657.42
47  66      1311.83 591.556 0.258935    1657.42
48  66      1160.49 694.509 0.163166    1657.42
49  50      1271.95 642.396 0.000437735 1657.42
50  61      1288.53 619.33  0.149628    1657.42
</code></pre>
<p>æŸ¥çœ‹çµæœï¼š</p>
<pre><code class="language-python"># è¼¸å‡ºæœ€å„ªè§£
index = np.argmax([ind.fitness for ind in resultPop])
x = decode(resultPop[index]) # è§£ç¢¼
print('ç•¶å‰æœ€å„ªè§£ï¼š'+ str(x) + '\tå°æ‡‰çš„å‡½æ•¸å€¼ç‚ºï¼š' + str(resultPop[index].fitness))
</code></pre>
<p>çµæœï¼š</p>
<pre><code class="language-css">ç•¶å‰æœ€å„ªè§£ï¼š28.308083985866368    å°æ‡‰çš„å‡½æ•¸å€¼ç‚ºï¼š(1657.4220524080563,)
</code></pre>
<p>å¯ä»¥çœ‹åˆ°éºå‚³æ¼”ç®—æ³•æˆåŠŸé¿é–‹äº†å±€éƒ¨æœ€å„ªï¼Œçµ¦å‡ºçš„çµæœéå¸¸æ¥è¿‘å…¨åŸŸæœ€å„ªè§£28.309äº†ã€‚</p>
<h2 id="è‡ªè¡Œç·¨å¯«æ¼”ç®—æ³•æ±‚è§£"><a class="header" href="#è‡ªè¡Œç·¨å¯«æ¼”ç®—æ³•æ±‚è§£">è‡ªè¡Œç·¨å¯«æ¼”ç®—æ³•æ±‚è§£</a></h2>
<h3 id="ç¨‹å¼ç¢¼èˆ‡æ¸¬è©¦-1"><a class="header" href="#ç¨‹å¼ç¢¼èˆ‡æ¸¬è©¦-1">ç¨‹å¼ç¢¼èˆ‡æ¸¬è©¦</a></h3>
<p>è‡ªè¡Œç·¨å¯«é€šå¸¸ä¾†èªªæœƒéœ€è¦æ¯”å…§å»ºå‡½æ•¸æ›´é•·çš„ç¯‡å¹…ï¼Œä½†æ˜¯ä¹Ÿèƒ½ç²å¾—æ›´å¤§çš„è‡ªç”±åº¦ã€‚ä¸‹é¢æ˜¯ä¸€å€‹ç”¨éŒ¦æ¨™è³½äº¤å‰ã€ä½ç¿»è½‰çªè®Šæ±‚è§£åŒæ¨£å•é¡Œçš„ä¾‹å­ï¼š</p>
<pre><code class="language-python">import random
import numpy as np
from deap import creator, base, tools
from scipy.stats import bernoulli

# è¨­å®šéš¨æ©Ÿç¨®å­ä»¥ç¢ºä¿çµæœå¯å¾©ç¾
random.seed(42)

# å®šç¾©å•é¡Œç‚ºå–®ç›®æ¨™æœ€å¤§åŒ–
creator.create("FitnessMax", base.Fitness, weights=(1.0,))
creator.create("Individual", list, fitness=creator.FitnessMax)

# å®šç¾©åŸºå› ç·¨ç¢¼é•·åº¦å’Œå·¥å…·ç®±
GENE_LENGTH = 26
toolbox = base.Toolbox()
toolbox.register("binary", bernoulli.rvs, 0.5)
toolbox.register(
    "individual", tools.initRepeat, creator.Individual, toolbox.binary, n=GENE_LENGTH
)


# å®šç¾©é©æ‡‰åº¦è©•åƒ¹å‡½æ•¸
def eval(individual):
    num = int("".join([str(_) for _ in individual]), 2)
    x = -30 + num * 60 / (2**26 - 1)
    return (((x**2 + x) * np.cos(2 * x) + x**2 + x),)


toolbox.register("evaluate", eval)

# åˆå§‹åŒ–æ—ç¾¤
N_POP = 100
toolbox.register("population", tools.initRepeat, list, toolbox.individual)
pop = toolbox.population(n=N_POP)

# è©•åƒ¹åˆå§‹æ—ç¾¤é©æ‡‰åº¦
fitnesses = map(toolbox.evaluate, pop)
for ind, fit in zip(pop, fitnesses):
    ind.fitness.values = fit

# è¨­å®šéºå‚³æ¼”ç®—æ³•åƒæ•¸
N_GEN = 50  # æœ€å¤§ä»£æ•¸
CXPB = 0.5  # äº¤å‰æ¦‚ç‡
MUTPB = 0.2  # çªè®Šæ¦‚ç‡

# è¨»å†Šéºå‚³é‹ç®—å­
toolbox.register("tourSel", tools.selTournament, tournsize=2)
toolbox.register("crossover", tools.cxUniform)
toolbox.register("mutate", tools.mutFlipBit)

# è¨­å®šè¨˜éŒ„æ¼”ç®—æ³•ç‹€æ…‹
stats = tools.Statistics(key=lambda ind: ind.fitness.values)
stats.register("avg", np.mean)
stats.register("std", np.std)
stats.register("min", np.min)
stats.register("max", np.max)
logbook = tools.Logbook()

# é–‹å§‹éºå‚³è¿­ä»£
for gen in range(N_GEN):

    # é¸æ“‡è‚²ç¨®æ—ç¾¤
    selectedTour = toolbox.tourSel(pop, N_POP)
    selectedInd = list(map(toolbox.clone, selectedTour))

    # äº¤å‰
    for child1, child2 in zip(selectedInd[::2], selectedInd[1::2]):
        if random.random() &lt; CXPB:
            toolbox.crossover(child1, child2, 0.5)
            del child1.fitness.values
            del child2.fitness.values

    # çªè®Š
    for mutant in selectedInd:
        if random.random() &lt; MUTPB:
            toolbox.mutate(mutant, 0.5)
            del mutant.fitness.values

    # é‡æ–°è©•åƒ¹è¢«æ”¹è®Šå€‹é«”
    invalid_ind = [ind for ind in selectedInd if not ind.fitness.valid]
    fitnesses = map(toolbox.evaluate, invalid_ind)
    for ind, fit in zip(invalid_ind, fitnesses):
        ind.fitness.values = fit

    # æ›´æ–°æ—ç¾¤
    pop[:] = selectedInd

    # è¨˜éŒ„ç•¶ä»£ç‹€æ…‹
    record = stats.compile(pop)
    logbook.record(gen=gen, **record)

# è¼¸å‡ºæ¼”ç®—éç¨‹è¨˜éŒ„
logbook.header = "gen", "avg", "std", "min", "max"
print(logbook)
</code></pre>
<p>è¨ˆç®—éç¨‹è¼¸å‡ºï¼š</p>
<pre><code class="language-css">gen avg     std     min         max    
0   453.042 403.079 0.0541052   1533.87
1   494.408 419.628 0.860502    1626.41
2   543.773 465.404 -0.11475    1626.41
3   551.903 496.022 -0.0620545  1626.41
4   590.134 538.303 -0.0423912  1626.41
5   552.925 523.084 -0.348284   1544.09
6   580.065 532.083 0.000270764 1544.09
7   610.387 567.527 0.0294394   1574.38
8   667.447 556.671 -0.16236    1525.22
9   722.472 551.263 -0.39705    1524.89
10  698.512 548.705 0.0240564   1542.15
11  748.871 585.757 -0.405741   1542.15
12  717.023 580.996 0.00352434  1542.15
13  701.257 575.739 0.0797344   1542.15
14  720.325 593.033 -0.322945   1542.15
15  705.138 612.55  0.846468    1627.42
16  725.673 616.072 0.0259165   1641.05
17  683.245 609.737 -0.0759172  1630.68
18  613.711 613.64  -0.0448713  1627.25
19  648.058 579.645 -0.319345   1648.62
20  655.742 570.835 -0.247798   1613.19
21  692.022 541.547 -0.160214   1543.01
22  737.027 557.312 0.175429    1543.01
23  825.825 595.845 -0.403073   1542.95
24  831.611 600.052 -0.397646   1645.6 
25  991.433 564.623 0.095375    1641.16
26  842.529 641.466 -0.406455   1641.16
27  906.907 622.024 4.64596     1641.16
28  791.317 633.509 -0.234101   1641.16
29  896.355 598.829 0.339045    1641.16
30  781.726 625.868 0.0195279   1647.45
31  774.75  645.621 0.134108    1647.45
32  789.524 631.395 -0.388413   1647.45
33  985.497 631.871 0.00160795  1654.93
34  990.838 662.935 0.00156172  1657.21
35  1013.72 695.145 -0.266597   1652.41
36  1073.47 697.062 -0.0762617  1652.32
37  1118.98 667.797 0.508095    1652.32
38  1219.86 602.05  -0.256761   1652.39
39  1247.71 628.152 0.00243654  1652.39
40  1290.97 613.243 -0.374519   1652.39
41  1298.95 607.829 0.0630793   1652.41
42  1309.81 599.807 0.0235305   1652.47
43  1214.13 658.237 0.0027164   1653.03
44  1244.05 656.009 -0.329403   1653.13
45  1369.44 543.688 0.000339235 1653.05
46  1283.87 602.252 0.204417    1653.19
47  1157.28 686.628 0.00359533  1653.19
48  1284.39 630.622 0.0769602   1653.19
49  1301.76 608.879 0.0775233   1656.45
</code></pre>
<p>æŸ¥çœ‹çµæœï¼š</p>
<pre><code class="language-python"># è¼¸å‡ºæœ€å„ªè§£
index = np.argmax([ind.fitness for ind in pop])
x = decode(resultPop[index]) # è§£ç¢¼
print('ç•¶å‰æœ€å„ªè§£ï¼š'+ str(x) + '\tå°æ‡‰çš„å‡½æ•¸å€¼ç‚ºï¼š' + str(pop[index].fitness))
</code></pre>
<p>çµæœè¼¸å‡ºï¼š</p>
<pre><code class="language-css">ç•¶å‰æœ€å„ªè§£ï¼š28.39357492914162 å°æ‡‰çš„å‡½æ•¸å€¼ç‚ºï¼š(1656.4466617035953,)
</code></pre>
<h3 id="çµæœå¯è¦–åŒ–"><a class="header" href="#çµæœå¯è¦–åŒ–">çµæœå¯è¦–åŒ–</a></h3>
<pre><code class="language-python"># çµæœå¯è¦–åŒ–
import matplotlib.pyplot as plt

gen = logbook.select('gen') # ç”¨selectæ–¹æ³•å¾logbookä¸­æå–è¿­ä»£æ¬¡æ•¸
fit_maxs = logbook.select('max')
fit_average = logbook.select('avg')

fig = plt.figure()
ax = fig.add_subplot(111)
ax.plot(gen, fit_maxs, 'b-', linewidth = 2.0, label='Max Fitness')
ax.plot(gen, fit_average, 'r-', linewidth = 2.0, label='Average Fitness')
ax.legend(loc='best')
ax.set_xlabel('Generation')
ax.set_ylabel('Fitness')

fig.tight_layout()
fig.savefig('Generation_Fitness.png')
</code></pre>

                        <script src="https://utteranc.es/client.js"
                            repo="imxood/imxood.github.io"
                            issue-term="pathname"
                            theme="boxy-light"
                            crossorigin="anonymous"
                            async>
                        </script>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../ml/æ¢¯åº¦æœ€ä½³è§£ç›¸é—œç®—æ³•.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../ml/GA.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../ml/æ¢¯åº¦æœ€ä½³è§£ç›¸é—œç®—æ³•.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../ml/GA.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>



        <script type="text/javascript">
            window.playground_line_numbers = true;
        </script>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>

        <script src="../ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="../editor.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mode-rust.js" type="text/javascript" charset="utf-8"></script>
        <script src="../theme-dawn.js" type="text/javascript" charset="utf-8"></script>
        <script src="../theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>

        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="../theme/custom/mermaid.min.js"></script>
        <script type="text/javascript" src="../theme/custom/mermaid-init.js"></script>


    </body>
</html>
